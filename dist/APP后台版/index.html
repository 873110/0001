<!doctype html><html lang="zh-CN"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Tavern App</title><style>.splash-screen[data-v-9ede8fa6]{width:100%;height:100%;background:linear-gradient(135deg,#ffc300 0%,#ff9500 100%)}[data-theme='dark']{background:linear-gradient(135deg,#0f172a 0%,#020617 100%)}.splash-screen[data-v-9ede8fa6]{display:flex;flex-direction:column;justify-content:space-between;align-items:center;position:relative;overflow:hidden;animation:fadeIn-9ede8fa6 .8s ease-out;margin:0 auto}.splash-screen .bg-decoration[data-v-9ede8fa6]{position:absolute;inset:0;pointer-events:none}.splash-screen .bg-decoration .circle-bg[data-v-9ede8fa6]{position:absolute;border-radius:50%;background:radial-gradient(circle,rgba(255,255,255,0.1) 0%,transparent 70%)}[data-theme='dark']{background:radial-gradient(circle,rgba(59,130,246,0.1) 0%,transparent 70%)}.splash-screen .bg-decoration .circle-bg[data-v-9ede8fa6]{animation:float-9ede8fa6 6s ease-in-out infinite}.splash-screen .bg-decoration .circle-bg.circle-1[data-v-9ede8fa6]{width:300px;height:300px;top:-100px;right:-100px;animation-delay:0s}.splash-screen .bg-decoration .circle-bg.circle-2[data-v-9ede8fa6]{width:200px;height:200px;bottom:-50px;left:-50px;animation-delay:2s}.splash-screen .bg-decoration .circle-bg.circle-3[data-v-9ede8fa6]{width:150px;height:150px;top:20%;left:10%;animation-delay:4s}.splash-screen .splash-content[data-v-9ede8fa6]{flex:1;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;padding:0 clamp(16px,8vw,40px);z-index:1}.splash-screen .splash-content .logo-section[data-v-9ede8fa6]{margin-bottom:60px;animation:slideInDown-9ede8fa6 1s ease-out .2s both}.splash-screen .splash-content .logo-section .logo-container[data-v-9ede8fa6]{text-align:center}.splash-screen .splash-content .logo-section .logo-container .logo-icon[data-v-9ede8fa6]{width:100px;height:100px;background:hsla(0,0%,100%,.95)}[data-theme='dark']{background:rgba(30,41,59,.8);backdrop-filter:blur(10px);border:1px solid rgba(59,130,246,.3)}.splash-screen .splash-content .logo-section .logo-container .logo-icon[data-v-9ede8fa6]{border-radius:50%;display:flex;justify-content:center;align-items:center;margin:0 auto 20px;box-shadow:0 8px 32px rgba(0,0,0,.15);animation:logoBounce-9ede8fa6 2s ease-in-out infinite}.splash-screen .splash-content .logo-section .logo-container .logo-icon i[data-v-9ede8fa6]{font-size:2.5rem;background:linear-gradient(135deg,#ff6b35,#ff9500)}[data-theme='dark']{background:linear-gradient(135deg,#60a5fa,#a855f7)}.splash-screen .splash-content .logo-section .logo-container .logo-icon i[data-v-9ede8fa6]{-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text}.splash-screen .splash-content .logo-section .logo-container .logo-text .brand-name[data-v-9ede8fa6]{font-size:2.5rem;font-weight:900;color:#fff;margin:0 0 8px 0;text-shadow:0 2px 8px rgba(0,0,0,.2);letter-spacing:2px}.splash-screen .splash-content .logo-section .logo-container .logo-text .brand-subtitle[data-v-9ede8fa6]{font-size:.9rem;color:hsla(0,0%,100%,.9);margin:0;font-weight:500;letter-spacing:1px}.splash-screen .splash-content .slogan-section[data-v-9ede8fa6]{text-align:center;animation:slideInUp-9ede8fa6 1s ease-out .6s both}.splash-screen .splash-content .slogan-section .main-slogan[data-v-9ede8fa6]{font-size:1.3rem;font-weight:500;color:#fff;margin:0 0 30px 0;line-height:1.6;text-shadow:0 2px 4px rgba(0,0,0,.15);letter-spacing:.5px;max-width:280px}.splash-screen .splash-content .slogan-section .slogan-decoration[data-v-9ede8fa6]{display:flex;align-items:center;justify-content:center;gap:16px}.splash-screen .splash-content .slogan-section .slogan-decoration .decoration-line[data-v-9ede8fa6]{width:40px;height:2px;background:hsla(0,0%,100%,.6);border-radius:1px}.splash-screen .splash-content .slogan-section .slogan-decoration i[data-v-9ede8fa6]{color:hsla(0,0%,100%,.8);font-size:1rem;animation:sparkle-9ede8fa6 2s ease-in-out infinite}.splash-screen .footer-section[data-v-9ede8fa6]{width:100%;padding:0 clamp(16px,8vw,40px) calc(28px + env(safe-area-inset-bottom));display:flex;justify-content:space-between;align-items:center;animation:fadeIn-9ede8fa6 1s ease-out 1s both}.splash-screen .footer-section .version-info span[data-v-9ede8fa6]{color:hsla(0,0%,100%,.7);font-size:.8rem;font-weight:500}.splash-screen .footer-section .skip-button[data-v-9ede8fa6]{display:flex;align-items:center;gap:8px;color:hsla(0,0%,100%,.9);font-size:.9rem;font-weight:500;cursor:pointer;transition:all .3s ease;padding:8px 12px;border-radius:20px;background:hsla(0,0%,100%,.1);backdrop-filter:blur(10px)}.splash-screen .footer-section .skip-button[data-v-9ede8fa6]:hover{background:hsla(0,0%,100%,.2);transform:translateX(4px)}.splash-screen .footer-section .skip-button.fade-out[data-v-9ede8fa6]{opacity:0;transform:translateX(10px)}.splash-screen .footer-section .skip-button i[data-v-9ede8fa6]{font-size:.8rem}.splash-screen .loading-indicator[data-v-9ede8fa6]{position:absolute;bottom:80px;left:50%;transform:translateX(-50%);animation:fadeIn-9ede8fa6 1s ease-out 1.2s both}.splash-screen .loading-indicator .loading-dots[data-v-9ede8fa6]{display:flex;gap:8px}.splash-screen .loading-indicator .loading-dots .dot[data-v-9ede8fa6]{width:8px;height:8px;background:hsla(0,0%,100%,.7);border-radius:50%;animation:loadingDot-9ede8fa6 1.4s ease-in-out infinite}.splash-screen .loading-indicator .loading-dots .dot[data-v-9ede8fa6]:nth-child(1){animation-delay:0s}.splash-screen .loading-indicator .loading-dots .dot[data-v-9ede8fa6]:nth-child(2){animation-delay:.2s}.splash-screen .loading-indicator .loading-dots .dot[data-v-9ede8fa6]:nth-child(3){animation-delay:.4s}@keyframes fadeIn-9ede8fa6{from{opacity:0}to{opacity:1}}@keyframes slideInDown-9ede8fa6{from{opacity:0;transform:translateY(-50px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInUp-9ede8fa6{from{opacity:0;transform:translateY(50px)}to{opacity:1;transform:translateY(0)}}@keyframes logoBounce-9ede8fa6{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}@keyframes sparkle-9ede8fa6{0%,100%{opacity:.7;transform:scale(1)}50%{opacity:1;transform:scale(1.2)}}@keyframes float-9ede8fa6{0%,100%{transform:translateY(0px) rotate(0deg)}50%{transform:translateY(-15px) rotate(5deg)}}@keyframes loadingDot-9ede8fa6{0%,80%,100%{opacity:.3;transform:scale(1)}40%{opacity:1;transform:scale(1.3)}}
.app-view[data-v-fff2c99a]{width:100%;height:100%;display:flex;flex-direction:column;background-color:var(--bg-primary);transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94)}.app-header[data-v-fff2c99a]{background:linear-gradient(135deg,var(--bg-header) 0,var(--bg-header-light) 100%);padding:35px 16px 12px 16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border-color);flex-shrink:0;backdrop-filter:blur(10px);position:relative}.app-header[data-v-fff2c99a]::after{content:"";position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--border-color),transparent)}.app-header .title[data-v-fff2c99a]{font-size:1.3rem;font-weight:700;display:flex;align-items:center;gap:8px;color:var(--text-primary);transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94)}.app-header .title i[data-v-fff2c99a]{color:var(--accent-primary);cursor:pointer;transition:all .25s cubic-bezier(0.34,1.56,0.64,1);padding:4px;border-radius:6px}.app-header .title i[data-v-fff2c99a]:hover{background-color:rgba(255,195,0,.2);transform:scale(1.1) rotate(-5deg);box-shadow:0 1px 2px rgba(0,0,0,.05)}.app-content[data-v-fff2c99a]{flex-grow:1;overflow-y:auto;padding:16px;scrollbar-width:none;-ms-overflow-style:none;scroll-behavior:smooth}.app-content[data-v-fff2c99a]::-webkit-scrollbar{display:none}.category-grid[data-v-fff2c99a]{display:grid;gap:16px;margin-bottom:16px;grid-template-columns:repeat(4,1fr)}@media (max-width:480px){.category-grid[data-v-fff2c99a]{grid-template-columns:repeat(3,1fr)}}@media (min-width:481px)and (max-width:768px){.category-grid[data-v-fff2c99a]{grid-template-columns:repeat(4,1fr)}}@media (min-width:1024px){.category-grid[data-v-fff2c99a]{grid-template-columns:repeat(6,1fr)}}.category-item[data-v-fff2c99a]{text-align:center;cursor:pointer;color:var(--text-primary);font-size:.85rem;display:flex;flex-direction:column;align-items:center;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);position:relative}.category-item[data-v-fff2c99a]::before{content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);width:0;height:0;background:radial-gradient(circle,rgba(255,195,0,0.3),transparent);border-radius:50%;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);z-index:-1}.category-item[data-v-fff2c99a]:active::before{width:80px;height:80px;animation:ripple-fff2c99a .35s cubic-bezier(0.25,0.46,0.45,0.94)}.category-item .icon-wrapper[data-v-fff2c99a]{width:55px;height:55px;background:var(--bg-badge);border-radius:50%;display:flex;justify-content:center;align-items:center;margin-bottom:12px;font-size:1.5rem;color:var(--accent-primary);box-shadow:var(--shadow-sm);transition:all .25s cubic-bezier(0.34,1.56,0.64,1);position:relative;overflow:hidden;border:2px solid rgba(0,0,0,0)}.category-item .icon-wrapper[data-v-fff2c99a]::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.4),transparent);transition:left .35s cubic-bezier(0.25,0.46,0.45,0.94)}.category-item .icon-wrapper[data-v-fff2c99a]:hover::before{left:100%}.category-item:hover .icon-wrapper[data-v-fff2c99a]{transform:scale(1.1) rotate(8deg);box-shadow:var(--shadow-md);background:linear-gradient(135deg,var(--accent-primary) 0,var(--accent-dark) 100%);color:#fff;border-color:var(--border-accent)}.category-item:active .icon-wrapper[data-v-fff2c99a]{transform:scale(0.95) rotate(3deg)}.search-bar-container[data-v-fff2c99a]{display:flex;align-items:center;background:var(--bg-card);border-radius:50px;padding:4px 8px 4px 16px;margin-bottom:16px;box-shadow:var(--shadow-sm);border:1px solid var(--border-accent);transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);position:relative;overflow:hidden}.search-bar-container[data-v-fff2c99a]::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,195,0,0.1),transparent);transition:left .35s cubic-bezier(0.25,0.46,0.45,0.94)}.search-bar-container[data-v-fff2c99a]:focus-within{box-shadow:0 10px 15px rgba(0,0,0,.1),0 0 0 3px var(--border-accent);border-color:var(--accent-primary);transform:translateY(-1px)}.search-bar-container[data-v-fff2c99a]:focus-within::before{left:100%}.search-bar-container:focus-within i[data-v-fff2c99a]{color:var(--accent-primary)}.search-bar-container i[data-v-fff2c99a]{color:var(--text-secondary);transition:color .25s cubic-bezier(0.25,0.46,0.45,0.94)}.search-bar-container input[data-v-fff2c99a]{flex-grow:1;border:none;outline:0;background:rgba(0,0,0,0);padding:8px 12px;font-size:.9rem;color:var(--text-primary);transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94)}.search-bar-container input[data-v-fff2c99a]::placeholder{color:var(--text-secondary);transition:color .25s cubic-bezier(0.25,0.46,0.45,0.94)}.search-bar-container input[data-v-fff2c99a]:focus::placeholder{color:var(--text-placeholder)}.search-bar-container .search-btn[data-v-fff2c99a]{background:linear-gradient(135deg,var(--accent-primary) 0,var(--accent-dark) 100%);color:#fff;border:none;border-radius:50px;padding:8px 16px;font-weight:600;cursor:pointer;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);position:relative;overflow:hidden;box-shadow:0 1px 2px rgba(0,0,0,.05)}.search-bar-container .search-btn[data-v-fff2c99a]::before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:hsla(0,0%,100%,.3);border-radius:50%;transform:translate(-50%,-50%);transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94)}.search-bar-container .search-btn[data-v-fff2c99a]:hover{background:linear-gradient(135deg,var(--accent-dark) 0,#cc9900 100%);transform:translateY(-1px);box-shadow:var(--shadow-md)}.search-bar-container .search-btn[data-v-fff2c99a]:active::before{width:100px;height:100px;animation:ripple-fff2c99a .35s cubic-bezier(0.25,0.46,0.45,0.94)}.search-bar-container .search-btn[data-v-fff2c99a]:active{transform:translateY(0);box-shadow:0 1px 2px rgba(0,0,0,.05)}.slogan-section[data-v-fff2c99a]{margin-bottom:16px;animation:fadeInUp-fff2c99a .8s cubic-bezier(0.25,0.46,0.45,0.94)}.slogan-card[data-v-fff2c99a]{position:relative;background:linear-gradient(135deg,rgba(255,195,0,0.15) 0%,rgba(255,215,64,0.1) 50%,rgba(255,195,0,0.05) 100%);border-radius:24px;padding:24px;box-shadow:0 8px 32px rgba(255,195,0,.2),0 4px 16px rgba(0,0,0,.08),inset 0 1px 0 hsla(0,0%,100%,.3);border:1px solid rgba(255,195,0,.3);overflow:hidden;transition:all .4s cubic-bezier(0.25,0.46,0.45,0.94)}.slogan-card[data-v-fff2c99a]:hover{transform:translateY(-4px);box-shadow:0 16px 48px rgba(255,195,0,.25),0 8px 24px rgba(0,0,0,.12),inset 0 1px 0 hsla(0,0%,100%,.4)}.slogan-card .slogan-bg-decoration[data-v-fff2c99a]{position:absolute;inset:0;pointer-events:none;overflow:hidden}.slogan-card .slogan-bg-decoration .decoration-circle[data-v-fff2c99a]{position:absolute;border-radius:50%;background:radial-gradient(circle,rgba(255,195,0,0.1) 0%,transparent 70%);animation:float-fff2c99a 6s ease-in-out infinite}.slogan-card .slogan-bg-decoration .decoration-circle.circle-1[data-v-fff2c99a]{width:120px;height:120px;top:-30px;right:-30px;animation-delay:0s}.slogan-card .slogan-bg-decoration .decoration-circle.circle-2[data-v-fff2c99a]{width:80px;height:80px;bottom:-20px;left:-20px;animation-delay:2s}.slogan-card .slogan-bg-decoration .decoration-circle.circle-3[data-v-fff2c99a]{width:60px;height:60px;top:50%;right:20%;animation-delay:4s}.slogan-card .slogan-content-wrapper[data-v-fff2c99a]{display:flex;flex-direction:column;gap:20px;position:relative;z-index:1}@media (min-width:600px){.slogan-card .slogan-content-wrapper[data-v-fff2c99a]{flex-direction:row;align-items:center;justify-content:space-between;text-align:left}}.slogan-card .slogan-content[data-v-fff2c99a]{flex:1;text-align:center;display:flex;flex-direction:column;align-items:center;justify-content:center}@media (min-width:600px){.slogan-card .slogan-content[data-v-fff2c99a]{text-align:center;align-items:center;padding-right:20px;border-right:1px solid rgba(255,195,0,.2)}}.slogan-card .slogan-content .slogan-title[data-v-fff2c99a]{margin:0 0 16px 0;line-height:1.2}.slogan-card .slogan-content .slogan-title .title-line[data-v-fff2c99a]{display:block;font-size:1.8rem;font-weight:900;letter-spacing:1px;margin-bottom:8px;position:relative;animation:slideInLeft-fff2c99a .8s cubic-bezier(0.25,0.46,0.45,0.94)}.slogan-card .slogan-content .slogan-title .title-line[data-v-fff2c99a]:last-child{margin-bottom:0}.slogan-card .slogan-content .slogan-title .title-line .text-gradient[data-v-fff2c99a]{background:linear-gradient(135deg,var(--accent-primary) 0%,var(--accent-dark) 100%);-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text;text-shadow:0 2px 8px rgba(255,195,0,.3);position:relative}.slogan-card .slogan-content .slogan-title .title-line .text-gradient[data-v-fff2c99a]::after{content:"";position:absolute;bottom:-2px;left:0;width:100%;height:2px;background:linear-gradient(90deg,transparent,var(--accent-primary),transparent);animation:shimmer-fff2c99a 2s ease-in-out infinite}.slogan-card .slogan-content .slogan-subtitle[data-v-fff2c99a]{margin:0 0 20px 0;font-size:1.05rem;font-weight:500;color:var(--text-primary);display:flex;align-items:center;justify-content:center;gap:8px;animation:fadeIn-fff2c99a 1s ease-out .5s both;letter-spacing:.3px;font-style:italic;text-shadow:0 1px 2px rgba(255,195,0,.1)}@media (min-width:600px){.slogan-card .slogan-content .slogan-subtitle[data-v-fff2c99a]{justify-content:flex-start}}.slogan-card .slogan-content .slogan-subtitle .subtitle-text[data-v-fff2c99a]{opacity:.95;background:linear-gradient(135deg,var(--text-primary) 0%,var(--accent-dark) 100%);-webkit-background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);background-clip:text}.slogan-card .slogan-content .slogan-signature[data-v-fff2c99a]{display:flex;align-items:center;justify-content:center;gap:12px;animation:fadeInUp-fff2c99a 1s ease-out .8s both}@media (min-width:600px){.slogan-card .slogan-content .slogan-signature[data-v-fff2c99a]{justify-content:flex-start}}.slogan-card .slogan-content .slogan-signature .signature-line[data-v-fff2c99a]{width:40px;height:1px;background:linear-gradient(90deg,transparent,var(--accent-primary),transparent)}.slogan-card .slogan-content .slogan-signature .signature-text[data-v-fff2c99a]{display:flex;align-items:center;gap:8px;font-size:.9rem;font-weight:600;color:var(--accent-dark);background:rgba(255,195,0,.1);padding:8px 16px;border-radius:20px;border:1px solid rgba(255,195,0,.2)}.slogan-card .slogan-content .slogan-signature .signature-text i[data-v-fff2c99a]{color:var(--accent-primary);animation:heartbeat-fff2c99a 2s ease-in-out infinite}.slogan-card .slogan-content .slogan-signature .signature-text i[data-v-fff2c99a]:last-child{animation-delay:1s}.slogan-card .announcement-details[data-v-fff2c99a]{margin-top:14px}.slogan-card .announcement-details .announcement-summary[data-v-fff2c99a]{list-style:none;cursor:pointer;-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 14px;border-radius:16px;border:1px solid var(--border-accent);background:hsla(0,0%,100%,.55);box-shadow:var(--shadow-sm)}.slogan-card .announcement-details .announcement-summary .summary-left[data-v-fff2c99a]{display:flex;align-items:center;gap:10px;font-weight:800;color:var(--accent-dark)}.slogan-card .announcement-details .announcement-summary .summary-left i[data-v-fff2c99a]{color:var(--accent-primary)}.slogan-card .announcement-details .announcement-summary .summary-arrow[data-v-fff2c99a]{color:var(--text-secondary);transition:transform .25s ease}.slogan-card .announcement-details .announcement-summary[data-v-fff2c99a]::-webkit-details-marker{display:none}.slogan-card .announcement-details[open] .announcement-summary[data-v-fff2c99a]{border-radius:16px 16px 0 0}.slogan-card .announcement-details[open] .summary-arrow[data-v-fff2c99a]{transform:rotate(180deg)}.slogan-card .announcement-details[open] .announcement-panel[data-v-fff2c99a]{border-top-left-radius:0;border-top-right-radius:0;margin-top:0}.slogan-card .announcement-panel[data-v-fff2c99a]{flex:1;background:hsla(0,0%,100%,.5);border-radius:16px;padding:16px;border:1px solid var(--border-accent);animation:fadeIn-fff2c99a 1s ease-out .3s both}.slogan-card .announcement-panel .panel-header[data-v-fff2c99a]{display:flex;align-items:center;gap:8px;font-size:.95rem;font-weight:700;color:var(--accent-dark);margin-bottom:10px}.slogan-card .announcement-panel .panel-header.mt-3[data-v-fff2c99a]{margin-top:12px}.slogan-card .announcement-panel .panel-header i[data-v-fff2c99a]{color:var(--accent-primary)}.slogan-card .announcement-panel .panel-content[data-v-fff2c99a]{display:flex;flex-direction:column;gap:8px}.slogan-card .announcement-panel .panel-content .notice-item[data-v-fff2c99a]{display:flex;align-items:flex-start;gap:8px;font-size:.85rem}.slogan-card .announcement-panel .panel-content .notice-item .notice-tag[data-v-fff2c99a]{background:var(--accent-primary);color:#fff;padding:2px 6px;border-radius:4px;font-size:.7rem;font-weight:600;flex-shrink:0;margin-top:2px}.slogan-card .announcement-panel .panel-content .notice-item .notice-text[data-v-fff2c99a]{color:var(--text-primary);line-height:1.4}.slogan-card .announcement-panel .panel-content .instruction-text[data-v-fff2c99a]{font-size:.85rem;color:var(--text-secondary);line-height:1.5;margin:0}@keyframes fadeInUp-fff2c99a{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInLeft-fff2c99a{from{opacity:0;transform:translateX(-30px)}to{opacity:1;transform:translateX(0)}}@keyframes slideInRight-fff2c99a{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}@keyframes fadeIn-fff2c99a{from{opacity:0}to{opacity:1}}@keyframes float-fff2c99a{0%,100%{transform:translateY(0px) rotate(0deg)}50%{transform:translateY(-10px) rotate(5deg)}}@keyframes shimmer-fff2c99a{0%,100%{opacity:0;transform:translateX(-100%)}50%{opacity:1;transform:translateX(100%)}}@keyframes heartbeat-fff2c99a{0%,100%{transform:scale(1)}14%{transform:scale(1.2)}28%{transform:scale(1)}42%{transform:scale(1.2)}70%{transform:scale(1)}}@keyframes ripple-fff2c99a{to{width:300px;height:300px;opacity:0}}.list-section[data-v-fff2c99a]{background:var(--bg-card);padding:16px;border-radius:16px;margin-bottom:16px;box-shadow:var(--shadow-sm);border:1px solid var(--border-accent);position:relative;overflow:hidden;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94)}.list-section[data-v-fff2c99a]::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,195,0,0.03),transparent);transition:left .35s cubic-bezier(0.25,0.46,0.45,0.94)}.list-section[data-v-fff2c99a]:hover::before{left:100%}.list-section .section-header[data-v-fff2c99a]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.list-section .section-header h3[data-v-fff2c99a]{margin:0;font-size:1.15rem;color:var(--text-primary);font-weight:700;display:flex;align-items:center;gap:12px;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94)}.list-section .section-header h3[data-v-fff2c99a]::before{content:"";display:block;width:4px;height:18px;background:linear-gradient(135deg,var(--accent-primary) 0,#ff6b35 100%);border-radius:6px;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94)}.list-section:hover .section-header h3[data-v-fff2c99a]::before{width:6px;height:20px;box-shadow:0 0 8px rgba(255,195,0,.4)}.feature-button-grid[data-v-fff2c99a]{display:flex;flex-direction:column;gap:10px;margin-bottom:0}.feature-button-item[data-v-fff2c99a]{display:flex;justify-content:center;padding:8px 0}.dlc-button[data-v-fff2c99a]{background:linear-gradient(135deg,#1e3c72 0%,#2a5298 100%);color:#fff;border:none;border-radius:12px;padding:16px 20px;width:100%;text-align:left;cursor:pointer;transition:all .3s cubic-bezier(0.25,0.46,0.45,0.94);box-shadow:0 4px 12px rgba(30,60,114,.3);position:relative;overflow:hidden;display:flex;align-items:center;gap:12px;font-size:.95rem;font-weight:600;border:1px solid hsla(0,0%,100%,.1)}.dlc-button[data-v-fff2c99a]::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.1),transparent);transition:left .35s cubic-bezier(0.25,0.46,0.45,0.94)}.dlc-button[data-v-fff2c99a]:hover{background:linear-gradient(135deg,#2a5298 0%,#1e3c72 100%);transform:translateY(-2px);box-shadow:0 6px 16px rgba(30,60,114,.4);border-color:hsla(0,0%,100%,.2)}.dlc-button[data-v-fff2c99a]:hover::before{left:100%}.dlc-button[data-v-fff2c99a]:active{transform:translateY(0);box-shadow:0 2px 8px rgba(30,60,114,.3)}.dlc-button .dlc-icon[data-v-fff2c99a]{width:40px;height:40px;background:hsla(0,0%,100%,.1);border-radius:50%;display:flex;justify-content:center;align-items:center;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);flex-shrink:0}.dlc-button .dlc-icon i[data-v-fff2c99a]{color:gold;font-size:1.1rem}.dlc-button .dlc-icon[data-v-fff2c99a]:hover{background:hsla(0,0%,100%,.2);transform:scale(1.05)}.dlc-button .dlc-text[data-v-fff2c99a]{flex-grow:1;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dlc-button .dlc-badge[data-v-fff2c99a]{background:linear-gradient(135deg,#ff6b6b 0%,#ee5a24 100%);color:#fff;font-size:.75rem;font-weight:700;padding:4px 8px;border-radius:20px;text-transform:uppercase;letter-spacing:.5px;box-shadow:0 2px 4px rgba(238,90,36,.3);animation:pulse-fff2c99a 2s ease-in-out infinite;flex-shrink:0}.nav-bar[data-v-fff2c99a]{display:flex;border-top:1px solid var(--border-color);background:linear-gradient(135deg,var(--bg-header) 0,var(--bg-header-light) 100%);padding:8px 0;flex-shrink:0;backdrop-filter:blur(10px);position:relative}.nav-bar[data-v-fff2c99a]::before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--border-color),transparent)}.nav-bar .nav-item[data-v-fff2c99a]{flex:1;display:flex;flex-direction:column;align-items:center;color:var(--text-secondary);font-size:.8rem;padding:4px 0;cursor:pointer;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);position:relative;border-radius:8px;margin:0 4px}.nav-bar .nav-item.active[data-v-fff2c99a]{color:var(--text-primary)}.nav-bar .nav-item.active i[data-v-fff2c99a]{color:var(--accent-primary);transform:scale(1.15) translateY(-2px)}.nav-bar .nav-item[data-v-fff2c99a]:hover:not(.active){color:var(--text-primary);transform:translateY(-1px)}.nav-bar .nav-item i[data-v-fff2c99a]{font-size:1.25rem;margin-bottom:4px;transition:all .25s cubic-bezier(0.34,1.56,0.64,1)}.empty-state[data-v-fff2c99a]{text-align:center;color:var(--text-secondary);padding:40px 20px;line-height:1.6}@keyframes fadeIn-fff2c99a{from{opacity:0}to{opacity:1}}@keyframes fadeInUp-fff2c99a{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes slideInRight-fff2c99a{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}@keyframes bounce-fff2c99a{0%,100%,20%,53%,80%{transform:translate3d(0,0,0)}40%,43%{transform:translate3d(0,-8px,0)}70%{transform:translate3d(0,-4px,0)}90%{transform:translate3d(0,-2px,0)}}@keyframes pulse-fff2c99a{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.05);opacity:.9}}@keyframes ripple-fff2c99a{0%{transform:scale(0);opacity:1}100%{transform:scale(4);opacity:0}}
.error-boundary[data-v-157c6738]{display:flex;align-items:center;justify-content:center;height:100%;background:var(--bg-primary);padding:40px 20px}.error-boundary .error-content[data-v-157c6738]{text-align:center;color:var(--text-secondary)}.error-boundary .error-content i[data-v-157c6738]{font-size:4rem;color:var(--accent-primary);margin-bottom:20px;display:block}.error-boundary .error-content h3[data-v-157c6738]{font-size:1.5rem;font-weight:700;margin:0 0 12px 0;color:var(--text-primary)}.error-boundary .error-content p[data-v-157c6738]{font-size:.9rem;color:var(--text-secondary);margin:0 0 24px 0}.error-boundary .error-content .retry-btn[data-v-157c6738]{background:linear-gradient(135deg,var(--accent-primary),var(--accent-dark));color:#fff;border:none;padding:12px 32px;border-radius:25px;font-weight:700;cursor:pointer;transition:all .3s;display:inline-flex;align-items:center;gap:8px}.error-boundary .error-content .retry-btn[data-v-157c6738]:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(255,195,0,.4)}.error-boundary .error-content .retry-btn i[data-v-157c6738]{font-size:1rem;margin:0}
html,body{height:100%;width:100%;margin:0;padding:0;overflow:hidden}.fade-enter-active,.fade-leave-active{transition:opacity .2s ease}.fade-enter-from,.fade-leave-to{opacity:0}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:rgba(0,0,0,0)}::-webkit-scrollbar-thumb{background:rgba(100,116,139,.5);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:rgba(71,85,105,.8)}:root{--bg-primary:#f8f9fa;--text-primary:#2c3e50}[data-theme=dark]{--bg-primary:#020617;--text-primary:#ffffff}#app{height:100%;width:100%;display:flex;flex-direction:column}
.app-view[data-v-28ce63c0]{width:100%;height:100%;display:flex;flex-direction:column;background-color:var(--bg-primary);transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);display:flex;flex-direction:column}.app-header[data-v-28ce63c0]{background:linear-gradient(135deg,var(--bg-header) 0,var(--bg-header-light) 100%);padding:35px 16px 12px 16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border-color);flex-shrink:0;backdrop-filter:blur(10px);position:relative}.app-header[data-v-28ce63c0]::after{content:"";position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--border-color),transparent)}.app-header .title[data-v-28ce63c0]{font-size:1.3rem;font-weight:700;display:flex;align-items:center;gap:12px;color:var(--text-primary)}.app-header .title .import-btn[data-v-28ce63c0]{border:none;background:linear-gradient(135deg,var(--accent-primary),var(--accent-dark));color:#fff;padding:8px 14px;border-radius:10px;font-weight:700;cursor:pointer;box-shadow:0 4px 12px rgba(255,195,0,.3);transition:all .2s ease}.app-header .title .import-btn[data-v-28ce63c0]:hover{transform:translateY(-2px)}.app-content[data-v-28ce63c0]{flex-grow:1;overflow-y:auto;padding:16px;scrollbar-width:none;-ms-overflow-style:none}.app-content[data-v-28ce63c0]::-webkit-scrollbar{display:none}.shop-list[data-v-28ce63c0]{display:flex;flex-direction:column;gap:12px}.shop-list-items[data-v-28ce63c0]{display:flex;flex-direction:column;gap:12px}.shop-card[data-v-28ce63c0]{background:var(--bg-card);border-radius:16px;padding:14px 16px;display:flex;align-items:center;gap:12px;box-shadow:0 4px 12px rgba(0,0,0,.05);border:1px solid var(--border-color);cursor:pointer;transition:all .25s ease}.shop-card[data-v-28ce63c0]:hover{transform:translateY(-2px);box-shadow:0 8px 18px rgba(0,0,0,.08)}.shop-card .avatar-text[data-v-28ce63c0]{width:52px;height:52px;border-radius:14px;background:linear-gradient(135deg,rgba(255,195,0,0.12),rgba(255,215,64,0.18));display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .4s cubic-bezier(0.34,1.56,0.64,1)}.shop-card .avatar-text i[data-v-28ce63c0]{font-size:1.4rem;color:var(--accent-primary);text-shadow:0 2px 8px rgba(255,195,0,.5),0 0 12px rgba(255,215,64,.4);filter:drop-shadow(0 2px 4px rgba(255,195,0,0.5));transition:all .3s ease}.shop-card .info[data-v-28ce63c0]{flex-grow:1;min-width:0;display:flex;flex-direction:column;gap:6px}.shop-card .name[data-v-28ce63c0]{font-weight:700;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:1.15rem;letter-spacing:.5px;margin-bottom:4px}.shop-card .desc[data-v-28ce63c0]{font-size:.9rem;color:var(--text-secondary);display:flex;align-items:center;gap:8px;flex-wrap:wrap;line-height:1.5;font-weight:400}.shop-card .desc .slogan-text[data-v-28ce63c0]{flex:1;min-width:100px;display:-webkit-box;-webkit-line-clamp:1;line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.shop-card .desc .package-count[data-v-28ce63c0]{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;background:linear-gradient(135deg,var(--accent-primary),var(--accent-light));color:hsla(0,0%,100%,.95);border-radius:12px;font-size:.75rem;font-weight:600;white-space:nowrap;box-shadow:0 2px 8px rgba(255,195,0,.3);transition:all .3s ease}.shop-card .desc .package-count i[data-v-28ce63c0]{font-size:.7rem;opacity:.9}.nav-bar[data-v-28ce63c0]{display:flex;border-top:1px solid var(--border-accent);background:linear-gradient(135deg,var(--bg-header) 0%,var(--bg-header-light) 100%);padding:8px 12px;padding-bottom:max(8px,env(safe-area-inset-bottom));flex-shrink:0;backdrop-filter:blur(15px);position:relative}.nav-bar[data-v-28ce63c0]::before{content:"";position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,var(--border-accent),transparent)}.nav-bar .nav-item[data-v-28ce63c0]{flex:1;display:flex;flex-direction:column;align-items:center;color:var(--text-secondary);font-size:.8rem;padding:6px 4px;cursor:pointer;transition:all .35s cubic-bezier(0.34,1.56,0.64,1);position:relative;border-radius:12px;margin:0 2px}.nav-bar .nav-item[data-v-28ce63c0]::before{content:"";position:absolute;top:0;left:50%;transform:translateX(-50%);width:0;height:100%;background:linear-gradient(135deg,rgba(255,195,0,0.15),rgba(255,215,64,0.1));border-radius:12px;transition:all .3s ease;z-index:0}.nav-bar .nav-item.active[data-v-28ce63c0]{color:var(--text-primary);transform:translateY(-2px)}.nav-bar .nav-item.active[data-v-28ce63c0]::before{width:100%}.nav-bar .nav-item.active i[data-v-28ce63c0]{color:var(--accent-primary);transform:scale(1.2) translateY(-3px);filter:drop-shadow(0 2px 6px rgba(255,195,0,0.4))}.nav-bar .nav-item.active span[data-v-28ce63c0]{font-weight:700;color:var(--accent-primary)}.nav-bar .nav-item[data-v-28ce63c0]:hover:not(.active){color:var(--text-primary);transform:translateY(-1px)}.nav-bar .nav-item[data-v-28ce63c0]:hover:not(.active)::before{width:60%}.nav-bar .nav-item i[data-v-28ce63c0]{font-size:1.4rem;margin-bottom:2px;transition:all .35s cubic-bezier(0.34,1.56,0.64,1);position:relative;z-index:1}.nav-bar .nav-item span[data-v-28ce63c0]{font-size:.7rem;font-weight:600;transition:all .3s ease;position:relative;z-index:1;letter-spacing:.5px}.empty-state[data-v-28ce63c0]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:60px 20px;color:var(--text-secondary);text-align:center}.empty-state i[data-v-28ce63c0]{font-size:3rem;margin-bottom:16px;opacity:.3}.empty-state p[data-v-28ce63c0]{margin:0;font-size:.95rem;opacity:.8}.hidden-input[data-v-28ce63c0]{display:none}
.app-view[data-v-47dd91e6]{width:100%;height:100%;display:flex;flex-direction:column;background:var(--bg-primary)}.app-header[data-v-47dd91e6]{background:linear-gradient(135deg,var(--bg-header) 0%,var(--bg-header-light) 100%);padding:48px 20px 16px 20px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border-accent);flex-shrink:0;backdrop-filter:blur(15px);position:relative}.app-header[data-v-47dd91e6]::after{content:"";position:absolute;bottom:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--border-accent),transparent)}.app-header .title[data-v-47dd91e6]{font-size:1.4rem;font-weight:800;display:flex;align-items:center;gap:8px;color:var(--text-primary);letter-spacing:.5px}.app-header .title i[data-v-47dd91e6]{color:var(--accent-primary);padding:8px;border-radius:10px;transition:all .35s cubic-bezier(0.34,1.56,0.64,1)}.app-header .title i[data-v-47dd91e6]:hover{background:linear-gradient(135deg,rgba(255,195,0,0.15),rgba(255,215,64,0.1));transform:scale(1.15) rotate(-8deg)}.app-header .title span[data-v-47dd91e6]{color:var(--text-primary)}.app-header .refresh-btn[data-v-47dd91e6]{background:none;border:none;color:var(--accent-primary);font-size:1.2rem;cursor:pointer;padding:8px;border-radius:8px;transition:all .3s}.app-header .refresh-btn[data-v-47dd91e6]:hover{background:rgba(255,195,0,.1);transform:rotate(180deg)}.app-content[data-v-47dd91e6]{flex-grow:1;overflow-y:auto;padding:16px;scrollbar-width:none;-ms-overflow-style:none}.app-content[data-v-47dd91e6]::-webkit-scrollbar{display:none}.empty-state[data-v-47dd91e6]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.empty-state i[data-v-47dd91e6]{font-size:4rem;color:var(--text-placeholder);margin-bottom:20px}.empty-state p[data-v-47dd91e6]{font-size:1rem;margin-bottom:24px}.empty-state .retry-btn[data-v-47dd91e6]{background:linear-gradient(135deg,var(--accent-primary),var(--accent-light));color:var(--text-primary);border:none;padding:12px 32px;border-radius:25px;font-weight:700;cursor:pointer;transition:all .3s}.empty-state .retry-btn[data-v-47dd91e6]:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(255,195,0,.4)}.loading-state[data-v-47dd91e6]{text-align:center;padding:60px 20px;color:var(--text-secondary)}.loading-state .spinner[data-v-47dd91e6]{width:50px;height:50px;border:4px solid var(--border-color);border-top-color:var(--accent-primary);border-radius:50%;animation:spin-47dd91e6 1s linear infinite;margin:0 auto 20px}.loading-state p[data-v-47dd91e6]{font-size:1rem}@keyframes spin-47dd91e6{to{transform:rotate(360deg)}}.tabs-container[data-v-47dd91e6]{display:flex;gap:10px;margin-bottom:16px;padding:6px;background:var(--bg-card);border-radius:16px;box-shadow:0 2px 8px rgba(255,195,0,.1);border:1px solid rgba(255,195,0,.2)}.tabs-container .tab-item[data-v-47dd91e6]{flex:1;padding:12px 16px;border:none;background:rgba(0,0,0,0);border-radius:12px;font-weight:700;font-size:14px;cursor:pointer;transition:all .3s;color:var(--text-secondary);text-align:center}.tabs-container .tab-item[data-v-47dd91e6]:hover{color:var(--text-primary);background:rgba(255,195,0,.1)}.tabs-container .tab-item.active[data-v-47dd91e6]{background:linear-gradient(135deg,var(--accent-primary),var(--accent-light));color:var(--text-primary);box-shadow:0 4px 15px rgba(255,195,0,.3)}.status-card[data-v-47dd91e6]{background:var(--bg-card);border-radius:20px;padding:20px;margin-bottom:16px;box-shadow:var(--shadow-md);border:1px solid var(--border-accent)}.status-card .status-header[data-v-47dd91e6]{margin-bottom:20px}.status-card .status-header .basic-info .girl-name[data-v-47dd91e6]{font-size:28px;font-weight:800;margin:0 0 8px 0;color:var(--text-primary)}.status-card .status-header .basic-info .sub-info[data-v-47dd91e6]{display:flex;align-items:center;gap:8px;color:var(--text-secondary);font-size:14px}.status-card .status-header .basic-info .sub-info .dot[data-v-47dd91e6]{color:var(--text-placeholder)}.status-card .status-header .badges[data-v-47dd91e6]{display:flex;gap:8px;margin-top:12px}.status-card .status-header .badges .badge[data-v-47dd91e6]{padding:4px 12px;border-radius:50px;font-size:11px;font-weight:700}.status-card .status-header .badges .badge.badge-hot[data-v-47dd91e6]{background:var(--badge-danger-gradient);color:#fff}.status-card .status-header .badges .badge.badge-type[data-v-47dd91e6]{background:var(--badge-info-gradient);color:#fff}.status-card .order-status-row[data-v-47dd91e6]{display:flex;gap:16px;margin-bottom:16px;padding:12px;background:var(--bg-card);border-radius:12px}.status-card .order-status-row .status-item[data-v-47dd91e6]{display:flex;align-items:center;gap:8px}.status-card .order-status-row .status-item .status-icon[data-v-47dd91e6]{font-size:18px}.status-card .order-status-row .status-item .status-icon.status-active[data-v-47dd91e6]{color:var(--status-success)}.status-card .order-status-row .status-item .status-icon.status-completed[data-v-47dd91e6]{color:var(--status-info)}.status-card .order-status-row .status-item .status-icon.status-pending[data-v-47dd91e6]{color:var(--status-warning)}.status-card .order-status-row .status-item .status-icon.status-normal[data-v-47dd91e6]{color:var(--status-success)}.status-card .order-status-row .status-item .status-icon.status-warning[data-v-47dd91e6]{color:var(--status-warning)}.status-card .order-status-row .status-item .status-icon.status-danger[data-v-47dd91e6]{color:var(--status-danger)}.status-card .order-status-row .status-item .status-text[data-v-47dd91e6]{font-size:14px;font-weight:600;color:var(--text-primary)}.status-card .rating-section[data-v-47dd91e6]{display:flex;align-items:center;gap:12px;margin-bottom:20px;padding:12px;background:var(--bg-badge);border-radius:12px}.status-card .rating-section .stars[data-v-47dd91e6]{display:flex;gap:4px}.status-card .rating-section .stars .star[data-v-47dd91e6]{font-size:16px;color:var(--border-color)}.status-card .rating-section .stars .star.active[data-v-47dd91e6]{color:var(--accent-primary)}.status-card .rating-section .affection-score[data-v-47dd91e6]{font-size:14px;font-weight:700;color:var(--text-secondary)}.status-card .price-section[data-v-47dd91e6]{text-align:center;padding:16px;background:var(--bg-badge);border-radius:12px;margin-bottom:20px}.status-card .price-section .price-label[data-v-47dd91e6]{font-size:12px;color:var(--text-placeholder);margin-bottom:8px}.status-card .price-section .price-value[data-v-47dd91e6]{font-size:32px;font-weight:900;background:var(--badge-danger-gradient);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:rgba(0,0,0,0);line-height:1;margin-bottom:8px}.status-card .price-section .package-name[data-v-47dd91e6]{font-size:14px;color:var(--text-secondary);font-weight:600;margin-bottom:12px}.status-card .price-section .features-tags[data-v-47dd91e6]{display:flex;flex-wrap:wrap;gap:6px;justify-content:center}.status-card .price-section .features-tags .feature-tag[data-v-47dd91e6]{padding:4px 12px;background:var(--accent-primary);color:#2c3e50;border-radius:50px;font-size:11px;font-weight:600;box-shadow:0 2px 4px rgba(255,195,0,.3)}.status-card .metrics-grid[data-v-47dd91e6]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}@media (min-width:481px){.status-card .metrics-grid[data-v-47dd91e6]{grid-template-columns:repeat(4,1fr)}}.status-card .metrics-grid .metric-card[data-v-47dd91e6]{text-align:center;padding:16px;background:var(--bg-card);border-radius:12px;transition:all .3s}.status-card .metrics-grid .metric-card[data-v-47dd91e6]:hover{transform:translateY(-4px);box-shadow:0 8px 25px rgba(255,195,0,.2)}.status-card .metrics-grid .metric-card .metric-label[data-v-47dd91e6]{font-size:13px;color:var(--text-secondary);margin-bottom:8px;font-weight:600}.status-card .metrics-grid .metric-card .metric-value[data-v-47dd91e6]{font-size:28px;font-weight:900;color:var(--text-primary);margin-bottom:8px}.status-card .metrics-grid .metric-card .metric-value .metric-unit[data-v-47dd91e6]{font-size:14px;color:var(--text-secondary);font-weight:700}.status-card .metrics-grid .metric-card .progress-bar[data-v-47dd91e6]{width:100%;height:6px;background:var(--border-color);border-radius:50px;overflow:hidden}.status-card .metrics-grid .metric-card .progress-bar .progress-fill[data-v-47dd91e6]{height:100%;border-radius:50px;transition:width .8s}.detail-section .detail-card[data-v-47dd91e6]{background:var(--bg-card);border-radius:20px;overflow:hidden;box-shadow:0 4px 16px rgba(0,0,0,.08);border:1px solid rgba(255,195,0,.15)}.detail-section .detail-card .accordion-header[data-v-47dd91e6]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;cursor:pointer;background:var(--bg-card);transition:all .3s;font-weight:700;color:var(--text-primary)}.detail-section .detail-card .accordion-header[data-v-47dd91e6]:hover{background:var(--bg-badge)}.detail-section .detail-card .accordion-header.active[data-v-47dd91e6]{background:var(--bg-badge)}.detail-section .detail-card .accordion-header.active .accordion-arrow[data-v-47dd91e6]{transform:rotate(180deg)}.detail-section .detail-card .accordion-header .accordion-icon[data-v-47dd91e6]{color:var(--accent-primary);margin-right:8px}.detail-section .detail-card .accordion-header .accordion-arrow[data-v-47dd91e6]{color:var(--text-placeholder);transition:transform .3s}.detail-section .detail-card .accordion-content[data-v-47dd91e6]{max-height:0;overflow:hidden;transition:max-height .3s ease-out}.detail-section .detail-card .accordion-content.show[data-v-47dd91e6]{max-height:2000px}.detail-section .detail-card .accordion-body[data-v-47dd91e6]{padding:20px;background:var(--bg-card)}.detail-section .detail-group[data-v-47dd91e6]{margin-bottom:24px}.detail-section .detail-group[data-v-47dd91e6]:last-child{margin-bottom:0}.detail-section .detail-group .group-title[data-v-47dd91e6]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0 0 16px 0;display:flex;align-items:center;gap:8px}.detail-section .detail-group .group-title i[data-v-47dd91e6]{color:var(--accent-primary)}.detail-section .detail-group .field-label[data-v-47dd91e6],.detail-section .detail-group .feature-label[data-v-47dd91e6],.detail-section .detail-group .desc-label[data-v-47dd91e6],.detail-section .detail-group .stat-label[data-v-47dd91e6],.detail-section .detail-group .psychology-label[data-v-47dd91e6],.detail-section .detail-group .compact-key[data-v-47dd91e6],.detail-section .detail-group .info-key[data-v-47dd91e6],.detail-section .detail-group .section-item-label[data-v-47dd91e6]{color:#3b82f6 !important;font-weight:600}[data-theme='dark'],[data-theme='dark'],[data-theme='dark'],[data-theme='dark'],[data-theme='dark'],[data-theme='dark'],[data-theme='dark'],[data-theme='dark']{color:#60a5fa !important}.detail-section .detail-group.collapsible-group[data-v-47dd91e6]{margin-bottom:12px;border:1px solid var(--border-accent);border-radius:16px;overflow:hidden;background:var(--bg-card)}.detail-section .detail-group.collapsible-group .collapsible-header[data-v-47dd91e6]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px;cursor:pointer;background:var(--bg-card);transition:all .3s}.detail-section .detail-group.collapsible-group .collapsible-header[data-v-47dd91e6]:hover{background:var(--bg-badge)}.detail-section .detail-group.collapsible-group .collapsible-header .group-title[data-v-47dd91e6]{font-size:16px;font-weight:700;color:var(--text-primary);margin:0;display:flex;align-items:center;gap:8px}.detail-section .detail-group.collapsible-group .collapsible-header .group-title i[data-v-47dd91e6]{color:var(--accent-primary)}.detail-section .detail-group.collapsible-group .collapsible-header .accordion-arrow[data-v-47dd91e6]{color:var(--text-placeholder);transition:transform .3s;font-size:14px}.detail-section .detail-group.collapsible-group .collapsible-header .accordion-arrow.active[data-v-47dd91e6]{transform:rotate(180deg);color:var(--accent-primary)}.detail-section .detail-group.collapsible-group .collapsible-content[data-v-47dd91e6]{padding:0 20px 16px 20px;transition:all .3s ease}.detail-section .detail-group.collapsible-group .compact-info-grid[data-v-47dd91e6]{display:flex;flex-direction:column;gap:12px}.detail-section .detail-group.collapsible-group .compact-info-grid .compact-row[data-v-47dd91e6]{display:flex;align-items:flex-start;gap:12px;padding:12px;background:var(--bg-card);border-radius:10px}.detail-section .detail-group.collapsible-group .compact-info-grid .compact-row.full-width[data-v-47dd91e6]{flex-direction:column;gap:8px}.detail-section .detail-group.collapsible-group .compact-info-grid .compact-row .compact-key[data-v-47dd91e6]{font-size:13px;font-weight:600;color:var(--text-primary);min-width:80px;flex-shrink:0}.detail-section .detail-group.collapsible-group .compact-info-grid .compact-row .compact-value[data-v-47dd91e6]{font-size:14px;font-weight:500;color:var(--text-secondary);line-height:1.5;flex:1}.detail-section .detail-group.collapsible-group .compact-info-grid .compact-row .compact-value.long-text[data-v-47dd91e6]{font-size:13px;line-height:1.6;color:var(--text-primary);word-break:break-word;white-space:pre-wrap}.detail-section .detail-group.collapsible-group .psychology-content .psychology-item[data-v-47dd91e6]{background:linear-gradient(135deg,rgba(255,195,0,0.08),rgba(255,215,64,0.05));border:1px solid rgba(255,195,0,.2);border-radius:12px;padding:16px;position:relative;overflow:hidden}.detail-section .detail-group.collapsible-group .psychology-content .psychology-item[data-v-47dd91e6]::before{content:"";position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-light))}.detail-section .detail-group.collapsible-group .psychology-content .psychology-item .psychology-label[data-v-47dd91e6]{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:700;color:var(--accent-primary);margin-bottom:12px}.detail-section .detail-group.collapsible-group .psychology-content .psychology-item .psychology-label i[data-v-47dd91e6]{font-size:16px}.detail-section .detail-group.collapsible-group .psychology-content .psychology-item .psychology-text[data-v-47dd91e6]{font-size:14px;line-height:1.6;color:var(--text-primary);font-style:italic;padding:12px;background:var(--bg-card);border-radius:8px;border-left:4px solid var(--accent-primary);word-break:break-word;white-space:pre-wrap}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-row[data-v-47dd91e6]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-bottom:16px}@media (min-width:481px){.detail-section .detail-group.collapsible-group .body-feature-grid .feature-row[data-v-47dd91e6]{grid-template-columns:repeat(4,1fr)}}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-row .feature-item[data-v-47dd91e6]{display:flex;align-items:center;gap:12px;padding:14px;background:var(--bg-card);border-radius:12px;border:1px solid rgba(255,195,0,.15);transition:all .3s ease}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-row .feature-item[data-v-47dd91e6]:hover{transform:translateY(-2px);box-shadow:0 6px 20px rgba(255,195,0,.15);border-color:var(--accent-primary)}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-row .feature-item .feature-icon[data-v-47dd91e6]{width:28px;height:28px;border-radius:6px;background:linear-gradient(135deg,var(--accent-primary),var(--accent-light));display:flex;justify-content:center;align-items:center;flex-shrink:0}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-row .feature-item .feature-icon i[data-v-47dd91e6]{font-size:12px;color:#fff}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-row .feature-item .feature-content[data-v-47dd91e6]{flex:1;min-width:0}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-row .feature-item .feature-content .feature-label[data-v-47dd91e6]{font-size:11px;font-weight:600;color:var(--text-secondary);margin-bottom:2px}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-row .feature-item .feature-content .feature-value[data-v-47dd91e6]{font-size:14px;font-weight:700;color:var(--text-primary)}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-description[data-v-47dd91e6]{display:flex;flex-direction:column;gap:12px}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-description .desc-item[data-v-47dd91e6]{background:var(--bg-card);border-radius:10px;padding:12px;border-left:4px solid var(--accent-primary)}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-description .desc-item .desc-label[data-v-47dd91e6]{display:flex;align-items:center;gap:8px;font-size:13px;font-weight:600;color:var(--accent-primary);margin-bottom:8px}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-description .desc-item .desc-label i[data-v-47dd91e6]{font-size:14px}.detail-section .detail-group.collapsible-group .body-feature-grid .feature-description .desc-item .desc-text[data-v-47dd91e6]{font-size:13px;line-height:1.6;color:var(--text-primary);padding-left:22px;word-break:break-word;white-space:pre-wrap}.detail-section .detail-group.collapsible-group .experience-stats .stats-section[data-v-47dd91e6]{margin-bottom:20px}.detail-section .detail-group.collapsible-group .experience-stats .stats-section[data-v-47dd91e6]:last-child{margin-bottom:0}.detail-section .detail-group.collapsible-group .experience-stats .stats-section .section-title[data-v-47dd91e6]{display:flex;align-items:center;gap:8px;font-size:14px;font-weight:700;color:var(--accent-primary);margin-bottom:12px;padding:8px 12px;background:linear-gradient(135deg,rgba(255,195,0,0.1),rgba(255,215,64,0.05));border-radius:8px;border:1px solid rgba(255,195,0,.2)}.detail-section .detail-group.collapsible-group .experience-stats .stats-section .section-title i[data-v-47dd91e6]{font-size:16px}.detail-section .detail-group.collapsible-group .experience-stats .stats-section .stats-grid[data-v-47dd91e6]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}@media (min-width:481px){.detail-section .detail-group.collapsible-group .experience-stats .stats-section .stats-grid[data-v-47dd91e6]{grid-template-columns:repeat(3,1fr)}}@media (min-width:1024px){.detail-section .detail-group.collapsible-group .experience-stats .stats-section .stats-grid[data-v-47dd91e6]{grid-template-columns:repeat(5,1fr)}}.detail-section .detail-group.collapsible-group .experience-stats .stats-section .stats-grid .stat-item[data-v-47dd91e6]{display:flex;align-items:center;gap:10px;padding:12px;background:var(--bg-card);border-radius:10px;border:1px solid rgba(255,195,0,.12);transition:all .3s ease}.detail-section .detail-group.collapsible-group .experience-stats .stats-section .stats-grid .stat-item[data-v-47dd91e6]:hover{transform:translateY(-1px);box-shadow:0 4px 12px rgba(255,195,0,.1);border-color:var(--accent-primary)}.detail-section .detail-group.collapsible-group .experience-stats .stats-section .stats-grid .stat-item .stat-icon[data-v-47dd91e6]{width:32px;height:32px;border-radius:8px;background:linear-gradient(135deg,var(--accent-primary),var(--accent-light));display:flex;justify-content:center;align-items:center;flex-shrink:0}.detail-section .detail-group.collapsible-group .experience-stats .stats-section .stats-grid .stat-item .stat-icon i[data-v-47dd91e6]{font-size:14px;color:#fff}.detail-section .detail-group.collapsible-group .experience-stats .stats-section .stats-grid .stat-item .stat-content[data-v-47dd91e6]{flex:1;min-width:0}.detail-section .detail-group.collapsible-group .experience-stats .stats-section .stats-grid .stat-item .stat-content .stat-label[data-v-47dd91e6]{font-size:11px;font-weight:600;color:var(--text-secondary);margin-bottom:2px;line-height:1.2}.detail-section .detail-group.collapsible-group .experience-stats .stats-section .stats-grid .stat-item .stat-content .stat-value[data-v-47dd91e6]{font-size:14px;font-weight:700;color:var(--text-primary);line-height:1.2}.detail-section .detail-group .clothing-grid[data-v-47dd91e6]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}@media (min-width:481px){.detail-section .detail-group .clothing-grid[data-v-47dd91e6]{grid-template-columns:repeat(3,1fr)}}@media (min-width:1024px){.detail-section .detail-group .clothing-grid[data-v-47dd91e6]{grid-template-columns:repeat(4,1fr)}}.detail-section .detail-group .clothing-grid .clothing-item[data-v-47dd91e6]{display:flex;align-items:center;gap:10px;padding:12px;background:var(--bg-card);border-radius:10px}.detail-section .detail-group .clothing-grid .clothing-item .clothing-icon[data-v-47dd91e6]{font-size:18px;color:var(--accent-primary);flex-shrink:0}.detail-section .detail-group .clothing-grid .clothing-item .clothing-key[data-v-47dd91e6]{font-size:12px;color:var(--text-primary);flex:1}.detail-section .detail-group .clothing-grid .clothing-item .clothing-value[data-v-47dd91e6]{font-size:13px;font-weight:600;color:var(--text-primary)}.detail-section .detail-group .info-rows[data-v-47dd91e6]{display:grid;gap:10px}.detail-section .detail-group .info-rows .info-row[data-v-47dd91e6]{display:flex;flex-direction:column;gap:8px;padding:12px 16px;background:var(--bg-card);border-radius:10px}.detail-section .detail-group .info-rows .info-row .info-key[data-v-47dd91e6]{font-size:13px;color:var(--text-primary);font-weight:600}.detail-section .detail-group .info-rows .info-row .info-val[data-v-47dd91e6]{font-size:14px;font-weight:700;color:var(--text-primary);line-height:1.5;word-break:break-word;white-space:pre-wrap}.detail-section .detail-group .empty-text[data-v-47dd91e6]{text-align:center;color:var(--text-placeholder);padding:20px}.nav-bar[data-v-47dd91e6]{display:flex;border-top:1px solid var(--border-color);background:linear-gradient(135deg,var(--bg-header) 0%,var(--bg-header-light) 100%);padding:8px 0;flex-shrink:0;backdrop-filter:blur(10px);position:relative}.nav-bar[data-v-47dd91e6]::before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--border-color),transparent)}.nav-bar .nav-item[data-v-47dd91e6]{flex:1;display:flex;flex-direction:column;align-items:center;color:var(--text-secondary);font-size:.8rem;padding:4px 0;cursor:pointer;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);position:relative;border-radius:8px;margin:0 4px}.nav-bar .nav-item.active[data-v-47dd91e6]{color:var(--text-primary)}.nav-bar .nav-item.active i[data-v-47dd91e6]{color:var(--accent-primary);transform:scale(1.15) translateY(-2px)}.nav-bar .nav-item[data-v-47dd91e6]:hover:not(.active){color:var(--text-primary);transform:translateY(-1px)}.nav-bar .nav-item i[data-v-47dd91e6]{font-size:1.25rem;margin-bottom:4px;transition:all .25s cubic-bezier(0.34,1.56,0.64,1)}
.app-view[data-v-462b0a62]{width:100%;height:100%;display:flex;flex-direction:column;background-color:var(--bg-primary);position:absolute;top:0;left:0}.app-header[data-v-462b0a62]{background:linear-gradient(135deg,var(--bg-header) 0,var(--bg-header-light) 100%);padding:16px;padding-top:max(16px,env(safe-area-inset-top));display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border-color);flex-shrink:0;backdrop-filter:blur(10px);position:relative}.app-header .title[data-v-462b0a62]{font-size:1.3rem;font-weight:700;display:flex;align-items:center;gap:8px;color:var(--text-primary)}.app-header .title i[data-v-462b0a62]{cursor:pointer;transition:all .25s cubic-bezier(0.34,1.56,0.64,1);padding:4px;border-radius:6px}.app-header .title i[data-v-462b0a62]:hover{background-color:var(--accent-light);transform:scale(1.1) rotate(-5deg);box-shadow:0 1px 2px rgba(0,0,0,.05)}.app-content[data-v-462b0a62]{flex-grow:1;overflow-y:auto;padding:0;scrollbar-width:none;-ms-overflow-style:none}.app-content[data-v-462b0a62]::-webkit-scrollbar{display:none}.shop-header-card[data-v-462b0a62]{background:var(--bg-card);border-radius:20px;padding:24px 20px;margin:16px;text-align:center;box-shadow:0 6px 20px rgba(255,195,0,.15),0 2px 8px rgba(0,0,0,.08),0 0 0 1px hsla(0,0%,100%,.9) inset;border:1px solid rgba(255,195,0,.2);position:relative;overflow:hidden;transition:all .35s cubic-bezier(0.34,1.56,0.64,1)}.shop-header-card[data-v-462b0a62]::before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,195,0,0.08) 0,rgba(255,215,64,0.05) 30%,transparent 70%);animation:pulse-462b0a62 6s ease-in-out infinite}.shop-header-card[data-v-462b0a62]::after{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,rgba(255,195,0,0.4),transparent)}.shop-header-card[data-v-462b0a62]:hover{transform:translateY(-4px) scale(1.02);box-shadow:0 12px 35px rgba(255,195,0,.25),0 6px 20px rgba(0,0,0,.12)}.shop-header-card .shop-avatar-text[data-v-462b0a62]{width:80px;height:80px;border-radius:50%;margin:0 auto 12px;border:4px solid var(--accent-primary);display:flex;justify-content:center;align-items:center;font-size:1.6rem;font-weight:800;background:var(--bg-badge);color:var(--text-primary);box-shadow:0 6px 20px rgba(255,195,0,.35),0 0 0 3px var(--bg-card) inset,0 -3px 6px hsla(0,0%,100%,.8) inset;transition:all .35s cubic-bezier(0.34,1.56,0.64,1);position:relative;z-index:1}.shop-header-card .shop-avatar-text[data-v-462b0a62]::before{content:"";position:absolute;inset:-6px;border-radius:50%;border:2px solid rgba(255,195,0,.3);animation:rotate-462b0a62 10s linear infinite}.shop-header-card .shop-avatar-text i[data-v-462b0a62]{filter:drop-shadow(0 2px 4px rgba(255,195,0,0.5))}.shop-header-card .shop-name[data-v-462b0a62]{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;font-size:1.5rem;font-weight:800;margin-bottom:8px;color:var(--text-primary);text-shadow:0 2px 4px rgba(255,195,0,.2);position:relative;z-index:1;letter-spacing:.5px}.shop-header-card .shop-slogan[data-v-462b0a62]{font-size:.95rem;color:var(--text-secondary);margin-top:4px;line-height:1.6;font-weight:500;position:relative;z-index:1}@keyframes pulse-462b0a62{0%,100%{opacity:.5;transform:scale(1)}50%{opacity:1;transform:scale(1.05)}}@keyframes rotate-462b0a62{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}.restore-tip[data-v-462b0a62]{margin:0 16px 12px 16px;padding:10px 12px;border:1px dashed var(--accent-primary);border-radius:12px;background:var(--bg-badge);color:var(--text-secondary);display:flex;align-items:center;gap:8px;font-size:.92rem;line-height:1.5;box-shadow:0 2px 6px rgba(0,0,0,.04)}.restore-tip i[data-v-462b0a62]{color:var(--accent-primary);font-size:1rem}.list-section[data-v-462b0a62]{background:var(--bg-card);padding:16px;border-radius:16px;margin:0 16px 16px 16px;box-shadow:0 2px 8px rgba(0,0,0,.06);border:1px solid var(--border-accent);position:relative;overflow:hidden}.list-section .section-header[data-v-462b0a62]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.list-section .section-header h3[data-v-462b0a62]{margin:0;font-size:1.15rem;color:var(--text-primary);font-weight:700;display:flex;align-items:center;gap:12px}.list-section .section-header h3[data-v-462b0a62]::before{content:"";display:block;width:4px;height:18px;background:linear-gradient(135deg,var(--accent-primary) 0,#ff6b35 100%);border-radius:6px}.package-list[data-v-462b0a62]{display:grid;grid-template-columns:1fr;gap:12px}.package-card[data-v-462b0a62]{background:var(--bg-card);border-radius:16px;padding:16px;display:flex;align-items:flex-start;gap:14px;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);box-shadow:0 2px 8px rgba(0,0,0,.06);cursor:pointer;border:1px solid var(--border-accent);position:relative;overflow:hidden}.package-card[data-v-462b0a62]::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,195,0,0.05),transparent);transition:left .35s cubic-bezier(0.25,0.46,0.45,0.94)}.package-card[data-v-462b0a62]:hover{transform:translateY(-6px) scale(1.02);box-shadow:0 8px 25px rgba(0,0,0,.12),0 0 0 1px var(--accent-light) inset;border-color:var(--accent-primary)}.package-card[data-v-462b0a62]:hover::before{left:100%}.package-card[data-v-462b0a62]:active{transform:translateY(-2px) scale(1.01);box-shadow:0 4px 6px rgba(0,0,0,.07)}.package-card .avatar-text[data-v-462b0a62]{width:64px;height:64px;border-radius:16px;flex-shrink:0;display:flex;justify-content:center;align-items:center;font-size:1.8rem;font-weight:700;color:var(--text-primary);background:var(--bg-badge);text-align:center;line-height:1.2;box-shadow:0 4px 6px rgba(0,0,0,.07),0 0 0 3px var(--bg-card) inset;border:2px solid var(--accent-light);transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);position:relative;overflow:hidden}.package-card .avatar-text[data-v-462b0a62]::before{content:"";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background:radial-gradient(circle,rgba(255,195,0,0.1) 0,transparent 70%);transform:scale(0);transition:transform .25s cubic-bezier(0.25,0.46,0.45,0.94)}.package-card .avatar-text[data-v-462b0a62]:hover::before{transform:scale(1)}.package-card .info[data-v-462b0a62]{flex-grow:1;min-width:0}.package-card .name[data-v-462b0a62]{font-size:1.1rem;font-weight:700;margin-bottom:6px;color:var(--text-primary);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;letter-spacing:.3px}.package-card .desc[data-v-462b0a62]{display:flex;flex-wrap:wrap;gap:5px;margin-top:4px;min-height:34px;align-items:center}.package-card .package-tag[data-v-462b0a62]{background:var(--bg-badge);color:var(--text-primary);font-size:.75rem;padding:5px 12px;border-radius:50px;border:1px solid var(--accent-primary);font-weight:600;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);position:relative;overflow:hidden;box-shadow:0 1px 3px rgba(217,134,0,.15)}.package-card .package-tag[data-v-462b0a62]::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(217,134,0,0.1),transparent);transition:left .35s cubic-bezier(0.25,0.46,0.45,0.94)}.package-card .package-tag[data-v-462b0a62]:hover{transform:translateY(-1px);box-shadow:0 1px 2px rgba(0,0,0,.05);border-color:var(--accent-primary)}.package-card .package-tag[data-v-462b0a62]:hover::before{left:100%}.nav-bar[data-v-462b0a62]{display:flex;border-top:1px solid var(--border-color);background:linear-gradient(135deg,var(--bg-header) 0%,var(--bg-header-light) 100%);padding:8px 12px;padding-bottom:max(8px,env(safe-area-inset-bottom));flex-shrink:0;backdrop-filter:blur(10px);position:relative}.nav-bar[data-v-462b0a62]::before{content:"";position:absolute;top:0;left:0;right:0;height:1px;background:linear-gradient(90deg,transparent,var(--border-color),transparent)}.nav-bar .nav-item[data-v-462b0a62]{flex:1;display:flex;flex-direction:column;align-items:center;color:var(--text-secondary);font-size:.8rem;padding:4px 0;cursor:pointer;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);position:relative;border-radius:8px;margin:0 4px}.nav-bar .nav-item.active[data-v-462b0a62]{color:var(--text-primary)}.nav-bar .nav-item.active i[data-v-462b0a62]{color:var(--accent-primary);transform:scale(1.15) translateY(-2px)}.nav-bar .nav-item[data-v-462b0a62]:hover:not(.active){color:var(--text-primary);transform:translateY(-1px)}.nav-bar .nav-item i[data-v-462b0a62]{font-size:1.4rem;margin-bottom:2px;transition:all .25s cubic-bezier(0.34,1.56,0.64,1)}.empty-state[data-v-462b0a62]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;color:var(--text-placeholder)}.empty-state i[data-v-462b0a62]{font-size:2.5rem;margin-bottom:12px;opacity:.4}.empty-state p[data-v-462b0a62]{margin:0;font-size:.9rem}@keyframes pulse-462b0a62{0%{transform:scale(1)}50%{transform:scale(1.05)}100%{transform:scale(1)}}
.app-view[data-v-6ad7adac]{width:100%;height:100%;display:flex;flex-direction:column;background-color:var(--bg-primary);position:absolute;top:0;left:0}.app-header[data-v-6ad7adac]{background:linear-gradient(135deg,var(--bg-header) 0,var(--bg-header-light) 100%);padding:16px;padding-top:max(16px,env(safe-area-inset-top));display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border-color);flex-shrink:0;backdrop-filter:blur(10px);position:relative}.app-header .title[data-v-6ad7adac]{font-size:1.3rem;font-weight:700;display:flex;align-items:center;gap:8px;color:var(--text-primary)}.app-header .title i[data-v-6ad7adac]{cursor:pointer;transition:all .25s cubic-bezier(0.34,1.56,0.64,1);padding:4px;border-radius:6px}.app-header .title i[data-v-6ad7adac]:hover{background-color:#fff3cc;transform:scale(1.1) rotate(-5deg);box-shadow:0 1px 2px rgba(0,0,0,.05)}.app-content[data-v-6ad7adac]{flex-grow:1;overflow-y:auto;padding:0;scrollbar-width:none;-ms-overflow-style:none}.app-content[data-v-6ad7adac]::-webkit-scrollbar{display:none}.detail-info-card[data-v-6ad7adac]{background:var(--bg-card);padding:20px 20px 24px;border-bottom:1px solid var(--border-color);margin-bottom:0;position:relative}.detail-name[data-v-6ad7adac]{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;font-size:1.6rem;font-weight:800;margin-bottom:12px;color:var(--text-primary);letter-spacing:.5px}.detail-tags[data-v-6ad7adac]{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:0}.detail-tags .tag[data-v-6ad7adac]{background-color:var(--bg-badge);color:var(--text-secondary);font-size:.8rem;padding:4px 10px;border-radius:15px}.detail-tabs[data-v-6ad7adac]{display:flex;background-color:var(--bg-card);padding:0 12px;border-bottom:1px solid var(--border-color);position:sticky;top:0;z-index:10}.detail-tabs .tab-link[data-v-6ad7adac]{flex:1;text-align:center;padding:14px 4px;cursor:pointer;border:none;background:rgba(0,0,0,0);font-size:1rem;font-weight:600;color:var(--text-secondary);position:relative;transition:all .3s ease}.detail-tabs .tab-link.active[data-v-6ad7adac]{color:var(--text-primary);font-size:1.05rem}.detail-tabs .tab-link.active[data-v-6ad7adac]::after{content:"";position:absolute;bottom:0;left:50%;transform:translateX(-50%);width:40%;height:3px;background-color:var(--accent-primary);border-radius:2px}.tab-content[data-v-6ad7adac]{display:none;padding:18px;animation:fadeIn-6ad7adac .3s}.tab-content.active[data-v-6ad7adac]{display:block}.review-item[data-v-6ad7adac],.service-item[data-v-6ad7adac]{background:var(--bg-card);padding:15px;border-radius:10px;margin-bottom:12px;box-shadow:0 2px 8px rgba(0,0,0,.06);display:flex;align-items:flex-start;gap:12px}.service-item[data-v-6ad7adac]::before{font-family:"Font Awesome 5 Free";font-weight:900;content:"";color:var(--accent-primary);background-color:var(--bg-badge);border-radius:50%;width:24px;height:24px;display:inline-flex;justify-content:center;align-items:center;flex-shrink:0;font-size:.8rem;transition:all .25s ease}.service-item.clickable[data-v-6ad7adac]{cursor:pointer;transition:all .25s ease;position:relative;overflow:hidden}.service-item.clickable[data-v-6ad7adac]:hover{transform:translateX(8px);box-shadow:0 4px 12px rgba(255,195,0,.3);border-left:4px solid var(--accent-primary)}.service-item.clickable[data-v-6ad7adac]:hover::before{background:linear-gradient(135deg,var(--accent-primary),var(--accent-light));color:#fff;transform:scale(1.1);box-shadow:0 2px 8px rgba(255,195,0,.4)}.service-item.clickable[data-v-6ad7adac]:active{transform:translateX(12px) scale(0.98);transition:all .1s ease}.service-item.clickable[data-v-6ad7adac]::after{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,195,0,0.1),transparent);transition:left .5s ease}.service-item.clickable[data-v-6ad7adac]:hover::after{left:100%}.review-item[data-v-6ad7adac]::before{font-family:"Font Awesome 5 Free";font-weight:900;content:"";color:var(--accent-primary);background-color:var(--bg-badge);border-radius:50%;width:24px;height:24px;display:inline-flex;justify-content:center;align-items:center;flex-shrink:0;font-size:.8rem}.review-item p[data-v-6ad7adac],.service-item p[data-v-6ad7adac]{margin:0;color:var(--text-primary);line-height:1.5;font-size:.9rem}.description-item[data-v-6ad7adac]{background:var(--bg-card-light) !important;box-shadow:none !important;padding-left:15px !important;align-items:flex-start}.description-item div[data-v-6ad7adac]{width:100%}.description-item .title[data-v-6ad7adac]{font-weight:600;color:var(--text-primary);margin-bottom:5px}.description-item .text[data-v-6ad7adac]{line-height:1.6;color:var(--text-primary)}.image-item[data-v-6ad7adac]{margin-bottom:15px}.image-item h5[data-v-6ad7adac]{font-size:.9rem;color:var(--text-placeholder);margin-bottom:8px;font-weight:600}.image-item .image-placeholder[data-v-6ad7adac]{background-color:var(--bg-primary);border-radius:10px;display:flex;align-items:center;justify-content:center;color:var(--text-primary);height:180px;width:100%;font-size:1rem;border:1px dashed var(--border-color)}.detail-footer[data-v-6ad7adac]{display:flex;justify-content:space-between;align-items:center;padding:12px 20px;padding-bottom:max(12px,env(safe-area-inset-bottom));background:var(--bg-card);border-top:1px solid var(--border-color);flex-shrink:0}.detail-footer .price-info .price[data-v-6ad7adac]{font-family:"DIN Alternate","Roboto Condensed",sans-serif;font-size:1.8rem;font-weight:800;color:var(--status-danger);letter-spacing:-0.5px}.detail-footer .order-btn[data-v-6ad7adac]{background:linear-gradient(135deg,var(--accent-primary) 0,var(--accent-light) 100%);color:#fff;border:none;padding:12px 24px;border-radius:50px;font-size:1rem;font-weight:600;cursor:pointer;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);box-shadow:0 4px 6px rgba(0,0,0,.07);position:relative;overflow:hidden}.detail-footer .order-btn[data-v-6ad7adac]::before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:hsla(0,0%,100%,.3);border-radius:50%;transform:translate(-50%,-50%);transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94)}.detail-footer .order-btn[data-v-6ad7adac]:hover{background:linear-gradient(135deg,var(--accent-light) 0,var(--accent-dark) 100%);transform:translateY(-2px) scale(1.05);box-shadow:0 10px 15px rgba(0,0,0,.1)}.detail-footer .order-btn[data-v-6ad7adac]:active::before{width:100px;height:100px;animation:ripple-6ad7adac .35s cubic-bezier(0.25,0.46,0.45,0.94)}.detail-footer .order-btn[data-v-6ad7adac]:active{transform:translateY(0) scale(1.02);box-shadow:0 4px 6px rgba(0,0,0,.07)}.modal-overlay[data-v-6ad7adac]{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.6);backdrop-filter:blur(8px);z-index:2000;display:none;justify-content:center;align-items:center;animation:fadeIn-6ad7adac .25s cubic-bezier(0.25,0.46,0.45,0.94)}.modal-content[data-v-6ad7adac]{background:var(--bg-card);padding:24px;border-radius:16px;width:85%;max-width:400px;box-shadow:0 20px 25px rgba(0,0,0,.15);text-align:center;border:1px solid var(--border-accent);position:relative;overflow:hidden;animation:slideInRight-6ad7adac .25s cubic-bezier(0.34,1.56,0.64,1)}.modal-content[data-v-6ad7adac]::before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(90deg,var(--accent-primary),var(--accent-dark))}.modal-content h3[data-v-6ad7adac]{margin-bottom:16px;color:var(--text-primary);font-size:1.2rem;font-weight:700}.modal-content-tags[data-v-6ad7adac]{margin-bottom:15px}.modal-tags-title[data-v-6ad7adac]{font-size:1rem;font-weight:600;color:var(--text-primary);margin-bottom:10px;text-align:left}.modal-tags-wrapper[data-v-6ad7adac]{display:flex;flex-wrap:wrap;gap:8px;justify-content:flex-start}.content-tag-btn[data-v-6ad7adac]{background:var(--bg-card-light);color:var(--text-primary);font-size:.85rem;padding:8px 12px;border-radius:50px;border:1px solid var(--border-color);cursor:pointer;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);white-space:nowrap;position:relative;overflow:hidden}.content-tag-btn[data-v-6ad7adac]::before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,195,0,0.2),transparent);transition:left .35s cubic-bezier(0.25,0.46,0.45,0.94)}.content-tag-btn[data-v-6ad7adac]:hover{background:var(--bg-badge);border-color:var(--accent-primary);color:var(--text-primary);transform:translateY(-2px) scale(1.05);box-shadow:0 4px 6px rgba(0,0,0,.07)}.content-tag-btn[data-v-6ad7adac]:hover::before{left:100%}.content-tag-btn[data-v-6ad7adac]:active{transform:translateY(-1px) scale(1.02);box-shadow:0 1px 2px rgba(0,0,0,.05)}.modal-content textarea[data-v-6ad7adac]{width:100%;height:80px;border:2px solid var(--border-color);border-radius:8px;padding:12px;margin-bottom:20px;font-size:.9rem;resize:none;outline:none;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);background:var(--bg-card);color:var(--text-primary);font-family:inherit}.modal-content textarea[data-v-6ad7adac]:focus{border-color:var(--accent-primary);box-shadow:0 0 0 3px var(--bg-badge);transform:translateY(-1px)}.modal-buttons[data-v-6ad7adac]{display:flex;justify-content:space-between;gap:12px}.modal-buttons button[data-v-6ad7adac]{flex:1;padding:12px 16px;border-radius:8px;border:none;font-size:.95rem;font-weight:600;cursor:pointer;transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94);position:relative;overflow:hidden}.modal-buttons button[data-v-6ad7adac]::before{content:"";position:absolute;top:50%;left:50%;width:0;height:0;background:hsla(0,0%,100%,.3);border-radius:50%;transform:translate(-50%,-50%);transition:all .25s cubic-bezier(0.25,0.46,0.45,0.94)}.modal-buttons button[data-v-6ad7adac]:active::before{width:100px;height:100px;animation:ripple-6ad7adac .35s cubic-bezier(0.25,0.46,0.45,0.94)}.modal-buttons .modal-btn-confirm[data-v-6ad7adac]{background:linear-gradient(135deg,var(--accent-primary) 0,var(--accent-light) 100%);color:#fff;box-shadow:0 1px 2px rgba(0,0,0,.05)}.modal-buttons .modal-btn-confirm[data-v-6ad7adac]:hover{background:linear-gradient(135deg,var(--accent-light) 0,var(--accent-dark) 100%);transform:translateY(-1px);box-shadow:0 4px 6px rgba(0,0,0,.07)}.modal-buttons .modal-btn-cancel[data-v-6ad7adac]{background:var(--bg-card-light);color:var(--text-secondary);box-shadow:0 1px 2px rgba(0,0,0,.05)}.modal-buttons .modal-btn-cancel[data-v-6ad7adac]:hover{background:var(--bg-badge);color:var(--text-primary);transform:translateY(-1px);box-shadow:0 4px 6px rgba(0,0,0,.07)}.tip-text[data-v-6ad7adac]{background:linear-gradient(135deg,var(--bg-badge),var(--bg-card));border-left:4px solid var(--accent-primary);padding:12px 16px;border-radius:8px;margin-top:16px;font-size:.85rem;color:var(--text-secondary);box-shadow:0 2px 8px rgba(255,195,0,.1);animation:fadeIn-6ad7adac .5s ease}.tip-text i[data-v-6ad7adac]{color:var(--accent-primary);margin-right:6px}.empty-state[data-v-6ad7adac]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;color:var(--text-placeholder)}.empty-state i[data-v-6ad7adac]{font-size:2.5rem;margin-bottom:12px;opacity:.4}.empty-state p[data-v-6ad7adac]{margin:0;font-size:.9rem}@keyframes fadeIn-6ad7adac{from{opacity:0}to{opacity:1}}@keyframes slideInRight-6ad7adac{from{opacity:0;transform:translateX(30px)}to{opacity:1;transform:translateX(0)}}@keyframes ripple-6ad7adac{0%{transform:scale(0);opacity:1}100%{transform:scale(4);opacity:0}}

/*# sourceMappingURL=main.css.map*/</style></head><body><div id="app"></div><script>(()=>{'use strict';var e={39(e,t,a){a.d(t,{E8:()=>d,X7:()=>i,m7:()=>o,wd:()=>c});const l='app_backend_service_orders_cache',n=['service_orders_cache'];function s(){for(const e of[{type:'chat'},{type:'global'},{type:'script'}])try{if('function'!=typeof window.getVariables)break;const t=getVariables(e)||{},a=t[l]||n.map(e=>t[e]).find(e=>Array.isArray(e));if(!Array.isArray(a))continue;return a.filter(Boolean).sort((e,t)=>(t.__cachedAt||0)-(e.__cachedAt||0)).slice(0,15)}catch(e){continue}return function(){try{const e=window.localStorage?.getItem(l)||n.map(e=>window.localStorage?.getItem(e)).find(Boolean);if(!e)return[];const t=JSON.parse(e);return Array.isArray(t)?t.filter(Boolean).sort((e,t)=>(t.__cachedAt||0)-(e.__cachedAt||0)).slice(0,15):[]}catch(e){return console.warn('[ServiceOrders] localStorage ',e),[]}}()}function r(e){const t=e?.stat_data||e,a=t?.['']||t?.;if(!a)return[];return(Array.isArray(a)?a:'object'==typeof a?Object.values(a):[]).map((e,t)=>function(e,t){return{id:e.id||`order_${t}`,status:e.||'',:{:e.?.||e.||'',:e.?.||e.||'',:e.?.||e.||0,:e.?.||e.||''},:{:e.?.||'',:e.?.||'',:e.?.||'',:e.?.||'',:e.?.||'',:e.?.||'',:e.?.||''},:{:e.?.||'-',:e.?.||'-',:e.?.||'-',:(e=>{if(null==e||''===e)return'-';if('string'==typeof e){if(e.includes('%'))return e.trim();const t=Number(e);if(!isNaN(t)){if(t<=1)return`${(100*t).toFixed(0)}%`;if(t<=100)return`${t.toFixed(0)}%`}return e.trim()}return'number'==typeof e?e<=1?`${(100*e).toFixed(0)}%`:e<=100?`${e.toFixed(0)}%`:`${e}`:'-'})(e.?.),:e.?.||0},:{:e.?.||'-',:e.?.||'-',:e.||'',:e.||e.?.||'-'},:{:e.?.||e.||'',:e.?.||e.||0,:e.?.||'',:e.?.||0,:e.?.||[]},:{:e.?.||0,:e.?.||'',:e.?.||0,:e.?.||''},:{:{:e.?.?.||'',:e.?.?.||''},:{:e.?.?.||''},:e.?.||'',:e.?.||'',:e.?.||''},originalData:e}}(e,t))}async function o(){try{await waitGlobalInitialized('Mvu');const e=(()=>{try{const e=getCurrentMessageId();if('number'==typeof e&&e<0)return null;for(let t=e;t>=0;t--){const e=Mvu.getMvuData({type:'message',message_id:t});if(e&&e.stat_data)return e}}catch(e){}return Mvu.getMvuData({type:'message',message_id:'latest'})})();if(!e)throw new Error('MVU ');const t=r(e);if(0===t.length){return s()}return function(e){const t=[...e].map((e,t)=>({...e,__cachedAt:Date.now()+t})).sort((e,t)=>(t.__cachedAt||0)-(e.__cachedAt||0)).slice(0,15);for(const e of[{type:'chat'},{type:'global'},{type:'script'}])try{if('function'==typeof window.updateVariablesWith)return void updateVariablesWith(e=>{const a=e&&'object'==typeof e?e:{};return a[l]=t,a},e);if('function'==typeof window.insertOrAssignVariables)return void insertOrAssignVariables({[l]:t},e)}catch(e){continue}try{window.localStorage?.setItem(l,JSON.stringify(t))}catch(e){console.warn('[ServiceOrders] localStorage ',e)}}(t),t}catch(e){console.error('[ServiceOrders]  MVU :',e);const t=s();if(0===t.length)throw e;return t}}function c(e){return e.filter(e=>!String(e.status).includes(''))}function i(e){return e.filter(e=>String(e.status).includes(''))}function d(){return s()}},61(e){e.exports=Vue},224(e){e.exports=_},228(e,t,a){a.r(t),a.d(t,{default:()=>ae});var l=a(61),n=a(992),s=a(707),r=a(813);function o(e){return e.replace(/^\s*[-*?\d().]+/u,'').trim().replace(/^["']|["']$/g,'').trim()}const c=s.z.object({id:s.z.union([s.z.string(),s.z.number()]).transform(e=>String(e)).optional(),shop_id:s.z.union([s.z.string(),s.z.number()]).transform(e=>String(e)).optional(),shop_name:s.z.string().optional(),name:s.z.string().min(1,''),price:s.z.union([s.z.number(),s.z.string()]).default('N/A'),stars:s.z.number().min(0).max(5).default(0),tags:s.z.array(s.z.string()).default([]),icon:s.z.string().nullable().optional(),image1:s.z.string().default(''),image2:s.z.string().default(''),image3:s.z.string().default(''),description:s.z.string().default(''),content:s.z.array(s.z.string()).default([]),reviews:s.z.array(s.z.string()).default([])}),i=s.z.object({id:s.z.union([s.z.string(),s.z.number()]).transform(e=>String(e)).optional(),shop_id:s.z.union([s.z.string(),s.z.number()]).transform(e=>String(e)).optional(),name:s.z.string().min(1).optional(),address:s.z.string().optional().nullable(),city:s.z.string().optional().nullable(),shoptags:s.z.array(s.z.string()).default([]),slogan:s.z.string().default(''),theme:s.z.string().default(''),packages:s.z.array(c).default([])});function d(e,t,a){const l=`[parse][${e}]`;t?console.log(`${l}[success]`,a??''):console.warn(`${l}[fail]`,a??'')}function m(e){try{return'function'==typeof getChatMessages?getChatMessages(e):[]}catch{return[]}}function u(e,t){try{window.dispatchEvent(new CustomEvent(e,{detail:t}))}catch(e){}}function p(e){let t=0;return()=>`${e}_auto_${t++}`}function f(e){const t=new Set,a=e=>{'number'==typeof e&&e<0||t.add(e)};void 0!==e&&a(e);const l=function(){try{return'function'==typeof getCurrentMessageId?getCurrentMessageId():void 0}catch{return}}();'number'!=typeof l||Number.isNaN(l)||a(l),a(-1),a(0);for(const e of Array.from(t))try{let t=[];if(t=m('number'==typeof e&&e<0?e:-1===e?-1:e),!t||0===t.length)continue;const a=[];t.forEach(e=>{let t=e.message;if(!t&&Array.isArray(e.swipes)){const a=e.swipe_id||0;t=e.swipes[a]}t&&a.push(String(t))});const l=a.join('\n\n').trim();if(!l)continue;const n=String(t[0]?.message_id??e??'latest');return console.log('[fetchMessagePayload] hit candidate=',e,'messageId=',n,'snippet=',l.slice(0,80)),{messageId:n,text:l}}catch(t){console.warn('[fetchMessagePayload] failed at candidate',e,t)}return console.warn('[fetchMessagePayload] no payload found after scanning'),null}function v(e){let t=0;for(let a=0;a<e.length;a++)t=31*t+e.charCodeAt(a)>>>0;return t.toString(16)}function g(e){const t=e.id||e.shop_id;if(t)return String(t);const a=[e.name,e.address,e.city].filter(Boolean).join('|');return a?`shop_${v(a)}`:`shop_${v(JSON.stringify(e))}`}function h(e,t,a){if(e.id)return String(e.id);return`pkg_${v(`${t}|${e.name||''}|${e.price||''}`)||a()}`}function b(e){return e.flatMap(e=>e?.packages||[]).map((t,a)=>({...t,id:String(t.id||`pkg_${a}`),shop_id:String(t.shop_id||(t.shopId??(t.shop||{}).id)||e.find(e=>(e.packages||[]).includes(t))?.id||'')}))}function x(e,t,a){const l=[],n=[];let s=1;const r=e=>e.split(/[,/|]/).map(e=>e.trim().replace(/^["']|["']$/g,'')).filter(Boolean);let c=[];if(e.includes('[]')){c=e.split('[]').slice(1).map(e=>{const t=e.indexOf('[/]');return-1!==t?e.slice(0,t):e})}else c=['[]\n[]\n'+e];return c.forEach(e=>{const c=e.split('[/]')[0],[i='',...d]=c.split('[]'),m=i.split('\n').map(e=>e.trim()).filter(Boolean),u={id:'',name:'',shoptags:[],slogan:'',theme:'',packages:[]},p=m.find(e=>/^name[:]/i.test(e));if(p){const e=p.replace(/^name[:]/i,'').trim(),t=e.indexOf('[]');u.name=-1!==t?e.substring(0,t).trim():e}else c.includes('[]')||(u.name='');const f=m.find(e=>/^(id|shop_id)[:]/i.test(e));f&&(u.id=f.replace(/^(id|shop_id)[:]/i,'').trim());const v=m.findIndex(e=>/^shoptags[:]/i.test(e));if(-1!==v){const e=m[v].replace(/^shoptags[:]/i,'').trim();e&&u.shoptags.push(...r(e));for(let e=v+1;e<m.length;e++)if(m[e].match(/^[-*?]/))u.shoptags.push(m[e].replace(/^[-*?]\s*/,'').trim());else if(m[e].startsWith('\'')||m[e].startsWith('"'))u.shoptags.push(m[e].replace(/^["']|["']$/g,'').trim());else{if(m[e].includes(':')||m[e].includes(''))break;{const t=m[e].trim();t&&u.shoptags.push(...r(t))}}}if(-1!==v&&0===u.shoptags.length)for(let e=v+1;e<m.length&&!m[e].includes(':');e++){const t=m[e].replace(/^["']|["']$/g,'').trim();t&&u.shoptags.push(t)}u.id||(u.id=t()),u.shoptags.length>0&&(u.slogan=u.shoptags.join(' / '),u.theme=u.shoptags[0]||''),d.forEach(e=>{const t=(e.split('[/]')[0]??e).split('\n').map(e=>e.trim()).filter(Boolean);if(0===t.length)return;const l={id:a(),shop_id:u.id,shop_name:u.name,name:'',price:'N/A',stars:0,tags:[],icon:null,image1:'',image2:'',image3:'',description:'',content:[],reviews:[]};let c=null,i=null;t.forEach(e=>{const t=e.match(/^([^:]+)[:](.*)$/);let a=!1;if(t){const e=t[1].trim().toLowerCase();['name','price','stars','icon','image1','image2','image3','description','tags','content','reviews'].includes(e)&&(a=!0)}if(a&&t){const e=t[1].trim().toLowerCase(),a=t[2].trim();if(['name','price','stars','icon','image1','image2','image3','description'].includes(e)){l[e]='stars'===e?parseFloat(a)||0:a,c=null,i=['description','image1','image2','image3'].includes(e)?e:null}else if(['tags','content','reviews'].includes(e)&&(c=e,i=null,a)){(a.startsWith('-')?[a.replace(/^-/,'').trim()]:r(a)).forEach(t=>{const a=t.replace(/^["']|["']$/g,'').trim();a&&l[e].push(a)})}}else if(['tags','content','reviews'].includes(e.toLowerCase()))c=e.toLowerCase(),i=null;else if(c){const t=o(e);t&&l[c].push(t)}else i&&(l[i]+='\n'+e)}),!l.name&&(l.content.length>0||l.reviews.length>0||l.tags.length>0)&&(l.name=''+s++),l.name&&(u.packages.push(l),n.push(l))}),l.push(u)}),{shops:l,packages:n}}function E(e){const t=new Map;return(e||[]).forEach(e=>{if(!e)return;const a=Array.isArray(e?.packages)&&e.packages[0]?.name?e.packages[0].name:'',l={...e,name:e?.name||(a?`${a}`:''),packages:Array.isArray(e?.packages)?e.packages:[],id:g(e)};let n=null;try{n=i.parse(l)}catch(e){d('sanitize_shop',!1,e),n={id:String(l.id||g(l)),name:l.name||'',shoptags:Array.isArray(l.shoptags)?l.shoptags:[],slogan:l.slogan||'',theme:l.theme||'',packages:Array.isArray(l.packages)?l.packages:[]}}if(!n)return;const s=n.shop_id&&String(n.shop_id)?`id:${String(n.shop_id)}`:n.name?`name:${n.name}`:`auto:${g(n)}`;t.has(s)||t.set(s,n)}),Array.from(t.values())}function y(e){const t=p('shop'),a=p('pkg'),l=e=>{const t=E(e.shops);return{shops:t,packages:b(t).map(e=>({...e,id:e.id||h(e,e.shop_id||'unknown',a)}))}};if(!(e=function(e){return e.replace(/^\s*\[(\/?|\/?)\]\s*$/gm,(e,t)=>`[${t}]`)}(function(e){return e.replace(/\[\/?(|)[^\]]*\]/g,'').replace(/\[\/?[^\]]*\]/g,'').replace(/^\s*\[()\]\s*$/gm,'')}(e))).trim())return d('input',!1,'empty text'),{shops:[],packages:[]};const n=function(e){const t=e.indexOf('json');if(-1===t)return null;const a=e.slice(t).indexOf('{');if(-1===a)return null;const l=t+a,n=e.slice(l),s=N(n,0);return-1===s?null:n.slice(0,s+1)}(e);if(n)try{const e=w(JSON.parse(n.replace(//g,',')));return d('json_norm',!0,{shops:e.shops.length}),l(e)}catch(e){d('json_norm',!1,e)}const s=function(e){try{const t=function(e){const t=e.trim(),a=t.search(/const\s+template\s*=/);if(-1!==a){const e=t.indexOf('{',a);if(-1!==e){const a=N(t,e);if(-1!==a)return t.slice(e,a+1)}}const l=t.indexOf('{');if(-1===l)return null;const n=N(t,l);return-1!==n?t.slice(l,n+1):t.slice(l)}(e);if(!t)return null;const a=function(e){let t=0;for(const a of e)'{'===a?t+=1:'}'===a&&(t=Math.max(0,t-1));return t>0?e+'}'.repeat(t):e}(t.replace(/\/\*[\s\S]*?\*\//g,'').replace(/\/\/[^\n\r]*/g,'').replace(/,\s*([}\]])/g,'$1').trim());try{return w(JSON.parse(a))}catch(t){const e=V(a);if(e)return w(e);throw t}}catch(e){return null}}(e);if(s){if(s.packages.length>0||s.shops.some(e=>e.name&&''!==e.name&&''!==e.name))return d('js_template',!0,{shops:s.shops.length}),l(s);d('js_template',!1,'empty or invalid result, continue fallback')}if(e.includes('[]')){const n=x(e,t,a);if(n&&n.shops.length>0)return d('text_tags_priority',!0,{shops:n.shops.length}),l(n)}if(window.YAML&&(e.includes('shops:')||e.includes('- name:')||e.includes('[]'))){if(e.includes('[]')){const t=e.split('[]').slice(1),a=[];for(const e of t){const t=e.split('[/]')[0].trim();if(t){if(t.includes('[]')){const e=y(`[]\n${t}\n[/]`);if(e.shops.length>0){a.push(...e.shops);continue}}try{const e=window.YAML.parse(t);e&&'object'==typeof e&&(e.name||e.packages||e.shop_id)&&a.push(e)}catch(e){console.warn('[shopData] YAML :',e);const l=k(t);l&&a.push(l)}}}if(a.length>0)return console.log('[shopData] YAML :',a.length),d('yaml_segments',!0,{shops:a.length}),l(w({shops:a}))}try{const t=w(window.YAML.parse(e));if(t.shops.length>0)return d('yaml_full',!0,{shops:t.shops.length}),l(t)}catch(e){}}const r=e=>{if(e.packages.length>0)return!1;return!e.shops.some(e=>e.name&&''!==e.name&&''!==e.name&&!e.name.startsWith(''))};try{let t=e.trim();const a=t.match(/```(?:json)?\s*([\s\S]*?)\s*```/i);if(a&&(t=a[1].trim()),!t.startsWith('{')&&!t.startsWith('[')){const e=t.indexOf('{');-1!==e&&(t=t.slice(e))}if(t.startsWith('{')||t.startsWith('[')){const e=JSON.parse(t),a=l(w(e));if(!r(a))return d('json',!0,{shops:a.shops.length}),a}}catch(e){}const c=function(e){const t=e.trim();let a=[t.indexOf('{'),t.indexOf('[')].filter(e=>-1!==e).sort((e,t)=>e-t);const l=t.search(/["']?shops["']?\s*:/);if(-1!==l){const e=t.lastIndexOf('{',l);-1!==e&&a.unshift(e)}a=[...new Set(a)];for(const e of a){const a=[];let l=t.lastIndexOf('}');for(;l>=e&&(a.push(l),l=t.lastIndexOf('}',l-1),!(a.length>20)););let n=t.lastIndexOf(']');for(;n>=e&&(a.push(n),n=t.lastIndexOf(']',n-1),!(a.length>40)););a.sort((e,t)=>t-e);for(const l of a){const a=t.slice(e,l+1);try{const e=w(JSON.parse(a));if(e.shops.length>0||e.packages.length>0)return e}catch(e){}try{const e=a.replace(/\/\/[^\n\r]*/g,'').replace(/\/\*[\s\S]*?\*\//g,''),t=w(JSON.parse(e));if(t.shops.length>0||t.packages.length>0)return t}catch(e){}try{const e=V(a);if(e){const t=w(e);if(t.shops.length>0||t.packages.length>0)return t}}catch(e){}}}return null}(e);if(c){const e=l(c);if(!r(e))return d('json_tolerant',!0,{shops:c.shops.length}),e}const i=x(e,t,a);let{shops:m,packages:u}=i;if(0===u.length){const l=m[0]||{id:t(),name:'',shoptags:[],slogan:'',theme:'',packages:[]};0===m.length&&m.push(l);const n=function(e,t,a){const l=e.split('\n').map(e=>e.trim()).filter(Boolean);if(0===l.length)return null;const n={id:a(),shop_id:t.id,shop_name:t.name,name:'',price:'N/A',stars:0,tags:[],icon:null,image1:'',image2:'',image3:'',description:'',content:[],reviews:[]};let s=null,r=null;l.forEach(e=>{const t=e.match(/^([^:]+)[:](.*)$/);let a=!1;if(t){const e=t[1].trim().toLowerCase();['name','price','stars','icon','image1','image2','image3','description','tags','content','reviews'].includes(e)&&(a=!0)}if(a&&t){const e=t[1].trim().toLowerCase(),a=t[2].trim();if(['name','price','stars','icon','image1','image2','image3','description'].includes(e))n[e]='stars'===e?parseFloat(a)||0:a,s=null,r=['description','image1','image2','image3'].includes(e)?e:null;else if(['tags','content','reviews'].includes(e)&&(s=e,r=null,a)){(a.startsWith('-')?[a.replace(/^-/,'').trim()]:a.split(/[,/|]/).map(e=>e.trim())).map(e=>e.replace(/^["']|["']$/g,'').trim()).filter(Boolean).forEach(t=>n[e].push(t))}}else if(['tags','content','reviews'].includes(e.toLowerCase()))s=e.toLowerCase(),r=null;else if(s){const t=o(e);t&&n[s].push(t)}else r&&(n[r]+='\n'+e)}),!n.name&&(n.content.length||n.reviews.length||n.tags.length)&&(n.name='');return n.name?n:null}(e,l,a);if(n)l.packages.push(n),u.push(n),m=[l];else{const t=function(e,t,a){const l=e.split('\n').map(e=>e.trim());let n=!1,s=!1;const r=[],o=[];for(const e of l)if(/^content\b/i.test(e))n=!0,s=!1;else if(/^reviews?\b/i.test(e))s=!0,n=!1;else if(n||s){if(/^[A-Za-z_][A-Za-z0-9_]*[:]/.test(e)){n=!1,s=!1;continue}const t=e.match(/^[-*?]\s*(.*)$/);if(t){const e=t[1].replace(/^["']|["']$/g,'').trim();e&&(n?r.push(e):s&&o.push(e))}else if(e.trim()){const t=e.replace(/^["']|["']$/g,'').trim();t&&(n?r.push(t):s&&o.push(t))}}return 0===r.length&&0===o.length?null:{id:a(),shop_id:t.id,shop_name:t.name,name:'',price:'N/A',stars:0,tags:[],icon:null,image1:'',image2:'',image3:'',description:'',content:r,reviews:o}}(e,l,a);t?(l.packages.push(t),u.push(t),m=[l]):e.includes('[]')||(m=[])}}const f=l({shops:m,packages:u});f.shops=f.shops.filter(e=>{const t=['',''].includes(e.name||'')||(e.name||'').startsWith(''),a=e.packages.every(e=>e.name.startsWith(''));return!t||!a||(console.log('[parse] filter ghost shop:',e.id),!1)}),f.packages=b(f.shops);const v=e.includes('[]'),g=window.YAML&&(e.includes('shops:')||e.includes('- name:'));if(!(n||s||v||g||0!==f.packages.length)){if(!f.shops.some(e=>e.name&&''!==e.name&&''!==e.name&&!e.name.startsWith('')))return d('text_strict_filter',!1,'no packages and no explicit shop tag, discard empty shop'),{shops:[],packages:[]}}return d('text',!0,{shops:f.shops.length,packages:f.packages.length}),f}function N(e,t){let a=0,l=!1,n=!1;for(let s=t;s<e.length;s++){const t=e[s];if(n)n=!1;else if('\\'!==t){if(l)t===l&&(l=!1);else if('"'===t||'\''===t)l=t;else if('{'===t)a++;else if('}'===t&&(a--,0===a))return s}else n=!0}return-1}function V(e){const t=e.replace(/([:,[]\s*)\{([^:{}]+)\}/g,(e,t,a)=>a.trim().startsWith('"')||a.trim().startsWith('\'')?e:`${t}"${a.trim()}"`),a=[],l=t.replace(/"((?:[^"\\]|\\.)*)"|'((?:[^'\\]|\\.)*)'/g,e=>{const t=e.replace(/\r?\n/g,'\\n');return a.push(t),`__STR_${a.length-1}__`});if(/(function\b|=>|\bclass\b|\bwhile\b|\bfor\b|\bimport\b|\bexport\b|\beval\b|\brequire\b)/.test(l))return null;let n=l.replace(/(^|[{\s,])([A-Za-z_][A-Za-z0-9_]*)\s*:/g,'$1"$2":');n=n.replace(/,\s*([}\]])/g,'$1');const s=n.replace(/__STR_(\d+)__/g,(_,e)=>a[parseInt(e)]||'""');try{return new Function(`return (${s});`)()}catch(e){return null}}function k(e){try{const t={packages:[]},a=e.match(/^\s*shop_id:\s*(.+)$/m);a&&(t.shop_id=a[1].trim());const l=e.match(/^\s*name:\s*(.+)$/m);if(l&&(t.name=l[1].trim().replace(/^["']|["']$/g,'')),!t.shop_id&&!t.name)return null;const n=e.indexOf('packages:');if(-1!==n){const a=e.slice(n);a.split(/^\s*-\s*name:/m).slice(1).forEach(e=>{const a={name:'',content:[],reviews:[],tags:[]},l=e.indexOf('\n'),n=-1===l?e:e.slice(0,l);a.name=n.trim().replace(/^["']|["']$/g,'');const s=t=>{const a='^\\s*'+t+':\\s*(.+)$',l=e.match(new RegExp(a,'m'));return l?l[1].trim().replace(/^["']|["']$/g,''):null};a.price=s('price'),a.stars=parseFloat(s('stars')||'0'),a.icon=s('icon'),a.description=s('description'),a.image1=s('image1'),a.image2=s('image2'),a.image3=s('image3');const r=t=>{const a=e.indexOf(`${t}:`);if(-1===a)return[];const l=[],n=e.slice(a).split('\n').slice(1);for(const e of n){if(e.trim()&&!e.trim().startsWith('-'))break;e.trim().startsWith('-')&&l.push(e.trim().replace(/^-\s*/,'').replace(/^["']|["']$/g,''))}return l};a.tags=r('tags'),a.content=r('content'),a.reviews=r('reviews'),t.packages.push(a)})}return t}catch(e){return null}}function w(e){const t=p('pkg'),a=[],l=[];let n=[];Array.isArray(e)?n=e:e&&'object'==typeof e&&(n=Array.isArray(e.shops)?e.shops:e.shops&&'object'==typeof e.shops?[e.shops]:[e]);const s=e=>{if(!e||'object'!=typeof e)return void console.warn('[normalize] skip non-object shop entry',e);Array.isArray(e.packages)||console.warn('[normalize] shop packages not array',e);const n=(()=>{try{return i.parse({...e,id:String(g(e)),shop_id:e.shop_id?String(e.shop_id):void 0,name:e.name||'',packages:[]})}catch(e){return d('schema',!1,e),null}})();if(!n)return;const s=String(n.id||g(n)),r=(Array.isArray(e.packages)?e.packages:[]).map(e=>{if(!e||'object'!=typeof e)return null;const a={...e,id:String(h(e,s,t)),shop_id:String(s),shop_name:n.name};try{return c.parse(a)}catch(e){return d('schema_pkg',!1,e),null}}).filter(Boolean),o={...n,id:s,packages:r};a.push(o),l.push(...r),console.log('[normalize] accepted shop',o.name,'packages=',r.length)};console.log('[normalize] rawShops snapshot:',n),n.forEach(e=>{e&&'object'==typeof e&&Array.isArray(e.shops)?e.shops.forEach(e=>s(e)):s(e)});const r=new Map;a.forEach(e=>{const t=String(e.id||g(e));r.has(t)||r.set(t,e)});const o=new Map;l.forEach(e=>{const a=String(e.id||h(e,e.shop_id||'unknown',t));o.has(a)||o.set(a,e)});const m={shops:Array.from(r.values()),packages:Array.from(o.values())};return d('normalize',!0,{rawShops:n.length,shops:m.shops.length,pkgs:m.packages.length}),m}const S={class:'app-view active'},C={class:'app-header'},B={class:'title'},D={id:'detail-header-title'},A={id:'detail-content',class:'app-content'},M={class:'detail-info-card'},j={class:'detail-name'},L={class:'detail-tags'},I={class:'detail-tabs'},P={key:0,class:'service-item description-item'},T={class:'text'},F={key:1},O=['onClick'],J={key:2,class:'empty-state'},R={key:0},U={key:1,class:'empty-state'},H={class:'image-item'},G={class:'image-item'},W={class:'image-item'},K={class:'detail-footer'},Y={class:'price-info'},q={class:'price'},X={class:'modal-content'},Z={key:0,class:'modal-content-tags'},Q={class:'modal-tags-wrapper'},ee=['onClick'],te=(0,l.defineComponent)({__name:'ItemDetail',setup(e){const t=(0,n.useRoute)(),a=(0,l.ref)(null),s=(0,l.ref)('content'),o=(0,l.ref)(!1),c=(0,l.ref)(''),i=(0,l.ref)(r.U),d=(0,l.ref)(!1);function m(){o.value=!0}function p(){o.value=!1,c.value=''}function v(){!function(e){console.log(`[AI]: ${e}`);const t=`${e} | /trigger await=true`;if(void 0!==window.triggerSlash)try{window.triggerSlash(t)}catch(e){console.error('triggerSlash:',e)}else console.log(`[AI - ]: ${t}`)}(`/send ${a.value?.name||''}${a.value?.description||''}${c.value||''}`),p()}return(0,l.onMounted)(async()=>{const e=t.params.id,l=function(){try{const e=f();if(e){u('shop:parse:requested',{messageId:e.messageId});const t=y(e.text);if(t.shops.length>0||t.packages.length>0)return u('shop:parse:done',{messageId:e.messageId,parsed:t.shops.length,errors:[]}),t;u('shop:parse:done',{messageId:e.messageId,parsed:0,errors:['empty result']})}else console.warn('[extractDataFromMessage] no payload, fallback store cache');const t=E(r.U.getShops()||[]);return t.length>0?{shops:t,packages:b(t)}:{shops:[],packages:[]}}catch(e){return console.warn('[extractDataFromMessage] failed',e),{shops:[],packages:[]}}}().packages||[];let n=[];try{n=(i.value.getShops()||[]).flatMap(e=>e.packages||[])}catch(e){console.warn('[ItemDetail] ShopStore Mvu Error',e)}const s=function(e){const t=new Map;return e.forEach(e=>{if(!e)return;const a=e.id?String(e.id):'';a&&!t.has(a)&&t.set(a,e)}),Array.from(t.values())}([...l,...n]);if(a.value=s.find(t=>String(t.id)===String(e)),!a.value){const e=t.query?.name;e&&(a.value=s.find(t=>t.name===e))}!a.value&&s.length>0&&(a.value=s[0],d.value||(console.warn('[ItemDetail]  ID',{want:e,candidates:s.slice(0,5).map(e=>e.id)}),d.value=!0)),console.log('[ItemDetail] loaded item:',a.value)}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',S,[(0,l.createElementVNode)('div',C,[(0,l.createElementVNode)('div',B,[(0,l.createElementVNode)('i',{class:'fas fa-arrow-left',onClick:t[0]||(t[0]=t=>e.$router.back())}),(0,l.createElementVNode)('span',D,(0,l.toDisplayString)(a.value?.name||''),1)])]),(0,l.createElementVNode)('div',A,[(0,l.createElementVNode)('div',M,[(0,l.createElementVNode)('div',j,(0,l.toDisplayString)(a.value?.name||''),1),(0,l.createElementVNode)('div',L,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.value?.tags||[],e=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:e,class:'tag'},(0,l.toDisplayString)(e),1))),128))])]),(0,l.createElementVNode)('div',I,[(0,l.createElementVNode)('button',{class:(0,l.normalizeClass)(['tab-link',{active:'content'===s.value}]),onClick:t[1]||(t[1]=e=>s.value='content')},'  ',2),(0,l.createElementVNode)('button',{class:(0,l.normalizeClass)(['tab-link',{active:'reviews'===s.value}]),onClick:t[2]||(t[2]=e=>s.value='reviews')},'  ',2),(0,l.createElementVNode)('button',{class:(0,l.normalizeClass)(['tab-link',{active:'images'===s.value}]),onClick:t[3]||(t[3]=e=>s.value='images')},'  ',2)]),(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['tab-content',{active:'content'===s.value}])},[a.value?.description?((0,l.openBlock)(),(0,l.createElementBlock)('div',P,[(0,l.createElementVNode)('div',null,[t[5]||(t[5]=(0,l.createElementVNode)('p',{class:'title'},'',-1)),(0,l.createElementVNode)('p',T,(0,l.toDisplayString)(a.value.description),1)])])):(0,l.createCommentVNode)('v-if',!0),a.value?.content&&a.value.content.length>0?((0,l.openBlock)(),(0,l.createElementBlock)('div',F,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.value.content,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e,class:'service-item clickable',onClick:t=>function(e){c.value=e,m()}(e)},[(0,l.createElementVNode)('p',null,(0,l.toDisplayString)(e),1)],8,O))),128)),t[6]||(t[6]=(0,l.createElementVNode)('div',{class:'tip-text'},' ""',-1))])):((0,l.openBlock)(),(0,l.createElementBlock)('div',J,[...t[7]||(t[7]=[(0,l.createElementVNode)('i',{class:'fas fa-list-ul'},null,-1),(0,l.createElementVNode)('p',null,'',-1)])]))],2),(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['tab-content',{active:'reviews'===s.value}])},[a.value?.reviews&&a.value.reviews.length>0?((0,l.openBlock)(),(0,l.createElementBlock)('div',R,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.value.reviews,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e,class:'review-item'},[(0,l.createElementVNode)('p',null,(0,l.toDisplayString)(e),1)]))),128))])):((0,l.openBlock)(),(0,l.createElementBlock)('div',U,[...t[8]||(t[8]=[(0,l.createElementVNode)('i',{class:'fas fa-comment-slash'},null,-1),(0,l.createElementVNode)('p',null,'',-1)])]))],2),(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['tab-content',{active:'images'===s.value}])},[(0,l.createElementVNode)('div',H,[t[9]||(t[9]=(0,l.createElementVNode)('h5',null,'',-1)),(0,l.createElementVNode)('div',{class:'image-placeholder',style:(0,l.normalizeStyle)({borderStyle:a.value?.image1?'solid':'dashed'})},(0,l.toDisplayString)(a.value?.image1||''),5)]),(0,l.createElementVNode)('div',G,[t[10]||(t[10]=(0,l.createElementVNode)('h5',null,'',-1)),(0,l.createElementVNode)('div',{class:'image-placeholder',style:(0,l.normalizeStyle)({borderStyle:a.value?.image2?'solid':'dashed'})},(0,l.toDisplayString)(a.value?.image2||''),5)]),(0,l.createElementVNode)('div',W,[t[11]||(t[11]=(0,l.createElementVNode)('h5',null,'',-1)),(0,l.createElementVNode)('div',{class:'image-placeholder',style:(0,l.normalizeStyle)({borderStyle:a.value?.image3?'solid':'dashed'})},(0,l.toDisplayString)(a.value?.image3||''),5)])],2)]),(0,l.createElementVNode)('div',K,[(0,l.createElementVNode)('div',Y,[(0,l.createElementVNode)('span',q,(0,l.toDisplayString)(a.value?.price||'0'),1)]),(0,l.createElementVNode)('button',{class:'order-btn',onClick:m},'')]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',{id:'remark-modal',class:'modal-overlay',style:(0,l.normalizeStyle)({display:o.value?'flex':'none'})},[(0,l.createElementVNode)('div',X,[t[13]||(t[13]=(0,l.createElementVNode)('h3',null,'',-1)),a.value?.content&&a.value.content.length>0?((0,l.openBlock)(),(0,l.createElementBlock)('div',Z,[t[12]||(t[12]=(0,l.createElementVNode)('h4',{class:'modal-tags-title'},'',-1)),(0,l.createElementVNode)('div',Q,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a.value.content,e=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:e,class:'content-tag-btn',onClick:t=>function(e){c.value?c.value+=' '+e:c.value=e}(e)},(0,l.toDisplayString)(e),9,ee))),128))])])):(0,l.createCommentVNode)('v-if',!0),(0,l.withDirectives)((0,l.createElementVNode)('textarea',{id:'remark-textarea','onUpdate:modelValue':t[4]||(t[4]=e=>c.value=e),placeholder:'NTRNTL...'},null,512),[[l.vModelText,c.value]]),(0,l.createElementVNode)('div',{class:'modal-buttons'},[(0,l.createElementVNode)('button',{class:'modal-btn-cancel',onClick:p},''),(0,l.createElementVNode)('button',{class:'modal-btn-confirm',onClick:v},'')])])],4)]))}});const ae=(0,a(455).A)(te,[['__scopeId','data-v-6ad7adac']])},308(e,t,a){a.r(t),a.d(t,{default:()=>C});var l=a(61),n=a(992),s=a(813);const r={class:'app-view active'},o={class:'app-header'},c={class:'title'},i={class:'app-content'},d={class:'shop-header-card'},m={class:'shop-avatar-text'},u={key:1,class:'fas fa-store'},p={class:'shop-name'},f={class:'shop-slogan'},v={class:'list-section'},g={class:'package-list'},h={key:0,class:'empty-state'},b=['data-id','onClick'],x={class:'avatar-text'},E={key:1},y={class:'info'},N={class:'name'},V={class:'desc'},k={key:0},w={class:'nav-bar'},S=(0,l.defineComponent)({__name:'ShopDetail',setup(e){const t=(0,n.useRoute)(),a=(0,n.useRouter)(),S=(0,l.ref)(null),C=(0,l.ref)([]),B=(0,l.ref)(s.U);return(0,l.onMounted)(async()=>{const e=t.params.id,a=function(e){const t=new Map;return e.forEach(e=>{if(!e)return;const a=e.id?String(e.id):'';a&&!t.has(a)&&t.set(a,{...e,id:a})}),Array.from(t.values())}(B.value.getShops()||[]);S.value=a.find((t,a)=>String(t.id??a)===String(e))||a[Number(e)]||null,S.value?C.value=(S.value.packages||[]).map((e,t)=>({...e,id:String(e.id??`${S.value.id}_pkg_${t}`),shop_id:String(e.shop_id??S.value.id??'')})):C.value=[]}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',r,[(0,l.createElementVNode)('div',o,[(0,l.createElementVNode)('div',c,[(0,l.createElementVNode)('i',{class:'fas fa-arrow-left',onClick:t[0]||(t[0]=t=>e.$router.back())}),t[3]||(t[3]=(0,l.createElementVNode)('span',null,'',-1))])]),(0,l.createElementVNode)('div',i,[(0,l.createElementVNode)('div',d,[(0,l.createElementVNode)('div',m,[C.value.find(e=>e.icon)?((0,l.openBlock)(),(0,l.createElementBlock)('i',{key:0,class:(0,l.normalizeClass)(C.value.find(e=>e.icon).icon)},null,2)):((0,l.openBlock)(),(0,l.createElementBlock)('i',u))]),(0,l.createElementVNode)('div',p,(0,l.toDisplayString)(S.value?.shopname||S.value?.name||''),1),(0,l.createElementVNode)('div',f,(0,l.toDisplayString)(S.value?.slogan||(S.value?.shoptags||[]).join(' / ')||''),1)]),t[6]||(t[6]=(0,l.createElementVNode)('div',{class:'restore-tip'},[(0,l.createElementVNode)('i',{class:'fas fa-undo-alt'}),(0,l.createElementVNode)('span',null,'')],-1)),(0,l.createElementVNode)('div',v,[t[5]||(t[5]=(0,l.createElementVNode)('div',{class:'section-header'},[(0,l.createElementVNode)('h3',null,'')],-1)),(0,l.createElementVNode)('div',g,[0===C.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',h,[...t[4]||(t[4]=[(0,l.createElementVNode)('i',{class:'fas fa-box-open'},null,-1),(0,l.createElementVNode)('p',null,'',-1)])])):(0,l.createCommentVNode)('v-if',!0),((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(C.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.id,class:'package-card','data-id':e.id,onClick:t=>function(e){a.push({path:`/item/${e.id}`,query:{name:e.name}})}(e)},[(0,l.createElementVNode)('div',x,[e.icon?((0,l.openBlock)(),(0,l.createElementBlock)('i',{key:0,class:(0,l.normalizeClass)(e.icon)},null,2)):((0,l.openBlock)(),(0,l.createElementBlock)('span',E,''))]),(0,l.createElementVNode)('div',y,[(0,l.createElementVNode)('div',N,(0,l.toDisplayString)(e.name),1),(0,l.createElementVNode)('div',V,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)((e.tags||[]).slice(0,4),e=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:e,class:'package-tag'},(0,l.toDisplayString)(e.replace(/['"]/g,'')),1))),128)),e.tags&&0!==e.tags.length?(0,l.createCommentVNode)('v-if',!0):((0,l.openBlock)(),(0,l.createElementBlock)('span',k,(0,l.toDisplayString)((e.description||'').split('\n')[0]),1))])])],8,b))),128))])])]),(0,l.createElementVNode)('div',w,[(0,l.createElementVNode)('div',{class:'nav-item',onClick:t[1]||(t[1]=t=>e.$router.push('/home'))},[...t[7]||(t[7]=[(0,l.createElementVNode)('i',{class:'fas fa-home'},null,-1),(0,l.createElementVNode)('span',null,'',-1)])]),(0,l.createElementVNode)('div',{class:'nav-item',onClick:t[2]||(t[2]=t=>e.$router.push('/discover'))},[...t[8]||(t[8]=[(0,l.createElementVNode)('i',{class:'fas fa-compass'},null,-1),(0,l.createElementVNode)('span',null,'',-1)])])])]))}});const C=(0,a(455).A)(S,[['__scopeId','data-v-462b0a62']])},363(e,t,a){function l(e,t,a='--'){if(!e)return a;const l=t.replace(/\[(\d+)\]/g,'.$1').split('.').filter(Boolean);let n=e;for(const e of l){if(null==n)return a;n=n[e]}return n??a}function n(e){const t=e?.minHeightPx??480;if(!(()=>{try{return window.self!==window.top}catch{return!0}})())return()=>{};const a=window.frameElement;if(!a)return()=>{};let l=0;const n=()=>{l=0;const e=`${Math.max(t,(()=>{try{const e=window.parent?.document;if(!e)return window.innerHeight;const t=['#chat','#chat-wrapper','#chat-container','#chat-messages','.chat','.chat-wrapper','.chat-content'];for(const a of t){const t=e.querySelector(a);if(t&&t.clientHeight>0)return t.clientHeight}return e.documentElement?.clientHeight||window.parent.innerHeight||window.innerHeight}catch{return window.innerHeight}})())}px`;a.style.height!==e&&(a.style.height=e,a.style.maxHeight=e,a.style.display='block')},s=()=>{l||(l=window.requestAnimationFrame(n))};s(),window.addEventListener('resize',s);try{window.parent?.addEventListener?.('resize',s)}catch{}return()=>{window.removeEventListener('resize',s);try{window.parent?.removeEventListener?.('resize',s)}catch{}l&&window.cancelAnimationFrame(l)}}async function s(){try{await Promise.race([waitGlobalInitialized('Mvu'),new Promise((_,e)=>setTimeout(()=>e(new Error('MVU')),2e3))]);const e=Mvu.getMvuData({type:'message',message_id:'latest'});if(!e)return'/home';const t=e.stat_data?.['']||e[''];if(!t||!Array.isArray(t)||0===t.length)return'/home';return 0===t.filter(e=>!(e.||'').includes('')).length?'/home':'/play'}catch(e){return console.error('[] :',e),'/home'}}a.d(t,{In:()=>n,LJ:()=>l,dR:()=>s})},420(e,t,a){a.r(t),a.d(t,{default:()=>Qe});var l=a(61),n=a(39),s=a(363);const r={class:'app-view active'},o={class:'app-header'},c={class:'app-content'},i={key:0,class:'empty-state'},d={key:1,class:'loading-state'},m={key:2,class:'tabs-container'},u=['onClick'],p={key:3,class:'status-card'},f={class:'status-header'},v={class:'basic-info'},g={class:'girl-name'},h={class:'sub-info'},b={class:'identity'},x={class:'age'},E={class:'badges'},y={key:0,class:'badge badge-type'},N={class:'order-status-row'},V={class:'status-item'},k={class:'status-text'},w={class:'status-item'},S={class:'status-text'},C={class:'rating-section'},B={class:'stars'},D={class:'affection-score'},A={class:'price-section'},M={class:'price-value'},j={class:'package-name'},L={key:0,class:'features-tags'},I={class:'metrics-grid'},P={class:'metric-card'},T={key:0,class:'metric-unit'},F={class:'metric-card'},O={class:'metric-value'},J={key:0},R={class:'progress-bar'},U={class:'metric-card'},H={class:'metric-value'},G={class:'metric-card'},W={class:'metric-value'},K={key:4,class:'detail-section'},Y={class:'detail-card accordion'},q={class:'accordion-body'},X={class:'detail-group'},Z={key:0,class:'clothing-grid'},Q={class:'clothing-key'},ee={class:'clothing-value'},te={key:1,class:'empty-text'},ae={class:'detail-group collapsible-group'},le={class:'collapsible-content'},ne={class:'psychology-content'},se={class:'psychology-item'},re={class:'psychology-text'},oe={class:'detail-group collapsible-group'},ce={class:'collapsible-content'},ie={class:'body-feature-grid'},de={class:'feature-row'},me={class:'feature-item'},ue={class:'feature-content'},pe={class:'feature-value'},fe={class:'feature-item'},ve={class:'feature-content'},ge={class:'feature-value'},he={class:'feature-description'},be={class:'desc-item'},xe={class:'desc-text'},Ee={class:'desc-item'},ye={class:'desc-text'},Ne={class:'desc-item'},Ve={class:'desc-text'},ke={class:'detail-group collapsible-group'},we={class:'collapsible-content'},Se={class:'experience-stats'},Ce={class:'stats-section'},_e={class:'stats-grid'},Be={class:'stat-item'},ze={class:'stat-content'},De={class:'stat-value'},Ae={class:'stat-item'},$e={class:'stat-content'},Me={class:'stat-value'},je={class:'stat-item'},Le={class:'stat-content'},Ie={class:'stat-value'},Pe={class:'stat-item'},Te={class:'stat-content'},Fe={class:'stat-value'},Oe={class:'stat-item'},Je={class:'stat-content'},Re={class:'stat-value'},Ue={class:'stats-section'},He={class:'stats-grid'},Ge={class:'stat-item'},We={class:'stat-content'},Ke={class:'stat-value'},Ye={class:'stat-item'},qe={class:'stat-content'},Xe={class:'stat-value'},Ze=(0,l.defineComponent)({__name:'Service',setup(e){const t=(0,l.ref)([]),a=(0,l.ref)(0),Ze=(0,l.ref)(!0),Qe=(0,l.ref)(!1),et=(0,l.ref)(!1),tt=(0,l.ref)(''),at=(0,l.ref)(!1),lt=(0,l.ref)(!1),nt=(0,l.ref)(!1);(0,l.watch)(a,()=>{Ze.value=!0,at.value=!1,lt.value=!1,nt.value=!1});const st=(0,l.computed)(()=>t.value[a.value]||null);async function rt(){et.value=!0,tt.value='';try{const e=await(0,n.m7)(),a=(0,n.wd)(e);t.value=a,0===a.length?(tt.value='',console.log('[] ')):toastr.success(` ${a.length} `,'')}catch(e){console.error('[Service] :',e);const a=(0,n.E8)(),l=(0,n.wd)(a);a.length>0?(t.value=l,toastr.info(` ${l.length}`,''),tt.value=''):(tt.value=e.message||'',console.log('[] '),t.value=[])}finally{et.value=!1}}const ot=(0,l.computed)(()=>({name:(0,s.LJ)(st.value,'.',''),identity:(0,s.LJ)(st.value,'.',''),age:(0,s.LJ)(st.value,'.',0)})),ct=(0,l.computed)(()=>({name:(0,s.LJ)(st.value,'.',''),price:(0,s.LJ)(st.value,'.','0'),type:(0,s.LJ)(st.value,'.',''),features:(0,s.LJ)(st.value,'.',[])})),it=(0,l.computed)(()=>{const e=st.value?.status||(0,s.LJ)(st.value,'','')||(0,s.LJ)(st.value,'.','');return String(e).includes('')?'':String(e).includes('')?'':`${e||''}AI`}),dt=(0,l.computed)(()=>{const e=it.value;return e.includes('')?'status-active':e.includes('')?'status-completed':'status-pending'}),mt=(0,l.computed)(()=>(0,s.LJ)(st.value,'.','-')),ut=(0,l.computed)(()=>{const e=parseFloat(String(mt.value));return isNaN(e)?'status-normal':e<60?'status-warning':e>100?'status-danger':'status-normal'}),pt=(0,l.computed)(()=>{switch(ut.value){case'status-warning':return'var(--status-warning)';case'status-danger':return'var(--status-danger)';default:return'var(--status-success)'}}),ft=(0,l.computed)(()=>{const e=Math.floor(vt.value/100*5);return Math.min(5,Math.max(0,e))}),vt=(0,l.computed)(()=>{const e=(0,s.LJ)(st.value,'.',0);return'number'==typeof e?e:parseFloat(e)||0}),gt=(0,l.computed)(()=>{const e=(0,s.LJ)(st.value,'.',0),t='number'==typeof e?e:parseFloat(String(e));return isNaN(t)?'-':t<=0?0:1===t?50:100}),ht=(0,l.computed)(()=>{const e=gt.value;return'-'===e?'0%':`${e}%`}),bt=(0,l.computed)(()=>{const e=gt.value;return'-'===e?'#E0E0E0':e<30?'#FFA726':e>80?'#66BB6A':'#FFD54F'}),xt=(0,l.computed)(()=>{const e=(0,s.LJ)(st.value,'.',0);return'number'==typeof e?e:parseInt(e)||0}),Et=(0,l.computed)(()=>{const e=st.value?.;if(!e)return{};const t={};for(const[a,l]of Object.entries(e))'string'==typeof l&&l.trim()&&''!==l&&(t[a]=l);return t}),yt=(0,l.computed)(()=>Object.keys(Et.value).length>0);function Nt(e){return{:'fas fa-tshirt',:'fas fa-user-tie',:'fas fa-shoe-prints',:'fas fa-heart',:'fas fa-user',:'fas fa-socks',:'fas fa-gem'}[e]||'fas fa-tag'}return(0,l.onMounted)(async()=>{0===t.value.length&&(Qe.value=!0),await rt(),Qe.value=!1}),(0,l.onActivated)(()=>{rt()}),(e,n)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',r,[(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',o,[n[4]||(n[4]=(0,l.createElementVNode)('div',{class:'title'},[(0,l.createElementVNode)('i',{class:'fas fa-concierge-bell'}),(0,l.createElementVNode)('span',null,'')],-1)),t.value.length>0?((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:0,class:'refresh-btn',onClick:rt},[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas fa-sync-alt',{'fa-spin':et.value}])},null,2)])):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',c,[(0,l.createCommentVNode)('  '),0!==t.value.length||Qe.value?(0,l.createCommentVNode)('v-if',!0):((0,l.openBlock)(),(0,l.createElementBlock)('div',i,[n[6]||(n[6]=(0,l.createElementVNode)('i',{class:'fas fa-inbox'},null,-1)),(0,l.createElementVNode)('p',null,(0,l.toDisplayString)(tt.value||''),1),(0,l.createElementVNode)('button',{class:'retry-btn',onClick:rt},[...n[5]||(n[5]=[(0,l.createElementVNode)('i',{class:'fas fa-redo'},null,-1),(0,l.createTextVNode)('  ',-1)])])])),(0,l.createCommentVNode)('  '),Qe.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',d,[...n[7]||(n[7]=[(0,l.createElementVNode)('div',{class:'spinner'},null,-1),(0,l.createElementVNode)('p',null,'...',-1)])])):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)('  '),t.value.length>1?((0,l.openBlock)(),(0,l.createElementBlock)('div',m,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(t.value,(e,n)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:n,class:(0,l.normalizeClass)(['tab-item',{active:a.value===n}]),onClick:e=>a.value=n},(0,l.toDisplayString)(function(e){return(0,s.LJ)(e,'.')||` ${t.value.indexOf(e)+1}`}(e)),11,u))),128))])):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)('  '),st.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',p,[(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',f,[(0,l.createElementVNode)('div',v,[(0,l.createElementVNode)('h2',g,(0,l.toDisplayString)(ot.value.name),1),(0,l.createElementVNode)('div',h,[(0,l.createElementVNode)('span',b,(0,l.toDisplayString)(ot.value.identity),1),n[8]||(n[8]=(0,l.createElementVNode)('span',{class:'dot'},'',-1)),(0,l.createElementVNode)('span',x,(0,l.toDisplayString)(ot.value.age)+'',1)])]),(0,l.createElementVNode)('div',E,[n[9]||(n[9]=(0,l.createElementVNode)('span',{class:'badge badge-hot'},'HOT',-1)),ct.value.type?((0,l.openBlock)(),(0,l.createElementBlock)('span',y,(0,l.toDisplayString)(ct.value.type),1)):(0,l.createCommentVNode)('v-if',!0)])]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',N,[(0,l.createElementVNode)('div',V,[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas fa-heart status-icon',dt.value])},null,2),(0,l.createElementVNode)('span',k,(0,l.toDisplayString)(it.value),1)]),(0,l.createElementVNode)('div',w,[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas fa-heartbeat status-icon',ut.value])},null,2),(0,l.createElementVNode)('span',S,(0,l.toDisplayString)(mt.value),1)])]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',C,[(0,l.createElementVNode)('div',B,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(5,e=>(0,l.createElementVNode)('i',{key:e,class:(0,l.normalizeClass)(['fas fa-star',e<=ft.value?'star active':'star'])},null,2)),64))]),(0,l.createElementVNode)('span',D,(0,l.toDisplayString)(vt.value)+'/100',1)]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',A,[n[10]||(n[10]=(0,l.createElementVNode)('div',{class:'price-label'},'',-1)),(0,l.createElementVNode)('div',M,''+(0,l.toDisplayString)(ct.value.price),1),(0,l.createElementVNode)('div',j,(0,l.toDisplayString)(ct.value.name),1),ct.value.features&&ct.value.features.length>0?((0,l.openBlock)(),(0,l.createElementBlock)('div',L,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(ct.value.features,e=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:e,class:'feature-tag'},(0,l.toDisplayString)(e),1))),128))])):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',I,[(0,l.createElementVNode)('div',P,[n[11]||(n[11]=(0,l.createElementVNode)('div',{class:'metric-label'},'',-1)),(0,l.createElementVNode)('div',{class:'metric-value',style:(0,l.normalizeStyle)({color:pt.value})},[(0,l.createTextVNode)((0,l.toDisplayString)(mt.value)+' ',1),'-'!==mt.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',T,'bpm')):(0,l.createCommentVNode)('v-if',!0)],4)]),(0,l.createElementVNode)('div',F,[n[12]||(n[12]=(0,l.createElementVNode)('div',{class:'metric-label'},'',-1)),(0,l.createElementVNode)('div',O,[(0,l.createTextVNode)((0,l.toDisplayString)(gt.value),1),'-'!==gt.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',J,'%')):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',R,[(0,l.createElementVNode)('div',{class:'progress-fill',style:(0,l.normalizeStyle)({width:ht.value,background:bt.value})},null,4)])]),(0,l.createElementVNode)('div',U,[n[14]||(n[14]=(0,l.createElementVNode)('div',{class:'metric-label'},'',-1)),(0,l.createElementVNode)('div',H,[(0,l.createTextVNode)((0,l.toDisplayString)(xt.value),1),n[13]||(n[13]=(0,l.createElementVNode)('span',{class:'metric-unit'},'',-1))])]),(0,l.createElementVNode)('div',G,[n[16]||(n[16]=(0,l.createElementVNode)('div',{class:'metric-label'},'',-1)),(0,l.createElementVNode)('div',W,[(0,l.createTextVNode)((0,l.toDisplayString)(vt.value),1),n[15]||(n[15]=(0,l.createElementVNode)('span',{class:'metric-unit'},'/100',-1))])])])])):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)('  '),st.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',K,[(0,l.createElementVNode)('div',Y,[(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['accordion-header',{active:Ze.value}]),onClick:n[0]||(n[0]=e=>Ze.value=!Ze.value)},[n[17]||(n[17]=(0,l.createElementVNode)('span',null,[(0,l.createElementVNode)('i',{class:'fas fa-info-circle accordion-icon'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas fa-chevron-down accordion-arrow',{active:Ze.value}])},null,2)],2),(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['accordion-content',{show:Ze.value}])},[(0,l.createElementVNode)('div',q,[(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',X,[n[18]||(n[18]=(0,l.createElementVNode)('h4',{class:'group-title'},[(0,l.createElementVNode)('i',{class:'fas fa-user-tie'}),(0,l.createTextVNode)('  ')],-1)),yt.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',Z,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(Et.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t,class:'clothing-item'},[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['clothing-icon',Nt(String(t))])},null,2),(0,l.createElementVNode)('span',Q,(0,l.toDisplayString)(t),1),(0,l.createElementVNode)('span',ee,(0,l.toDisplayString)(e),1)]))),128))])):((0,l.openBlock)(),(0,l.createElementBlock)('div',te,''))]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',ae,[(0,l.createElementVNode)('div',{class:'collapsible-header',onClick:n[1]||(n[1]=e=>at.value=!at.value)},[n[19]||(n[19]=(0,l.createElementVNode)('h4',{class:'group-title'},[(0,l.createElementVNode)('i',{class:'fas fa-heart'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas fa-chevron-down accordion-arrow',{active:at.value}])},null,2)]),(0,l.withDirectives)((0,l.createElementVNode)('div',le,[(0,l.createElementVNode)('div',ne,[(0,l.createElementVNode)('div',se,[n[20]||(n[20]=(0,l.createElementVNode)('div',{class:'psychology-label'},[(0,l.createElementVNode)('i',{class:'fas fa-brain'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('div',re,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.','-')),1)])])],512),[[l.vShow,at.value]])]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',oe,[(0,l.createElementVNode)('div',{class:'collapsible-header',onClick:n[2]||(n[2]=e=>lt.value=!lt.value)},[n[21]||(n[21]=(0,l.createElementVNode)('h4',{class:'group-title'},[(0,l.createElementVNode)('i',{class:'fas fa-female'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas fa-chevron-down accordion-arrow',{active:lt.value}])},null,2)]),(0,l.withDirectives)((0,l.createElementVNode)('div',ce,[(0,l.createElementVNode)('div',ie,[(0,l.createElementVNode)('div',de,[(0,l.createElementVNode)('div',me,[n[23]||(n[23]=(0,l.createElementVNode)('div',{class:'feature-icon'},[(0,l.createElementVNode)('i',{class:'fas fa-tshirt'})],-1)),(0,l.createElementVNode)('div',ue,[n[22]||(n[22]=(0,l.createElementVNode)('div',{class:'feature-label'},'',-1)),(0,l.createElementVNode)('div',pe,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'..','-')),1)])]),(0,l.createElementVNode)('div',fe,[n[25]||(n[25]=(0,l.createElementVNode)('div',{class:'feature-icon'},[(0,l.createElementVNode)('i',{class:'fas fa-circle'})],-1)),(0,l.createElementVNode)('div',ve,[n[24]||(n[24]=(0,l.createElementVNode)('div',{class:'feature-label'},'',-1)),(0,l.createElementVNode)('div',ge,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'..','-')),1)])])]),(0,l.createElementVNode)('div',he,[(0,l.createElementVNode)('div',be,[n[26]||(n[26]=(0,l.createElementVNode)('div',{class:'desc-label'},[(0,l.createElementVNode)('i',{class:'fas fa-star'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('div',xe,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.','-')),1)]),(0,l.createElementVNode)('div',Ee,[n[27]||(n[27]=(0,l.createElementVNode)('div',{class:'desc-label'},[(0,l.createElementVNode)('i',{class:'fas fa-leaf'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('div',ye,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.','-')),1)]),(0,l.createElementVNode)('div',Ne,[n[28]||(n[28]=(0,l.createElementVNode)('div',{class:'desc-label'},[(0,l.createElementVNode)('i',{class:'fas fa-running'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('div',Ve,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.','-')),1)])])])],512),[[l.vShow,lt.value]])]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',ke,[(0,l.createElementVNode)('div',{class:'collapsible-header',onClick:n[3]||(n[3]=e=>nt.value=!nt.value)},[n[29]||(n[29]=(0,l.createElementVNode)('h4',{class:'group-title'},[(0,l.createElementVNode)('i',{class:'fas fa-chart-bar'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas fa-chevron-down accordion-arrow',{active:nt.value}])},null,2)]),(0,l.withDirectives)((0,l.createElementVNode)('div',we,[(0,l.createElementVNode)('div',Se,[(0,l.createElementVNode)('div',Ce,[n[40]||(n[40]=(0,l.createElementVNode)('div',{class:'section-title'},[(0,l.createElementVNode)('i',{class:'fas fa-heart'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('div',_e,[(0,l.createElementVNode)('div',Be,[n[31]||(n[31]=(0,l.createElementVNode)('div',{class:'stat-icon'},[(0,l.createElementVNode)('i',{class:'fas fa-seedling'})],-1)),(0,l.createElementVNode)('div',ze,[n[30]||(n[30]=(0,l.createElementVNode)('div',{class:'stat-label'},'',-1)),(0,l.createElementVNode)('div',De,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.','-')),1)])]),(0,l.createElementVNode)('div',Ae,[n[33]||(n[33]=(0,l.createElementVNode)('div',{class:'stat-icon'},[(0,l.createElementVNode)('i',{class:'fas fa-users'})],-1)),(0,l.createElementVNode)('div',$e,[n[32]||(n[32]=(0,l.createElementVNode)('div',{class:'stat-label'},'',-1)),(0,l.createElementVNode)('div',Me,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.','-')),1)])]),(0,l.createElementVNode)('div',je,[n[35]||(n[35]=(0,l.createElementVNode)('div',{class:'stat-icon'},[(0,l.createElementVNode)('i',{class:'fas fa-handshake'})],-1)),(0,l.createElementVNode)('div',Le,[n[34]||(n[34]=(0,l.createElementVNode)('div',{class:'stat-label'},'',-1)),(0,l.createElementVNode)('div',Ie,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.','-')),1)])]),(0,l.createElementVNode)('div',Pe,[n[37]||(n[37]=(0,l.createElementVNode)('div',{class:'stat-icon'},[(0,l.createElementVNode)('i',{class:'fas fa-baby'})],-1)),(0,l.createElementVNode)('div',Te,[n[36]||(n[36]=(0,l.createElementVNode)('div',{class:'stat-label'},'',-1)),(0,l.createElementVNode)('div',Fe,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.','-')),1)])]),(0,l.createElementVNode)('div',Oe,[n[39]||(n[39]=(0,l.createElementVNode)('div',{class:'stat-icon'},[(0,l.createElementVNode)('i',{class:'fas fa-shopping-cart'})],-1)),(0,l.createElementVNode)('div',Je,[n[38]||(n[38]=(0,l.createElementVNode)('div',{class:'stat-label'},'',-1)),(0,l.createElementVNode)('div',Re,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.',0)),1)])])])]),(0,l.createElementVNode)('div',Ue,[n[45]||(n[45]=(0,l.createElementVNode)('div',{class:'section-title'},[(0,l.createElementVNode)('i',{class:'fas fa-chart-line'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('div',He,[(0,l.createElementVNode)('div',Ge,[n[42]||(n[42]=(0,l.createElementVNode)('div',{class:'stat-icon'},[(0,l.createElementVNode)('i',{class:'fas fa-heartbeat'})],-1)),(0,l.createElementVNode)('div',We,[n[41]||(n[41]=(0,l.createElementVNode)('div',{class:'stat-label'},'',-1)),(0,l.createElementVNode)('div',Ke,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.','-')),1)])]),(0,l.createElementVNode)('div',Ye,[n[44]||(n[44]=(0,l.createElementVNode)('div',{class:'stat-icon'},[(0,l.createElementVNode)('i',{class:'fas fa-tint'})],-1)),(0,l.createElementVNode)('div',qe,[n[43]||(n[43]=(0,l.createElementVNode)('div',{class:'stat-label'},'',-1)),(0,l.createElementVNode)('div',Xe,(0,l.toDisplayString)((0,l.unref)(s.LJ)(st.value,'.','-')),1)])])])])])],512),[[l.vShow,nt.value]])])])],2)])])):(0,l.createCommentVNode)('v-if',!0)])]))}});const Qe=(0,a(455).A)(Ze,[['__scopeId','data-v-47dd91e6']])},455(e,t){t.A=(e,t)=>{const a=e.__vccOpts||e;for(const[e,l]of t)a[e]=l;return a}},667(e,t,a){a.r(t),a.d(t,{default:()=>vl});var l=a(61),n=a(813);const s=(0,l.ref)(null),r=(0,l.ref)(null),o=(0,l.ref)(null);function c(e){return'string'==typeof e&&e.trim()?e.trim():'number'!=typeof e||Number.isNaN(e)?'':String(e)}function i(e){s.value=e,r.value=e?.shop_id?String(e.shop_id):null,o.value=e?.id?String(e.id):null}function d(e,t){if(!e||!t)return;const a=c(e.id||e.shop_id),l=e.shopname||e.name||'';i({id:c(t?.id)||void 0,name:t?.name||'',shop_id:a||void 0,shop_name:String(l),image1:'string'==typeof t?.image1?t.image1:'',image2:'string'==typeof t?.image2?t.image2:'',image3:'string'==typeof t?.image3?t.image3:'',price:t?.price??t?.??t?.,stars:t?.stars,tags:t?.tags,icon:t?.icon,description:t?.description,content:t?.content,reviews:t?.reviews})}function m(){try{const e=n.U.getShops();if(!e||0===e.length)return i(null),null;const t=()=>{const t=r.value,a=o.value;if(!t&&!a)return null;for(const l of e){const e=c(l.id||l.shop_id);if(t&&e&&e!==t)continue;const n=Array.isArray(l.packages)?l.packages:[];for(const e of n){const t=c(e?.id);if(a&&t&&t===a)return{shop:l,pkg:e}}}return null},a=t();if(a)return d(a.shop,a.pkg),s.value;const l=e[0],m=l?.packages?.[0];return l&&m?(d(l,m),s.value):(i(null),null)}catch(e){return console.warn('[selectedPackage] refreshSelectedPackageFromMvu failed',e),i(null),null}}const u={key:0,class:'rounded-2xl border border-purple-500/20 bg-gradient-to-br from-slate-900/80 to-black/60 p-4 shadow-2xl shadow-purple-500/10 backdrop-blur-xl'},p={class:'mb-4 flex items-center gap-2'},f={class:'ml-auto text-xs text-slate-500'},v={class:'grid grid-cols-3 gap-2'},g=['onClick'],h=['src','alt','onError'],b={key:1,class:'flex h-full w-full flex-col items-center justify-center gap-2 p-2 text-center'},x={class:'flex h-9 w-9 items-center justify-center rounded-xl border border-slate-700/50 bg-slate-900/40 text-purple-300'},E={class:'text-xs font-bold text-slate-200'},y={class:'line-clamp-2 text-[11px] text-slate-500'},N={class:'relative h-full w-full overflow-hidden'},V={class:'relative grid h-full grid-cols-3 gap-3 p-3 pb-16'},k=['onClick'],w=['src','alt','onError'],S={key:1,class:'flex h-full w-full flex-col items-center justify-center gap-2 p-3 text-center'},C={class:'flex h-10 w-10 items-center justify-center rounded-2xl border border-slate-700/50 bg-slate-900/40 text-blue-200'},B={class:'text-xs font-bold text-slate-200'},D={class:'line-clamp-3 text-[11px] text-slate-500'},A={class:'pointer-events-none absolute bottom-2 right-2 rounded-full border border-white/10 bg-black/30 px-2 py-0.5 text-[11px] text-white/80 backdrop-blur-sm'},M={class:'relative w-full max-w-5xl overflow-hidden rounded-2xl border border-slate-700/50 bg-slate-950/80 shadow-2xl backdrop-blur-xl'},j={class:'flex items-center justify-between gap-3 border-b border-slate-800/60 px-4 py-3'},L={class:'min-w-0'},I={class:'truncate text-sm font-bold text-white'},P={class:'truncate text-xs text-slate-500'},T={class:'flex items-center justify-center p-4'},F=['src'],O={key:1,class:'w-full p-4'},J={class:'rounded-xl border border-slate-800/60 bg-slate-900/40 p-4 font-mono text-xs text-slate-200'},R={class:'whitespace-pre-wrap'},U={key:0,class:'mt-3 text-sm text-green-300'},H={class:'flex items-center gap-2 border-t border-slate-800/60 px-4 py-3'},G=['onClick','title'],W=['src','alt','onError'],K={key:1,class:'flex h-full w-full items-center justify-center text-slate-200'},Y={class:'ml-auto text-xs text-slate-500'},q=(0,l.defineComponent)({__name:'PackageImageGallery',props:{variant:{}},setup(e){const t=e,a=(0,l.computed)(()=>t.variant??'panel'),n=(0,l.ref)(0),r=(0,l.ref)(!1),o=(0,l.ref)(''),c=(0,l.ref)({});function i(e,t,a){const l=function(e){const t=(e||'').trim();return t.startsWith('###')&&t.endsWith('###')&&t.length>=6?t.slice(3,-3).trim():t}('string'==typeof a?a:'');return l?!c.value[e]&&function(e){const t=(e||'').trim();return!!t&&(!!t.startsWith('blob:')||!!t.startsWith('data:image/')||!(!t.startsWith('http://')&&!t.startsWith('https://'))||/\.(png|jpe?g|gif|webp|bmp|svg)$/i.test(t))}(l)?{key:e,label:t,raw:l,kind:'image',src:l}:{key:e,label:t,raw:l,kind:'text',text:l}:{key:e,label:t,raw:'',kind:'empty'}}const d=(0,l.computed)(()=>{const e=s.value;return[i('image1','',e?.image1),i('image2','',e?.image2),i('image3','',e?.image3)]}),q=(0,l.computed)(()=>d.value[Math.min(n.value,d.value.length-1)]||d.value[0]),X=(0,l.computed)(()=>{const e=s.value;return`${e?.name||''}${e?.shop_name?`  ${e.shop_name}`:''}`}),Z=(0,l.computed)(()=>'image'===q.value.kind?'':'/ URL');function Q(e){n.value=Math.max(0,Math.min(e,d.value.length-1)),o.value=''}function ee(e){Q(e),r.value=!0}function te(){r.value=!1,o.value=''}function ae(e){c.value={...c.value,[e]:!0}}async function le(){o.value='';const e='image'===q.value?.kind?q.value.src||'':q.value?.text||'';if(e)try{return await navigator.clipboard.writeText(e),void(o.value='')}catch{try{const t=document.createElement('textarea');t.value=e,t.style.position='fixed',t.style.left='-9999px',document.body.appendChild(t),t.select();const a=document.execCommand('copy');document.body.removeChild(t),o.value=a?'':''}catch{o.value=''}}}function ne(){m(),Q(0)}return(0,l.onMounted)(()=>{s.value?s.value:m(),window.addEventListener('shop:cache:updated',ne)}),(0,l.onUnmounted)(()=>{window.removeEventListener('shop:cache:updated',ne)}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,['panel'===a.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',u,[(0,l.createElementVNode)('div',p,[t[2]||(t[2]=(0,l.createElementVNode)('i',{class:'fas fa-images text-purple-400'},null,-1)),t[3]||(t[3]=(0,l.createElementVNode)('h3',{class:'text-white'},'',-1)),(0,l.createElementVNode)('div',f,(0,l.toDisplayString)(Z.value),1)]),(0,l.createElementVNode)('div',v,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(d.value,(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:e.key,class:'group relative aspect-square overflow-hidden rounded-xl border border-slate-700/50 bg-slate-950/40 text-left transition-all hover:border-purple-500/40 hover:bg-slate-900/60',onClick:e=>ee(a)},['image'===e.kind?((0,l.openBlock)(),(0,l.createElementBlock)('img',{key:0,src:e.src,alt:e.label,class:'h-full w-full object-cover transition-transform duration-500 group-hover:scale-110',onError:t=>ae(e.key)},null,40,h)):((0,l.openBlock)(),(0,l.createElementBlock)('div',b,[(0,l.createElementVNode)('div',x,[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)('text'===e.kind?'fas fa-file-alt':'fas fa-image')},null,2)]),(0,l.createElementVNode)('div',E,(0,l.toDisplayString)(e.label),1),(0,l.createElementVNode)('div',y,(0,l.toDisplayString)('text'===e.kind?e.text:''),1)])),t[4]||(t[4]=(0,l.createElementVNode)('div',{class:'pointer-events-none absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100'},null,-1)),t[5]||(t[5]=(0,l.createElementVNode)('div',{class:'pointer-events-none absolute bottom-2 left-2 flex items-center gap-1 text-xs text-white/90 opacity-0 transition-opacity duration-300 group-hover:opacity-100'},[(0,l.createElementVNode)('i',{class:'fas fa-search-plus'}),(0,l.createTextVNode)('  ')],-1))],8,g))),128))]),(0,l.createElementVNode)('button',{class:'mt-4 w-full rounded-xl border border-purple-500/20 bg-gradient-to-r from-purple-500/10 to-pink-500/10 py-2 text-sm text-purple-300 transition-all duration-300 hover:from-purple-500/20 hover:to-pink-500/20',onClick:t[0]||(t[0]=e=>ee(0))},'  ')])):((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,{key:1},[(0,l.createCommentVNode)(' Stage variant: full-bleed image area '),(0,l.createElementVNode)('div',N,[(0,l.createCommentVNode)(' Background ambience '),t[8]||(t[8]=(0,l.createElementVNode)('div',{class:'absolute inset-0 bg-gradient-to-br from-blue-600/10 via-purple-600/10 to-orange-600/10'},null,-1)),t[9]||(t[9]=(0,l.createElementVNode)('div',{class:'absolute inset-0 bg-[radial-gradient(circle_at_20%_20%,rgba(59,130,246,0.22),transparent_55%),radial-gradient(circle_at_80%_30%,rgba(168,85,247,0.16),transparent_55%),radial-gradient(circle_at_50%_90%,rgba(249,115,22,0.10),transparent_60%)]'},null,-1)),t[10]||(t[10]=(0,l.createElementVNode)('div',{class:'absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent'},null,-1)),(0,l.createCommentVNode)(' 3-slot previews (leave bottom space for PLAY HUD overlay) '),(0,l.createElementVNode)('div',V,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(d.value,(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:e.key,class:'group relative min-h-0 overflow-hidden rounded-2xl border border-slate-700/50 bg-slate-950/40 transition-all hover:border-blue-500/30 hover:bg-slate-900/60',onClick:e=>ee(a)},['image'===e.kind?((0,l.openBlock)(),(0,l.createElementBlock)('img',{key:0,src:e.src,alt:e.label,class:'h-full w-full object-cover transition-transform duration-500 group-hover:scale-105',onError:t=>ae(e.key)},null,40,w)):((0,l.openBlock)(),(0,l.createElementBlock)('div',S,[(0,l.createElementVNode)('div',C,[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)('text'===e.kind?'fas fa-file-alt':'fas fa-image')},null,2)]),(0,l.createElementVNode)('div',B,(0,l.toDisplayString)(e.label),1),(0,l.createElementVNode)('div',D,(0,l.toDisplayString)('text'===e.kind?e.text:''),1)])),t[6]||(t[6]=(0,l.createElementVNode)('div',{class:'pointer-events-none absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100'},null,-1)),t[7]||(t[7]=(0,l.createElementVNode)('div',{class:'pointer-events-none absolute bottom-2 left-2 flex items-center gap-1 text-xs text-white/90 opacity-0 transition-opacity duration-300 group-hover:opacity-100'},[(0,l.createElementVNode)('i',{class:'fas fa-search-plus'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('div',A,(0,l.toDisplayString)(e.label),1)],8,k))),128))])])],2112)),(0,l.createCommentVNode)(' Lightbox '),r.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:2,class:'fixed inset-0 z-[4800] flex items-center justify-center bg-black/75 p-4',onClick:(0,l.withModifiers)(te,['self'])},[(0,l.createElementVNode)('div',M,[(0,l.createElementVNode)('div',j,[(0,l.createElementVNode)('div',L,[(0,l.createElementVNode)('div',I,(0,l.toDisplayString)(X.value),1),(0,l.createElementVNode)('div',P,(0,l.toDisplayString)(Z.value),1)]),(0,l.createElementVNode)('div',{class:'flex items-center gap-2'},[(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-900/50 px-3 py-2 text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:le},[...t[11]||(t[11]=[(0,l.createElementVNode)('i',{class:'fas fa-copy'},null,-1),(0,l.createElementVNode)('span',{class:'ml-2'},'',-1)])]),(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-900/50 px-3 py-2 text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:te},[...t[12]||(t[12]=[(0,l.createElementVNode)('i',{class:'fas fa-times'},null,-1),(0,l.createElementVNode)('span',{class:'ml-2'},'',-1)])])])]),(0,l.createElementVNode)('div',T,['image'===q.value.kind?((0,l.openBlock)(),(0,l.createElementBlock)('img',{key:0,src:q.value.src,alt:'Full Image',class:'max-h-[82vh] w-auto max-w-[92vw] object-contain',onError:t[1]||(t[1]=e=>ae(q.value.key))},null,40,F)):((0,l.openBlock)(),(0,l.createElementBlock)('div',O,[(0,l.createElementVNode)('div',J,[t[13]||(t[13]=(0,l.createElementVNode)('div',{class:'mb-2 text-[11px] text-slate-500'},' URL/',-1)),(0,l.createElementVNode)('pre',R,(0,l.toDisplayString)('text'===q.value.kind?q.value.text:''),1)]),o.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',U,(0,l.toDisplayString)(o.value),1)):(0,l.createCommentVNode)('v-if',!0)]))]),(0,l.createElementVNode)('div',H,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(d.value,(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:e.key,class:(0,l.normalizeClass)(['group relative h-14 w-14 overflow-hidden rounded-xl border bg-slate-950/40 transition-all',a===n.value?'border-blue-500/60 shadow-lg shadow-blue-500/20':'border-slate-700/50 hover:border-blue-500/30']),onClick:e=>Q(a),title:e.label},['image'===e.kind?((0,l.openBlock)(),(0,l.createElementBlock)('img',{key:0,src:e.src,alt:e.label,class:'h-full w-full object-cover',onError:t=>ae(e.key)},null,40,W)):((0,l.openBlock)(),(0,l.createElementBlock)('div',K,[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)('text'===e.kind?'fas fa-file-alt text-purple-300':'fas fa-image text-slate-500')},null,2)])),t[14]||(t[14]=(0,l.createElementVNode)('div',{class:'pointer-events-none absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 transition-opacity group-hover:opacity-100'},null,-1))],10,G))),128)),(0,l.createElementVNode)('div',Y,(0,l.toDisplayString)(q.value.label),1)])])])):(0,l.createCommentVNode)('v-if',!0)],64))}});var X=a(363);const Z={class:'relative flex h-full min-h-0 flex-col overflow-hidden rounded-3xl border border-blue-500/20 bg-gradient-to-br from-slate-900/75 to-black/60 shadow-2xl shadow-blue-500/10 backdrop-blur-xl'},Q={class:'shrink-0 border-b border-blue-500/10 p-3 sm:p-4'},ee={class:'flex items-start justify-between gap-3'},te={class:'min-w-0'},ae={class:'flex items-center gap-2 text-xs text-slate-300/90'},le={class:'truncate text-slate-400'},ne={class:'mt-2 truncate text-base font-bold text-white'},se={class:'mt-0.5 truncate text-xs text-slate-400'},re={class:'flex shrink-0 items-center gap-2'},oe={class:'ml-2 hidden sm:inline'},ce={key:0,class:'relative shrink-0 border-b border-blue-500/10'},ie={class:'relative aspect-[21/9] w-full overflow-hidden'},de={class:'grid min-h-0 flex-1 grid-cols-1 gap-4 p-4 lg:grid-cols-[minmax(0,1fr)_18rem]'},me={class:'min-h-0 overflow-hidden rounded-2xl border border-slate-700/50 bg-slate-950/60'},ue={class:'flex items-center justify-between border-b border-slate-800/60 px-4 py-3'},pe=['disabled'],fe={class:'whitespace-pre-wrap'},ve={key:0,class:'animate-pulse'},ge={class:'hidden min-h-0 flex-col gap-3 lg:flex'},he={class:'rounded-2xl border border-slate-700/50 bg-slate-900/50 p-4'},be={class:'flex flex-col gap-2'},xe=['onClick'],Ee={class:'truncate'},ye={class:'flex items-center gap-2'},Ne={class:'flex-1'},Ve=['onKeydown'],ke=['disabled'],we=(0,l.defineComponent)({__name:'Play',setup(e){const t=(0,l.ref)(''),a=(0,l.ref)(!1),n=(0,l.ref)(null),r=(0,l.ref)(''),o=(0,l.ref)(!1),c=(0,l.ref)(null),i=(0,l.ref)(''),d=(0,l.ref)('  /'),m=(0,l.ref)(''),u=(()=>{try{return'max(16px, env(safe-area-inset-bottom))'}catch{return'16px'}})(),p=(0,l.computed)(()=>{const e=s.value;if(!e)return'';const t=e.shop_name?`  ${e.shop_name}`:'';return`${e.name||''}${t}`}),f=[{label:' + ',command:''},{label:'',command:'/home'},{label:'',command:'/discover'}];function v(e){if(!e)return;const a=t.value?'\n\n':'';t.value+=`${a}${e}`}function g(){t.value='',a.value=!1}function h(){const e=r.value.trim();if(!e)return;r.value='',v(`> ${e}`);(function(e){const t=window?.triggerSlash;if('function'!=typeof t)return!1;try{return t(e),!0}catch(e){return console.error('[Play] triggerSlash failed:',e),!1}})(e.startsWith('/')?`${e} | /trigger await=true`:`/send ${e} | /trigger await=true`)||v('[]  triggerSlash'),(0,l.nextTick)(()=>n.value?.focus())}function b(){o.value=!o.value}function x(){try{const e=(()=>{try{const e='function'==typeof window.getCurrentMessageId?window.getCurrentMessageId():'latest';if('function'==typeof window.waitGlobalInitialized)try{window.waitGlobalInitialized('Mvu')}catch{}return void 0!==window.Mvu&&window.Mvu?.getMvuData?window.Mvu.getMvuData({type:'message',message_id:e}):'function'==typeof window.getVariables?window.getVariables({type:'message',message_id:e}):null}catch{return null}})(),t=e?.stat_data||e||{},a=(0,X.LJ)(t,'.','')||(0,X.LJ)(t,'.','');i.value=a?`${a}`:'',d.value=p.value?`${p.value}`:'  /'}catch{}}(0,l.watch)(()=>t.value,()=>{(0,l.nextTick)(()=>function(){const e=c.value;e&&(e.scrollTop=e.scrollHeight)}())});let E=null,y=null;return(0,l.onMounted)(()=>{x();(function(){try{if('function'!=typeof window.getChatMessages)return!1;const e=(window.getChatMessages('0-{{lastMessageId}}')||[]).slice(-18).map(e=>{const t=e?.role||'unknown',a=e?.name?`${e.name}`:t,l=String(e?.message??'').trim();return l?`[${a}] ${l}`:''}).filter(Boolean).join('\n\n');return!!e&&(t.value=e,!0)}catch{return!1}})()||(t.value='System initialized.\n\n\n /send ');try{'function'==typeof window.eventOn&&void 0!==window.tavern_events&&(E=window.eventOn(window.tavern_events.STREAM_TOKEN_RECEIVED,()=>{a.value=!0}),y=window.eventOn(window.tavern_events.MESSAGE_RECEIVED,e=>{try{if('function'!=typeof window.getChatMessages)return;const t=window.getChatMessages(e)?.[0];if(!t)return;const a=t.role||'assistant',l=t.name||a,n=String(t.message??'').trim();if(!n)return;v(`[${l}] ${n}`)}finally{a.value=!1,x()}}))}catch{}(0,l.nextTick)(()=>n.value?.focus())}),(0,l.onUnmounted)(()=>{E?.stop?.(),y?.stop?.()}),(e,s)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Z,[(0,l.createCommentVNode)(' Header () '),(0,l.createElementVNode)('div',Q,[(0,l.createElementVNode)('div',ee,[(0,l.createElementVNode)('div',te,[(0,l.createElementVNode)('div',ae,[s[1]||(s[1]=(0,l.createElementVNode)('span',{class:'inline-flex items-center gap-2 rounded-full border border-slate-700/50 bg-slate-900/40 px-3 py-1'},[(0,l.createElementVNode)('span',{class:'h-2 w-2 animate-pulse rounded-full bg-green-400'}),(0,l.createElementVNode)('span',null,'LIVE')],-1)),(0,l.createElementVNode)('span',le,(0,l.toDisplayString)(m.value),1)]),(0,l.createElementVNode)('div',ne,(0,l.toDisplayString)(i.value),1),(0,l.createElementVNode)('div',se,(0,l.toDisplayString)(d.value),1)]),(0,l.createElementVNode)('div',re,[(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-900/40 px-3 py-2 text-xs text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:b},[s[2]||(s[2]=(0,l.createElementVNode)('i',{class:'fas fa-image'},null,-1)),(0,l.createElementVNode)('span',oe,(0,l.toDisplayString)(o.value?'':''),1)])])])]),o.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',ce,[(0,l.createElementVNode)('div',ie,[(0,l.createVNode)(q,{variant:'stage'})])])):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' Content '),(0,l.createElementVNode)('div',de,[(0,l.createCommentVNode)(' Narrative / Log '),(0,l.createElementVNode)('section',me,[(0,l.createElementVNode)('div',ue,[s[4]||(s[4]=(0,l.createElementVNode)('div',{class:'flex items-center gap-2 text-sm font-bold text-slate-200'},[(0,l.createElementVNode)('i',{class:'fas fa-scroll text-blue-300'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('button',{class:'rounded-lg border border-slate-700/50 bg-slate-900/50 px-2 py-1 text-xs text-slate-300 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:g,disabled:a.value},[...s[3]||(s[3]=[(0,l.createElementVNode)('i',{class:'fas fa-eraser'},null,-1),(0,l.createElementVNode)('span',{class:'ml-1'},'',-1)])],8,pe)]),(0,l.createElementVNode)('div',{ref_key:'logScrollEl',ref:c,class:'scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent h-full overflow-y-auto p-4 font-mono text-[13px] leading-relaxed text-green-300'},[(0,l.createElementVNode)('pre',fe,[(0,l.createTextVNode)((0,l.toDisplayString)(t.value),1),a.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',ve,'_')):(0,l.createCommentVNode)('v-if',!0)])],512)]),(0,l.createCommentVNode)(' Quick Actions '),(0,l.createElementVNode)('aside',ge,[(0,l.createElementVNode)('div',he,[s[6]||(s[6]=(0,l.createElementVNode)('div',{class:'mb-3 flex items-center gap-2 text-sm font-bold text-white'},[(0,l.createElementVNode)('i',{class:'fas fa-bolt text-yellow-300'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('div',be,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(f,e=>(0,l.createElementVNode)('button',{key:e.label,class:'group flex items-center justify-between rounded-xl border border-slate-700/50 bg-slate-800/30 px-3 py-2 text-left text-sm text-slate-200 transition-all hover:border-blue-500/30 hover:bg-slate-800/60',onClick:t=>{return a=e.command,r.value=a,void(0,l.nextTick)(()=>n.value?.focus());var a}},[(0,l.createElementVNode)('span',Ee,(0,l.toDisplayString)(e.label),1),s[5]||(s[5]=(0,l.createElementVNode)('i',{class:'fas fa-chevron-right text-xs text-slate-500 transition-transform group-hover:translate-x-0.5'},null,-1))],8,xe)),64))]),s[7]||(s[7]=(0,l.createElementVNode)('div',{class:'mt-3 text-xs text-slate-500'},' `triggerSlash`',-1))])])]),(0,l.createCommentVNode)(' Input Bar '),(0,l.createElementVNode)('div',{class:'shrink-0 border-t border-slate-800/60 p-4',style:(0,l.normalizeStyle)({paddingBottom:(0,l.unref)(u)})},[(0,l.createElementVNode)('div',ye,[(0,l.createElementVNode)('div',Ne,[(0,l.withDirectives)((0,l.createElementVNode)('input',{ref_key:'inputEl',ref:n,'onUpdate:modelValue':s[0]||(s[0]=e=>r.value=e),class:'w-full rounded-2xl border border-slate-700/50 bg-slate-950/60 px-4 py-3 text-sm text-white placeholder-slate-500 focus:border-blue-500/40 focus:outline-none',placeholder:' /  /home  /send ',onKeydown:(0,l.withKeys)((0,l.withModifiers)(h,['exact','prevent']),['enter'])},null,40,Ve),[[l.vModelText,r.value]])]),(0,l.createElementVNode)('button',{class:'flex items-center justify-center rounded-2xl border border-blue-400/30 bg-gradient-to-r from-blue-500 to-violet-600 px-4 py-3 text-sm font-bold text-white shadow-lg shadow-blue-500/25 hover:from-blue-600 hover:to-violet-700 disabled:opacity-50',disabled:!r.value.trim(),onClick:h},[...s[8]||(s[8]=[(0,l.createElementVNode)('i',{class:'fas fa-paper-plane'},null,-1),(0,l.createElementVNode)('span',{class:'ml-2 hidden sm:inline'},'',-1)])],8,ke)])],4)]))}}),Se=(0,l.ref)(!1),Ce=(0,l.ref)(!1);var _e=a(39);const Be={key:0,class:'fixed inset-0 z-[5000] flex items-center justify-center bg-black/60 p-4'},ze={class:'relative flex h-[85vh] w-full max-w-3xl flex-col overflow-hidden rounded-2xl border border-blue-500/20 bg-gradient-to-br from-slate-900/90 to-black/80 shadow-2xl shadow-blue-500/10 backdrop-blur-xl'},De={class:'flex items-center gap-3 border-b border-slate-700/50 px-5 py-4'},Ae=['disabled'],$e={class:'min-h-0 flex-1 overflow-y-auto p-5'},Me={key:0,class:'flex items-center justify-center py-12 text-slate-300'},je={key:1,class:'py-12 text-center text-slate-400'},Le={class:'mt-1 text-xs opacity-80'},Ie={key:2,class:'space-y-3'},Pe=['onClick'],Te={class:'flex items-start gap-3'},Fe={class:'min-w-0 flex-1'},Oe={class:'flex items-center justify-between gap-3'},Je={class:'truncate text-sm font-bold text-white'},Re={class:'shrink-0 text-sm font-bold text-yellow-300'},Ue={class:'mt-1 flex flex-wrap items-center gap-2 text-xs text-slate-400'},He={class:'rounded-full border border-slate-700/50 bg-slate-900/40 px-2 py-0.5'},Ge={class:'rounded-full border border-slate-700/50 bg-slate-900/40 px-2 py-0.5'},We={key:0,class:'absolute inset-0 z-[5100] flex items-center justify-center bg-black/70 p-4'},Ke={class:'w-full max-w-xl overflow-hidden rounded-2xl border border-blue-500/20 bg-gradient-to-br from-slate-900/95 to-black/90 shadow-2xl shadow-blue-500/10'},Ye={class:'flex items-center gap-3 border-b border-slate-700/50 px-5 py-4'},qe={class:'min-w-0 flex-1'},Xe={class:'text-xs text-slate-400'},Ze={class:'space-y-4 p-5'},Qe={class:'rounded-2xl border border-slate-700/50 bg-slate-800/30 p-4'},et={class:'flex items-start justify-between gap-3'},tt={class:'min-w-0'},at={class:'truncate text-sm font-bold text-white'},lt={class:'mt-1 text-xs text-slate-400'},nt={class:'shrink-0 text-sm font-bold text-yellow-300'},st={key:0,class:'mt-3 flex flex-wrap gap-2'},rt={class:'grid grid-cols-3 gap-3'},ot={class:'rounded-2xl border border-slate-700/50 bg-slate-800/30 p-3'},ct={class:'mt-1 text-sm font-bold text-white'},it={class:'rounded-2xl border border-slate-700/50 bg-slate-800/30 p-3'},dt={class:'mt-1 text-sm font-bold text-white'},mt={class:'rounded-2xl border border-slate-700/50 bg-slate-800/30 p-3'},ut={class:'mt-1 text-sm font-bold text-white'},pt={class:'w-full max-w-xl overflow-hidden rounded-2xl border border-blue-500/20 bg-gradient-to-br from-slate-900/95 to-black/90 shadow-2xl shadow-blue-500/10'},ft={class:'space-y-4 p-5'},vt={key:0,class:'flex flex-wrap gap-2'},gt=['onClick'],ht={key:1,class:'text-xs text-slate-400'},bt=(0,l.defineComponent)({__name:'HistoryOverlay',setup(e){const t=(0,l.ref)(!1),a=(0,l.ref)(''),n=(0,l.ref)([]),s=(0,l.ref)(null),r=(0,l.ref)('list'),o=(0,l.ref)(!1),c=(0,l.ref)(''),i=(0,l.ref)(null),d=(0,l.ref)('');function m(){Se.value=!1,s.value=null,r.value='list',o.value=!1,c.value='',d.value=''}function u(){s.value=null,r.value='list',o.value=!1,c.value='',d.value=''}function p(e){if(null==e)return'-';if('string'==typeof e&&e.includes('%'))return e;const t=Number(e);if(!Number.isFinite(t))return'-';const a=Math.min(100,Math.max(0,t));return Math.round(100*a)/100+'%'}function f(e){if(!e||'object'!=typeof e)return[];const t=new Set,a=e=>{if('string'!=typeof e)return;const a=e.trim();a&&(['','','--'].includes(a)||t.add(a))};var l;a(e['']),e['']&&(a(e['']['']),l=e[''][''],Array.isArray(l)&&l.forEach(a),a(e['']['']));return[e[''],e['']?.['']].forEach(e=>{e&&'object'==typeof e&&Object.values(e).forEach(a)}),Array.from(t)}const v=(0,l.computed)(()=>{if(!s.value)return[];const e=s.value.features||f(s.value.originalData);return Array.isArray(e)?e:'string'==typeof e?e.split(/\s*,\s*|\s+/).filter(Boolean):[]});function g(){s.value&&(d.value='',o.value=!0,(0,l.nextTick)(()=>i.value?.focus()))}function h(){o.value=!1,c.value=''}async function b(){if(!s.value)return;const e=s.value.package_name||'',t=s.value.girl_name||'',a=s.value.identity||'',l=`/send ${`${t}${(0,X.LJ)(s.value?.originalData,'.','-')}${a}${e}${s.value.price??'-'}${c.value.trim()||''}`}`;if(function(e){const t=`${e} | /trigger await=true`;if(void 0!==window.triggerSlash)try{return window.triggerSlash(t),!0}catch(e){return console.error('[HistoryOverlay]  triggerSlash :',e),!1}return!1}(l))d.value='';else{const e=await async function(e){try{return await navigator.clipboard.writeText(e),!0}catch{try{const t=document.createElement('textarea');t.value=e,t.style.position='fixed',t.style.left='-9999px',document.body.appendChild(t),t.select();const a=document.execCommand('copy');return document.body.removeChild(t),a}catch{return!1}}}(`${l} | /trigger await=true`);d.value=e?' triggerSlash':' triggerSlash'}h(),u()}async function x(){t.value=!0,a.value='';try{const e=await(0,_e.m7)(),t=(0,_e.X7)(e);n.value=t.map(e=>({id:e.id,girl_name:e.?.||'',identity:e.?.||'',package_name:e.?.||'',order_time:'',order_status:e.status||'',price:e.?.||e.?.||0,features:f(e.originalData),originalData:e.originalData}))}catch(e){console.error('[HistoryOverlay] :',e),a.value=e?.message||'';const t=(0,_e.E8)(),l=(0,_e.X7)(t);n.value=l.map(e=>({id:e.id,girl_name:e.?.||'',identity:e.?.||'',package_name:e.?.||'',order_time:'',order_status:e.status||'',price:e.?.||e.?.||0,features:f(e.originalData),originalData:e.originalData}))}finally{t.value=!1}}return(0,l.watch)(()=>Se.value,async e=>{e&&await x()}),(0,l.onMounted)(()=>{x().catch(()=>{})}),(e,f)=>(0,l.unref)(Se)?((0,l.openBlock)(),(0,l.createElementBlock)('div',Be,[(0,l.createElementVNode)('div',ze,[(0,l.createElementVNode)('div',De,[f[3]||(f[3]=(0,l.createStaticVNode)('<div class="flex h-9 w-9 items-center justify-center rounded-xl bg-blue-500/10 text-blue-400"><i class="fas fa-history"></i></div><div class="min-w-0 flex-1"><div class="truncate text-base font-bold text-white"></div><div class="text-xs text-slate-400"> MVU/</div></div>',2)),(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-800/50 px-3 py-2 text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-700/50',disabled:t.value,onClick:x},[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas fa-sync-alt',{'fa-spin':t.value}])},null,2),f[1]||(f[1]=(0,l.createElementVNode)('span',{class:'ml-2'},'',-1))],8,Ae),(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-800/50 px-3 py-2 text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-700/50',onClick:m},[...f[2]||(f[2]=[(0,l.createElementVNode)('i',{class:'fas fa-times'},null,-1),(0,l.createElementVNode)('span',{class:'ml-2'},'',-1)])])]),(0,l.createElementVNode)('div',$e,[t.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',Me,[...f[4]||(f[4]=[(0,l.createElementVNode)('div',{class:'mr-3 h-5 w-5 animate-spin rounded-full border-2 border-slate-600 border-t-blue-400'},null,-1),(0,l.createTextVNode)('  ',-1)])])):0===n.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',je,[f[5]||(f[5]=(0,l.createElementVNode)('i',{class:'fas fa-inbox mb-3 text-3xl opacity-40'},null,-1)),f[6]||(f[6]=(0,l.createElementVNode)('div',{class:'text-sm'},'',-1)),(0,l.createElementVNode)('div',Le,(0,l.toDisplayString)(a.value||' / MVU '),1)])):((0,l.openBlock)(),(0,l.createElementBlock)('div',Ie,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(n.value,(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:e.id??`${e.order_time??'history'}_${t}`,class:'group w-full rounded-2xl border border-slate-700/50 bg-slate-800/30 p-4 text-left transition-all hover:border-blue-500/40 hover:bg-slate-800/60',onClick:t=>function(e){e&&'object'==typeof e&&(s.value=e,r.value='reorder')}(e)},[(0,l.createElementVNode)('div',Te,[f[7]||(f[7]=(0,l.createElementVNode)('div',{class:'mt-0.5 flex h-10 w-10 items-center justify-center rounded-xl bg-blue-500/10 text-blue-400'},[(0,l.createElementVNode)('i',{class:'fas fa-receipt'})],-1)),(0,l.createElementVNode)('div',Fe,[(0,l.createElementVNode)('div',Oe,[(0,l.createElementVNode)('div',Je,(0,l.toDisplayString)(e.girl_name||'-')+'  '+(0,l.toDisplayString)(e.identity||'-'),1),(0,l.createElementVNode)('div',Re,''+(0,l.toDisplayString)(e.price??'-'),1)]),(0,l.createElementVNode)('div',Ue,[(0,l.createElementVNode)('span',He,(0,l.toDisplayString)(e.package_name||''),1),(0,l.createElementVNode)('span',Ge,(0,l.toDisplayString)(e.order_status||''),1)])]),f[8]||(f[8]=(0,l.createElementVNode)('div',{class:'shrink-0 text-xs text-slate-500 group-hover:text-slate-300'},[(0,l.createElementVNode)('i',{class:'fas fa-chevron-right'})],-1))])],8,Pe))),128))]))])]),(0,l.createCommentVNode)(' Reorder modal '),'reorder'===r.value&&s.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',We,[(0,l.createElementVNode)('div',Ke,[(0,l.createElementVNode)('div',Ye,[f[11]||(f[11]=(0,l.createElementVNode)('div',{class:'flex h-9 w-9 items-center justify-center rounded-xl bg-blue-500/10 text-blue-400'},[(0,l.createElementVNode)('i',{class:'fas fa-shopping-cart'})],-1)),(0,l.createElementVNode)('div',qe,[f[9]||(f[9]=(0,l.createElementVNode)('div',{class:'truncate text-base font-bold text-white'},'',-1)),(0,l.createElementVNode)('div',Xe,(0,l.toDisplayString)(s.value.package_name||''),1)]),(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-800/50 px-3 py-2 text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-700/50',onClick:u},[...f[10]||(f[10]=[(0,l.createElementVNode)('i',{class:'fas fa-arrow-left'},null,-1),(0,l.createElementVNode)('span',{class:'ml-2'},'',-1)])])]),(0,l.createElementVNode)('div',Ze,[(0,l.createElementVNode)('div',Qe,[(0,l.createElementVNode)('div',et,[(0,l.createElementVNode)('div',tt,[(0,l.createElementVNode)('div',at,(0,l.toDisplayString)(s.value.girl_name||'-')+'  '+(0,l.toDisplayString)(s.value.identity||'-'),1),(0,l.createElementVNode)('div',lt,(0,l.toDisplayString)(s.value.package_name||''),1)]),(0,l.createElementVNode)('div',nt,''+(0,l.toDisplayString)(s.value.price??'-'),1)]),v.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',st,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(v.value.slice(0,6),e=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:e,class:'rounded-full border border-slate-700/50 bg-slate-900/40 px-2 py-0.5 text-xs text-slate-300'},(0,l.toDisplayString)(e),1))),128))])):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',rt,[(0,l.createElementVNode)('div',ot,[f[12]||(f[12]=(0,l.createElementVNode)('div',{class:'text-[11px] text-slate-400'},'',-1)),(0,l.createElementVNode)('div',ct,(0,l.toDisplayString)((0,l.unref)(X.LJ)(s.value?.originalData,'.','-')),1)]),(0,l.createElementVNode)('div',it,[f[13]||(f[13]=(0,l.createElementVNode)('div',{class:'text-[11px] text-slate-400'},'',-1)),(0,l.createElementVNode)('div',dt,(0,l.toDisplayString)(p((0,l.unref)(X.LJ)(s.value?.originalData,'.','-'))),1)]),(0,l.createElementVNode)('div',mt,[f[14]||(f[14]=(0,l.createElementVNode)('div',{class:'text-[11px] text-slate-400'},'',-1)),(0,l.createElementVNode)('div',ut,(0,l.toDisplayString)((0,l.unref)(X.LJ)(s.value?.originalData,'.','-')),1)])]),(0,l.createElementVNode)('div',{class:'flex items-center justify-end gap-3 pt-1'},[(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-800/50 px-4 py-2 text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-700/50',onClick:u},'  '),(0,l.createElementVNode)('button',{class:'rounded-xl border border-blue-400/30 bg-gradient-to-r from-blue-500 to-violet-600 px-4 py-2 text-sm font-bold text-white shadow-lg shadow-blue-500/20 hover:from-blue-600 hover:to-violet-700',onClick:g},'  ')])])])])):(0,l.createCommentVNode)('v-if',!0),(0,l.createCommentVNode)(' remark modal '),o.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:1,class:'absolute inset-0 z-[5200] flex items-center justify-center bg-black/70 p-4',onClick:(0,l.withModifiers)(h,['self'])},[(0,l.createElementVNode)('div',pt,[(0,l.createElementVNode)('div',{class:'flex items-center justify-between gap-3 border-b border-slate-700/50 px-5 py-4'},[f[16]||(f[16]=(0,l.createElementVNode)('div',{class:'text-base font-bold text-white'},'',-1)),(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-800/50 px-3 py-2 text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-700/50',onClick:h},[...f[15]||(f[15]=[(0,l.createElementVNode)('i',{class:'fas fa-times'},null,-1),(0,l.createElementVNode)('span',{class:'ml-2'},'',-1)])])]),(0,l.createElementVNode)('div',ft,[v.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',vt,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(v.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:e,class:'rounded-full border border-slate-700/50 bg-slate-900/40 px-3 py-1 text-xs text-slate-200 hover:border-blue-500/40 hover:bg-slate-800/60',onClick:t=>function(e){if(!e)return;const t=c.value?`${c.value} ${e}`:e;c.value=t,(0,l.nextTick)(()=>i.value?.focus())}(e)},(0,l.toDisplayString)(e),9,gt))),128))])):(0,l.createCommentVNode)('v-if',!0),(0,l.withDirectives)((0,l.createElementVNode)('textarea',{ref_key:'remarkTextarea',ref:i,'onUpdate:modelValue':f[0]||(f[0]=e=>c.value=e),class:'h-28 w-full rounded-2xl border border-slate-700/50 bg-slate-950/40 px-4 py-3 text-sm text-white placeholder-slate-500 outline-none focus:border-blue-500/40',placeholder:'...'},null,512),[[l.vModelText,c.value]]),(0,l.createElementVNode)('div',{class:'flex items-center justify-end gap-3'},[(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-800/50 px-4 py-2 text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-700/50',onClick:h},'  '),(0,l.createElementVNode)('button',{class:'rounded-xl border border-blue-400/30 bg-gradient-to-r from-blue-500 to-violet-600 px-4 py-2 text-sm font-bold text-white shadow-lg shadow-blue-500/20 hover:from-blue-600 hover:to-violet-700',onClick:b},'  ')]),d.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',ht,[f[17]||(f[17]=(0,l.createElementVNode)('i',{class:'fas fa-info-circle text-blue-400'},null,-1)),(0,l.createTextVNode)(' '+(0,l.toDisplayString)(d.value),1)])):(0,l.createCommentVNode)('v-if',!0)])])])):(0,l.createCommentVNode)('v-if',!0)])):(0,l.createCommentVNode)('v-if',!0)}});var xt=a(992);const Et={class:'flex h-80 flex-col rounded-2xl border border-blue-500/20 bg-gradient-to-br from-slate-900/80 to-black/60 p-4 shadow-2xl shadow-blue-500/10 backdrop-blur-xl'},yt={class:'scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent flex-1 space-y-3 overflow-y-auto'},Nt={key:0,class:'rounded-xl border border-slate-700/50 bg-slate-950/40 p-4 text-sm text-slate-400'},Vt={key:1,class:'space-y-3'},kt={class:'rounded-xl border border-slate-700/50 bg-slate-950/40 p-4'},wt={class:'flex items-start justify-between gap-3'},St={class:'min-w-0'},Ct={class:'truncate text-base font-bold text-white'},_t={class:'mt-1 truncate text-xs text-slate-500'},Bt={class:'shrink-0 text-right'},zt={class:'text-lg font-bold text-yellow-300'},Dt={class:'text-xs text-slate-500'},At={key:0,class:'mt-3 flex flex-wrap gap-2'},$t={class:'rounded-xl border border-slate-700/50 bg-slate-950/40 p-4'},Mt={class:'text-sm leading-relaxed text-slate-300'},jt={key:0,class:'rounded-xl border border-slate-700/50 bg-slate-950/40 p-4'},Lt={class:'flex flex-wrap gap-2'},It=['onClick'],Pt={class:'mt-4 flex items-center space-x-2 border-t border-slate-700/50 pt-4'},Tt=['disabled'],Ft=(0,l.defineComponent)({__name:'PackageDetail',setup(e){function t(){Se.value=!0}const a=(0,l.ref)(''),n=(0,l.computed)(()=>s.value),r=(0,l.computed)(()=>{const e=n.value?.tags;return Array.isArray(e)?e.map(e=>String(e)).filter(Boolean):'string'==typeof e?e.split(/\s*,\s*|\s+/).filter(Boolean):[]}),o=(0,l.computed)(()=>{const e=n.value,t=e?.content??e?.??e?.features;return Array.isArray(t)?t.map(e=>String(e)).filter(Boolean):'string'==typeof t?t.split(/\s*,\s*|\s+/).filter(Boolean):[]}),c=(0,l.computed)(()=>{const e=n.value?.price;return'number'==typeof e?String(e):'string'==typeof e?e:'0'}),i=(0,l.computed)(()=>{const e=n.value?.stars,t='number'==typeof e?e:Number.parseFloat(String(e??''));return Number.isFinite(t)?`${t.toFixed(1)}`:''}),d=(0,l.computed)(()=>{const e=n.value?.description;return('string'==typeof e?e.trim():'')||''});async function m(e){if(!n.value)return;const t=n.value.name||'',l=n.value.shop_name||'',s=[e,a.value.trim()].filter(Boolean).join(' '),r=`/send ${`${l} / ${t}${s?`${s}`:''}`} | /trigger await=true`;(function(e){const t=window?.triggerSlash;if('function'!=typeof t)return!1;try{return t(e),!0}catch(e){return console.error('[PackageDetail] triggerSlash failed:',e),!1}})(r)||await async function(e){try{return await navigator.clipboard.writeText(e),!0}catch{try{const t=document.createElement('textarea');t.value=e,t.style.position='fixed',t.style.left='-9999px',document.body.appendChild(t),t.select();const a=document.execCommand('copy');return document.body.removeChild(t),a}catch{return!1}}}(r)}return(e,s)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Et,[(0,l.createElementVNode)('div',{class:'mb-4 flex items-center space-x-2'},[s[5]||(s[5]=(0,l.createElementVNode)('i',{class:'fas fa-info-circle text-blue-400'},null,-1)),s[6]||(s[6]=(0,l.createElementVNode)('h3',{class:'text-white'},'Package Details',-1)),(0,l.createElementVNode)('div',{class:'ml-auto flex items-center space-x-1'},[(0,l.createElementVNode)('button',{class:'mr-2 rounded-lg border border-slate-700/50 bg-slate-800/50 px-2 py-1 text-xs text-slate-200 hover:border-blue-500/30 hover:bg-slate-700/50',onClick:t},[...s[2]||(s[2]=[(0,l.createElementVNode)('i',{class:'fas fa-history text-blue-300'},null,-1),(0,l.createElementVNode)('span',{class:'ml-1'},'',-1)])]),s[3]||(s[3]=(0,l.createElementVNode)('div',{class:'h-2 w-2 animate-pulse rounded-full bg-green-400'},null,-1)),s[4]||(s[4]=(0,l.createElementVNode)('span',{class:'text-xs text-green-400'},'Active',-1))])]),(0,l.createElementVNode)('div',yt,[n.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',Vt,[(0,l.createElementVNode)('div',kt,[(0,l.createElementVNode)('div',wt,[(0,l.createElementVNode)('div',St,[(0,l.createElementVNode)('div',Ct,(0,l.toDisplayString)(n.value.name||''),1),(0,l.createElementVNode)('div',_t,(0,l.toDisplayString)(n.value.shop_name||''),1)]),(0,l.createElementVNode)('div',Bt,[(0,l.createElementVNode)('div',zt,''+(0,l.toDisplayString)(c.value),1),(0,l.createElementVNode)('div',Dt,(0,l.toDisplayString)(i.value),1)])]),r.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',At,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(r.value.slice(0,8),e=>((0,l.openBlock)(),(0,l.createElementBlock)('span',{key:e,class:'rounded-full border border-blue-500/20 bg-blue-500/5 px-2 py-0.5 text-xs text-blue-200'},(0,l.toDisplayString)(e),1))),128))])):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',$t,[s[7]||(s[7]=(0,l.createElementVNode)('div',{class:'mb-2 flex items-center gap-2 text-sm font-bold text-slate-200'},[(0,l.createElementVNode)('i',{class:'fas fa-align-left text-blue-300'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('div',Mt,(0,l.toDisplayString)(d.value),1)]),o.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',jt,[s[8]||(s[8]=(0,l.createElementVNode)('div',{class:'mb-2 flex items-center gap-2 text-sm font-bold text-slate-200'},[(0,l.createElementVNode)('i',{class:'fas fa-bolt text-yellow-300'}),(0,l.createTextVNode)('  ')],-1)),(0,l.createElementVNode)('div',Lt,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(o.value.slice(0,12),e=>((0,l.openBlock)(),(0,l.createElementBlock)('button',{key:e,class:'rounded-full border border-slate-700/50 bg-slate-900/40 px-2 py-1 text-xs text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:t=>{m(`${e}`)}},(0,l.toDisplayString)(e),9,It))),128))])])):(0,l.createCommentVNode)('v-if',!0)])):((0,l.openBlock)(),(0,l.createElementBlock)('div',Nt,'  '))]),(0,l.createElementVNode)('div',Pt,[(0,l.withDirectives)((0,l.createElementVNode)('input',{'onUpdate:modelValue':s[0]||(s[0]=e=>a.value=e),placeholder:'',class:'flex-1 rounded-xl border border-slate-700/50 bg-slate-800/50 px-3 py-2 text-white placeholder-slate-400 focus:border-blue-500/50 focus:outline-none'},null,512),[[l.vModelText,a.value]]),(0,l.createElementVNode)('button',{class:'flex items-center justify-center rounded-xl border border-blue-400/30 bg-gradient-to-r from-blue-500 to-violet-600 px-4 py-2 text-sm font-bold text-white shadow-lg shadow-blue-500/25 hover:from-blue-600 hover:to-violet-700 disabled:opacity-50',disabled:!n.value,onClick:s[1]||(s[1]=e=>m())},[...s[9]||(s[9]=[(0,l.createElementVNode)('i',{class:'fas fa-paper-plane text-white'},null,-1),(0,l.createElementVNode)('span',{class:'ml-2 hidden sm:inline'},'',-1)])],8,Tt)])]))}}),Ot=(0,l.defineComponent)({__name:'PackageImages',setup:e=>(e,t)=>((0,l.openBlock)(),(0,l.createBlock)(q,{variant:'panel'}))}),Jt={class:'rounded-3xl border border-violet-500/20 bg-gradient-to-br from-slate-900/80 to-black/60 p-6 shadow-2xl shadow-violet-500/10 backdrop-blur-xl'},Rt={class:'space-y-4'},Ut={class:'rounded-2xl border border-slate-700/50 bg-slate-800/50 p-4'},Ht={class:'flex items-center justify-between'},Gt={class:'text-white'},Wt={class:'grid grid-cols-2 gap-3'},Kt={class:'rounded-xl border border-green-500/20 bg-gradient-to-br from-green-500/10 to-emerald-600/10 p-3 text-center'},Yt={class:'text-lg text-green-400'},qt={class:'rounded-xl border border-orange-500/20 bg-gradient-to-br from-orange-500/10 to-red-600/10 p-3 text-center'},Xt={class:'text-lg text-orange-400'},Zt=(0,l.defineComponent)({__name:'ServiceStats',setup(e){const t=(0,l.ref)(null),a=(0,l.ref)(null),n=(0,l.ref)(0),s=(0,l.computed)(()=>{const e=t.value;if(null==e||''===e)return'';const a='number'==typeof e?e:Number(String(e));return Number.isFinite(a)?`${a}`:`${String(e)}`}),r=(0,l.computed)(()=>{const e=a.value;if(null==e||''===e)return'';const t='number'==typeof e?e:Number(String(e));return Number.isFinite(t)?`${t}`:`${String(e)}`}),o=(0,l.computed)(()=>{const e=n.value;return Number.isFinite(e)?`${e}`:''});async function c(){try{const e=await(0,_e.m7)();n.value=(0,_e.wd)(e).length}catch{n.value=0}const e=function(){try{const e=getCurrentMessageId?.()??'latest';if('function'==typeof waitGlobalInitialized)try{waitGlobalInitialized('Mvu')}catch{}return'undefined'!=typeof Mvu&&Mvu?.getMvuData?Mvu.getMvuData({type:'message',message_id:e}):getVariables({type:'message',message_id:e})}catch{return null}}(),l=e?.stat_data||e||{};t.value=(0,X.LJ)(l,'.',null),a.value=(0,X.LJ)(l,'.',null)}return(0,l.onMounted)(()=>{c().catch(()=>{})}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Jt,[t[3]||(t[3]=(0,l.createElementVNode)('div',{class:'mb-6 flex items-center justify-between'},[(0,l.createElementVNode)('h3',{class:'text-white'},''),(0,l.createElementVNode)('i',{class:'fas fa-chart-line text-green-400'})],-1)),(0,l.createElementVNode)('div',Rt,[(0,l.createElementVNode)('div',Ut,[(0,l.createElementVNode)('div',Ht,[t[0]||(t[0]=(0,l.createElementVNode)('div',{class:'flex items-center space-x-2'},[(0,l.createElementVNode)('i',{class:'fas fa-dollar-sign text-green-400'}),(0,l.createElementVNode)('span',{class:'text-sm text-slate-400'},'')],-1)),(0,l.createElementVNode)('span',Gt,(0,l.toDisplayString)(s.value),1)])]),(0,l.createElementVNode)('div',Wt,[(0,l.createElementVNode)('div',Kt,[(0,l.createElementVNode)('div',Yt,(0,l.toDisplayString)(o.value),1),t[1]||(t[1]=(0,l.createElementVNode)('div',{class:'text-xs text-green-400/70'},'',-1))]),(0,l.createElementVNode)('div',qt,[(0,l.createElementVNode)('div',Xt,(0,l.toDisplayString)(r.value),1),t[2]||(t[2]=(0,l.createElementVNode)('div',{class:'text-xs text-orange-400/70'},'',-1))])])])]))}}),Qt={class:'rounded-3xl border border-orange-500/20 bg-gradient-to-br from-slate-900/80 to-black/60 p-6 shadow-2xl shadow-orange-500/10 backdrop-blur-xl'},ea={class:'mb-5 flex items-start gap-4'},ta=['title'],aa={class:'min-w-0 flex-1'},la={class:'flex items-start justify-between gap-2'},na={class:'truncate text-white'},sa={key:0,class:'shrink-0 rounded-full border border-orange-500/20 bg-orange-500/10 px-2 py-0.5 text-xs text-orange-200'},ra={class:'mt-2 flex flex-wrap items-center gap-2 text-xs text-slate-400'},oa={key:0,class:'rounded-full border border-slate-700/50 bg-slate-900/40 px-2 py-0.5'},ca={key:1,class:'rounded-full border border-slate-700/50 bg-slate-900/40 px-2 py-0.5'},ia={class:'space-y-4'},da={class:'space-y-2'},ma={class:'flex items-center justify-between text-sm'},ua={class:'text-orange-400'},pa={class:'h-2 w-full rounded-full bg-slate-800'},fa={class:'grid grid-cols-2 gap-3'},va={class:'rounded-xl border border-slate-700/50 bg-slate-800/50 p-3'},ga={class:'text-white'},ha={class:'rounded-xl border border-slate-700/50 bg-slate-800/50 p-3'},ba={class:'text-white'},xa=(0,l.defineComponent)({__name:'ServiceStatus',setup(e){const t=(0,l.ref)(null),a=(0,l.ref)('...'),n=(0,l.ref)(''),s=(0,l.ref)('-'),r=(0,l.ref)(''),o=(0,l.ref)(0),c=(0,l.ref)(100),i=(0,l.ref)('-'),d=(0,l.ref)(5),m=(0,l.computed)(()=>{const e=String(a.value||'').trim();return e&&'...'!==e&&''!==e&&''!==e?e.slice(-1):''});async function u(){try{const e=await(0,_e.m7)(),l=(0,_e.wd)(e);l.length>0?(t.value=l[0],function(){if(!t.value)return;const e=t.value;a.value=(0,X.LJ)(e,'.',''),n.value=String((0,X.LJ)(e,'.','')||'').trim(),s.value=(0,X.LJ)(e,'.','-'),r.value=String((0,X.LJ)(e,'status','')||(0,X.LJ)(e,'.','')||'').trim();const l=(0,X.LJ)(e,'.',0);o.value='number'==typeof l?l:parseFloat(String(l))||0,c.value=100,i.value=(0,X.LJ)(e,'.','-'),d.value=Math.min(5,Math.max(0,o.value/20))}()):(a.value='',n.value='',s.value='-',r.value='',i.value='-',o.value=0,d.value=0)}catch(e){console.error('',e),a.value=''}}return(0,l.onMounted)(()=>{u()}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Qt,[(0,l.createCommentVNode)(' Header '),(0,l.createElementVNode)('div',ea,[(0,l.createElementVNode)('div',{class:'flex h-16 w-16 items-center justify-center overflow-hidden rounded-2xl border-2 border-orange-400/30 bg-gradient-to-br from-orange-500/20 to-yellow-500/10 text-xl font-bold text-orange-100 shadow-lg shadow-orange-500/20',title:a.value},(0,l.toDisplayString)(m.value),9,ta),(0,l.createElementVNode)('div',aa,[(0,l.createElementVNode)('div',la,[(0,l.createElementVNode)('h4',na,(0,l.toDisplayString)(a.value),1),r.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',sa,(0,l.toDisplayString)(r.value),1)):(0,l.createCommentVNode)('v-if',!0)]),(0,l.createElementVNode)('div',ra,[n.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',oa,(0,l.toDisplayString)(n.value),1)):(0,l.createCommentVNode)('v-if',!0),'-'!==s.value&&0!==s.value?((0,l.openBlock)(),(0,l.createElementBlock)('span',ca,(0,l.toDisplayString)(s.value)+'  ',1)):(0,l.createCommentVNode)('v-if',!0)])])]),(0,l.createElementVNode)('div',ia,[(0,l.createCommentVNode)(' Affection '),(0,l.createElementVNode)('div',da,[(0,l.createElementVNode)('div',ma,[t[0]||(t[0]=(0,l.createElementVNode)('span',{class:'flex items-center space-x-1 text-slate-400'},[(0,l.createElementVNode)('i',{class:'fas fa-bolt text-xs'}),(0,l.createElementVNode)('span',null,'')],-1)),(0,l.createElementVNode)('span',ua,(0,l.toDisplayString)(o.value)+' / '+(0,l.toDisplayString)(c.value),1)]),(0,l.createElementVNode)('div',pa,[(0,l.createElementVNode)('div',{class:'h-2 rounded-full bg-gradient-to-r from-orange-500 to-yellow-500 transition-all duration-700',style:(0,l.normalizeStyle)({width:o.value/c.value*100+'%'})},null,4)])]),(0,l.createCommentVNode)(' Stats '),(0,l.createElementVNode)('div',fa,[(0,l.createElementVNode)('div',va,[t[1]||(t[1]=(0,l.createElementVNode)('div',{class:'mb-1 flex items-center space-x-2'},[(0,l.createElementVNode)('i',{class:'fas fa-heart text-red-400'}),(0,l.createElementVNode)('span',{class:'text-sm text-red-400'},'')],-1)),(0,l.createElementVNode)('div',ga,(0,l.toDisplayString)(i.value)+' bpm',1)]),(0,l.createElementVNode)('div',ha,[t[2]||(t[2]=(0,l.createElementVNode)('div',{class:'mb-1 flex items-center space-x-2'},[(0,l.createElementVNode)('i',{class:'fas fa-star text-yellow-400'}),(0,l.createElementVNode)('span',{class:'text-sm text-yellow-400'},'')],-1)),(0,l.createElementVNode)('div',ba,(0,l.toDisplayString)(d.value),1)])])])]))}}),Ea={class:'grid h-full grid-rows-[auto_minmax(0,1fr)_auto] gap-y-4 rounded-2xl border border-green-500/20 bg-gradient-to-br from-slate-900/90 to-black/80 p-5 shadow-2xl shadow-green-500/10 backdrop-blur-xl'},ya={class:'flex items-center justify-between'},Na={class:'rounded-md bg-green-500/10 px-2 py-1 text-xs font-medium text-green-400/80'},Va={class:'scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent min-h-0 space-y-3 overflow-y-auto pr-1'},ka=['onClick'],wa={class:'relative shrink-0'},Sa={class:'flex h-full w-full items-center justify-center bg-slate-900/50 text-slate-100'},Ca={key:1,class:'fas fa-box'},_a={class:'absolute -bottom-2 left-1/2 -translate-x-1/2 rounded-full border border-slate-700/50 bg-slate-950/60 px-2 py-0.5 text-[10px] text-slate-300 backdrop-blur'},Ba={class:'min-w-0 flex-1 py-1'},za={class:'mb-1 flex items-center justify-between'},Da={class:'truncate font-bold text-slate-200 transition-colors group-hover:text-white'},Aa={class:'flex items-center space-x-1 rounded border border-green-500/20 bg-green-900/20 px-1.5 py-0.5 text-xs font-bold text-green-400'},$a={class:'flex items-center justify-between text-xs'},Ma={class:'truncate text-slate-500 transition-colors group-hover:text-slate-400'},ja={class:'text-slate-600 group-hover:text-slate-500'},La=(0,l.defineComponent)({__name:'ShopList',setup(e){const t=(0,l.ref)([]);async function a(){try{t.value=n.U.getShops()||[],m()}catch(e){console.error('[ShopList] ',e),t.value=[]}}const r=(0,l.computed)(()=>{const e=[],a=s.value;return t.value.forEach((t,l)=>{const n=String(t?.id??t?.shop_id??l),s=String(t?.shopname||t?.name||'');(Array.isArray(t?.packages)?t.packages:[]).forEach((l,r)=>{const o=String(l?.id??`${n}_pkg_${r}`),c=String(l?.name||''),i=Array.isArray(l?.tags)?l.tags:[],d='number'==typeof l?.stars?l.stars:Number.parseFloat(String(l?.stars??''))||0,m=l?.price??l?.??l?.??0,u=String('number'==typeof m?m:m||'0'),p=String(a?.id??'')===String(o)&&String(a?.shop_id??'')===String(n);e.push({key:`${n}__${o}`,shop:t,pkg:{...l,id:o},shopName:s,pkgName:c,price:u,starsText:d?`${d.toFixed(1)}`:'',tagsText:i.length?i.slice(0,3).join(' / '):(l?.description||'').split('\n')[0]||'',icon:l?.icon||void 0,selected:p})})}),e});const o=()=>{a()};return(0,l.onMounted)(()=>{a(),window.addEventListener('shop:cache:updated',o)}),(0,l.onUnmounted)(()=>{window.removeEventListener('shop:cache:updated',o)}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Ea,[(0,l.createCommentVNode)(' Header '),(0,l.createElementVNode)('div',ya,[t[0]||(t[0]=(0,l.createElementVNode)('div',{class:'flex items-center space-x-3'},[(0,l.createElementVNode)('div',{class:'flex h-8 w-8 items-center justify-center rounded-lg bg-green-500/10 text-green-400'},[(0,l.createElementVNode)('i',{class:'fas fa-store'})]),(0,l.createElementVNode)('h3',{class:'text-lg font-bold tracking-wide text-white'},'MARKETPLACE')],-1)),(0,l.createElementVNode)('span',Na,(0,l.toDisplayString)(r.value.length)+' PACKAGES',1)]),(0,l.createCommentVNode)(' List '),(0,l.createElementVNode)('div',Va,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(r.value,e=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:e.key,class:(0,l.normalizeClass)(['group relative flex cursor-pointer items-center space-x-4 rounded-xl border bg-slate-800/20 p-3 transition-all duration-300 hover:translate-x-1 hover:bg-slate-800/60 hover:shadow-lg hover:shadow-green-500/10',e.selected?'border-blue-500/50 ring-1 ring-blue-500/20':'border-slate-700/50 hover:border-green-500/50']),onClick:t=>function(e){d(e.shop,e.pkg)}(e)},[(0,l.createCommentVNode)(' Rank/Status Indicator (Optional) '),(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['absolute top-4 bottom-4 -left-[1px] w-[3px] rounded-r bg-gradient-to-b from-green-500 to-emerald-600 opacity-0 transition-opacity group-hover:opacity-100',e.selected?'opacity-100':''])},null,2),(0,l.createCommentVNode)(' Avatar '),(0,l.createElementVNode)('div',wa,[(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['h-12 w-12 overflow-hidden rounded-xl border-2 transition-colors',e.selected?'border-blue-500/50':'border-slate-700 group-hover:border-green-500/50'])},[(0,l.createElementVNode)('div',Sa,[e.icon?((0,l.openBlock)(),(0,l.createElementBlock)('i',{key:0,class:(0,l.normalizeClass)(e.icon)},null,2)):((0,l.openBlock)(),(0,l.createElementBlock)('i',Ca))])],2),(0,l.createElementVNode)('div',_a,(0,l.toDisplayString)(e.shopName),1)]),(0,l.createCommentVNode)(' Info '),(0,l.createElementVNode)('div',Ba,[(0,l.createElementVNode)('div',za,[(0,l.createElementVNode)('span',Da,(0,l.toDisplayString)(e.pkgName),1),(0,l.createElementVNode)('span',Aa,[t[1]||(t[1]=(0,l.createElementVNode)('i',{class:'fas fa-yen-sign text-[10px]'},null,-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)(e.price),1)])]),(0,l.createElementVNode)('div',$a,[(0,l.createElementVNode)('span',Ma,(0,l.toDisplayString)(e.tagsText),1),(0,l.createElementVNode)('span',ja,(0,l.toDisplayString)(e.starsText),1)])])],10,ka))),128))]),(0,l.createCommentVNode)(' Footer Action '),(0,l.createElementVNode)('button',{class:'group flex w-full items-center justify-center space-x-2 rounded-xl border border-dashed border-slate-600 bg-transparent py-3 text-sm font-medium text-slate-400 transition-all hover:border-green-500/50 hover:bg-green-500/5 hover:text-green-400',onClick:a},[...t[2]||(t[2]=[(0,l.createElementVNode)('span',null,'',-1),(0,l.createElementVNode)('i',{class:'fas fa-sync-alt transition-transform group-hover:translate-x-1'},null,-1)])])]))}}),Ia={class:'mx-auto flex h-full w-full max-w-3xl flex-col overflow-hidden rounded-2xl border border-blue-500/20 bg-gradient-to-br from-slate-900/95 to-black/90 shadow-2xl shadow-blue-500/10 backdrop-blur'},Pa={class:'scrollbar-thin scrollbar-thumb-slate-700 scrollbar-track-transparent min-h-0 flex-1 overflow-y-auto p-4'},Ta={class:'space-y-3'},Fa={open:'',class:'rounded-2xl border border-slate-700/50 bg-slate-950/40'},Oa={class:'grid gap-3 px-4 pb-4 pt-1'},Ja={class:'rounded-2xl border border-slate-700/50 bg-slate-950/40'},Ra={class:'grid gap-3 px-4 pb-4 pt-1'},Ua={class:'rounded-2xl border border-slate-700/50 bg-slate-950/40'},Ha={class:'grid gap-2 px-4 pb-4 pt-1'},Ga=['onClick'],Wa={class:'flex items-center gap-2'},Ka={class:'rounded-2xl border border-slate-700/50 bg-slate-950/40'},Ya={class:'grid gap-2 px-4 pb-4 pt-1'},qa={class:'flex items-center gap-2'},Xa=(0,l.defineComponent)({__name:'PlayPanelsModal',setup(e){const t=(0,xt.useRouter)(),a=[{icon:'fas fa-gamepad text-blue-300',label:'Play',path:'/play'},{icon:'fas fa-home text-slate-200',label:'Home',path:'/home'},{icon:'fas fa-concierge-bell text-slate-200',label:'Service',path:'/service'},{icon:'fas fa-compass text-slate-200',label:'Discover',path:'/discover'}],n=(0,l.ref)(!1);function s(){Ce.value=!1}function r(){Se.value=!0}function o(){n.value=!n.value,window.dispatchEvent(new CustomEvent('theme-change',{detail:{isDark:n.value}})),localStorage.setItem('app-theme',n.value?'dark':'light')}function c(){try{const e=window?.reloadIframe;if('function'==typeof e)return void e()}catch{}window.location.reload()}function i(){const e=function(e){const t=`${e} | /trigger await=true`,a=window?.triggerSlash;if('function'!=typeof a)return!1;try{return a(t),!0}catch{return!1}}('/send --2-2');try{const toastr=window?.toastr;e?toastr?.success?.('',''):toastr?.info?.(' triggerSlash','')}catch{}}return(0,l.onMounted)(()=>{try{const e=localStorage.getItem('app-theme');n.value='dark'===e}catch{n.value=!1}}),(e,d)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'fixed inset-0 z-[5200] bg-black/70 p-3 sm:p-4',onClick:(0,l.withModifiers)(s,['self'])},[(0,l.createElementVNode)('div',Ia,[(0,l.createElementVNode)('div',{class:'flex items-center gap-3 border-b border-slate-700/50 px-4 py-3'},[d[1]||(d[1]=(0,l.createStaticVNode)('<div class="flex h-9 w-9 items-center justify-center rounded-xl bg-blue-500/10 text-blue-300"><i class="fas fa-layer-group"></i></div><div class="min-w-0 flex-1"><div class="truncate text-sm font-bold text-white"></div><div class="truncate text-[11px] text-slate-400">/</div></div>',2)),(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-800/50 px-3 py-2 text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-700/50',onClick:s},[...d[0]||(d[0]=[(0,l.createElementVNode)('i',{class:'fas fa-times'},null,-1),(0,l.createElementVNode)('span',{class:'ml-2'},'',-1)])])]),(0,l.createElementVNode)('div',Pa,[(0,l.createElementVNode)('div',Ta,[(0,l.createElementVNode)('details',Fa,[d[2]||(d[2]=(0,l.createElementVNode)('summary',{class:'flex cursor-pointer list-none items-center justify-between gap-3 px-4 py-3 text-sm font-bold text-slate-100'},[(0,l.createElementVNode)('span',{class:'flex items-center gap-2'},[(0,l.createElementVNode)('i',{class:'fas fa-user-shield text-blue-300'}),(0,l.createTextVNode)('  ')]),(0,l.createElementVNode)('i',{class:'fas fa-chevron-down text-xs text-slate-400'})],-1)),(0,l.createElementVNode)('div',Oa,[(0,l.createVNode)(xa),(0,l.createVNode)(Zt)])]),(0,l.createElementVNode)('details',Ja,[d[3]||(d[3]=(0,l.createElementVNode)('summary',{class:'flex cursor-pointer list-none items-center justify-between gap-3 px-4 py-3 text-sm font-bold text-slate-100'},[(0,l.createElementVNode)('span',{class:'flex items-center gap-2'},[(0,l.createElementVNode)('i',{class:'fas fa-store text-green-300'}),(0,l.createTextVNode)('  ')]),(0,l.createElementVNode)('i',{class:'fas fa-chevron-down text-xs text-slate-400'})],-1)),(0,l.createElementVNode)('div',Ra,[(0,l.createVNode)(La),(0,l.createVNode)(Ft),(0,l.createVNode)(Ot)])]),(0,l.createElementVNode)('details',{class:'rounded-2xl border border-slate-700/50 bg-slate-950/40'},[d[6]||(d[6]=(0,l.createElementVNode)('summary',{class:'flex cursor-pointer list-none items-center justify-between gap-3 px-4 py-3 text-sm font-bold text-slate-100'},[(0,l.createElementVNode)('span',{class:'flex items-center gap-2'},[(0,l.createElementVNode)('i',{class:'fas fa-history text-blue-300'}),(0,l.createTextVNode)('  ')]),(0,l.createElementVNode)('i',{class:'fas fa-chevron-down text-xs text-slate-400'})],-1)),(0,l.createElementVNode)('div',{class:'px-4 pb-4 pt-1'},[(0,l.createElementVNode)('div',{class:'rounded-xl border border-slate-700/50 bg-slate-900/30 p-3 text-xs text-slate-300'},[d[5]||(d[5]=(0,l.createTextVNode)('  ',-1)),(0,l.createElementVNode)('button',{class:'ml-2 rounded-lg border border-slate-700/50 bg-slate-950/40 px-2 py-1 text-xs text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:r},[...d[4]||(d[4]=[(0,l.createElementVNode)('i',{class:'fas fa-up-right-from-square'},null,-1),(0,l.createElementVNode)('span',{class:'ml-1'},'',-1)])])])])]),(0,l.createElementVNode)('details',Ua,[d[8]||(d[8]=(0,l.createElementVNode)('summary',{class:'flex cursor-pointer list-none items-center justify-between gap-3 px-4 py-3 text-sm font-bold text-slate-100'},[(0,l.createElementVNode)('span',{class:'flex items-center gap-2'},[(0,l.createElementVNode)('i',{class:'fas fa-compass text-violet-300'}),(0,l.createTextVNode)('  ')]),(0,l.createElementVNode)('i',{class:'fas fa-chevron-down text-xs text-slate-400'})],-1)),(0,l.createElementVNode)('div',Ha,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(a,e=>(0,l.createElementVNode)('button',{key:e.path,class:'flex items-center justify-between rounded-xl border border-slate-700/50 bg-slate-900/30 px-3 py-2 text-left text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:a=>{return l=e.path,s(),void t.push(l);var l}},[(0,l.createElementVNode)('span',Wa,[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(e.icon)},null,2),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)(e.label),1)]),d[7]||(d[7]=(0,l.createElementVNode)('i',{class:'fas fa-chevron-right text-xs text-slate-500'},null,-1))],8,Ga)),64))])]),(0,l.createElementVNode)('details',Ka,[d[12]||(d[12]=(0,l.createElementVNode)('summary',{class:'flex cursor-pointer list-none items-center justify-between gap-3 px-4 py-3 text-sm font-bold text-slate-100'},[(0,l.createElementVNode)('span',{class:'flex items-center gap-2'},[(0,l.createElementVNode)('i',{class:'fas fa-sliders text-slate-200'}),(0,l.createTextVNode)('  ')]),(0,l.createElementVNode)('i',{class:'fas fa-chevron-down text-xs text-slate-400'})],-1)),(0,l.createElementVNode)('div',Ya,[(0,l.createElementVNode)('button',{class:'flex items-center justify-between rounded-xl border border-slate-700/50 bg-slate-900/30 px-3 py-2 text-left text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:o},[(0,l.createElementVNode)('span',qa,[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas',n.value?'fa-sun text-yellow-300':'fa-moon text-blue-300'])},null,2),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)(n.value?'':''),1)]),d[9]||(d[9]=(0,l.createElementVNode)('i',{class:'fas fa-chevron-right text-xs text-slate-500'},null,-1))]),(0,l.createElementVNode)('button',{class:'flex items-center justify-between rounded-xl border border-slate-700/50 bg-slate-900/30 px-3 py-2 text-left text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:c},[...d[10]||(d[10]=[(0,l.createElementVNode)('span',{class:'flex items-center gap-2'},[(0,l.createElementVNode)('i',{class:'fas fa-sync-alt text-green-300'}),(0,l.createElementVNode)('span',null,'')],-1),(0,l.createElementVNode)('i',{class:'fas fa-chevron-right text-xs text-slate-500'},null,-1)])]),(0,l.createElementVNode)('button',{class:'flex items-center justify-between rounded-xl border border-slate-700/50 bg-slate-900/30 px-3 py-2 text-left text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:i},[...d[11]||(d[11]=[(0,l.createElementVNode)('span',{class:'flex items-center gap-2'},[(0,l.createElementVNode)('i',{class:'fas fa-wand-magic-sparkles text-purple-300'}),(0,l.createElementVNode)('span',null,'')],-1),(0,l.createElementVNode)('i',{class:'fas fa-chevron-right text-xs text-slate-500'},null,-1)])])])])])]),(0,l.createElementVNode)('div',{class:'flex items-center justify-between gap-2 border-t border-slate-700/50 px-4 py-3'},[d[13]||(d[13]=(0,l.createElementVNode)('div',{class:'text-[11px] text-slate-500'},'',-1)),(0,l.createElementVNode)('button',{class:'rounded-xl border border-slate-700/50 bg-slate-800/50 px-3 py-2 text-sm text-slate-200 hover:bg-slate-700/50',onClick:s},'  ')])])]))}}),Za=Xa,Qa={class:'flex min-w-0 items-center gap-2 rounded-2xl border border-slate-700/50 bg-slate-950/40 px-3 py-2 backdrop-blur'},el={class:'min-w-0 flex-1'},tl={class:'flex min-w-0 items-center gap-2'},al={class:'inline-flex min-w-0 items-center gap-2 rounded-full border border-slate-700/50 bg-slate-900/40 px-2 py-0.5 text-[11px] text-slate-200'},ll={class:'truncate'},nl={class:'truncate text-xs text-slate-400'},sl={class:'mt-1 flex flex-wrap items-center gap-2 text-[11px] text-slate-300'},rl={class:'inline-flex items-center gap-1 rounded-full border border-slate-700/50 bg-slate-900/40 px-2 py-0.5'},ol={class:'inline-flex min-w-0 items-center gap-1 rounded-full border border-slate-700/50 bg-slate-900/40 px-2 py-0.5'},cl={class:'truncate'},il={class:'inline-flex items-center gap-1 rounded-full border border-slate-700/50 bg-slate-900/40 px-2 py-0.5'},dl=['disabled'],ml=(0,l.defineComponent)({__name:'RpgHud',setup(e){const t=(0,l.ref)(!1),a=(0,l.ref)(null),n=(0,l.ref)(''),s=(0,l.ref)(null),r=(0,l.ref)(null),o=(0,l.computed)(()=>n.value||'RPG  '),c=(0,l.computed)(()=>{if(!a.value)return'';const e=(0,X.LJ)(a.value,'.',''),t=(0,X.LJ)(a.value,'.','');return t?`${e}  ${t}`:String(e)}),i=(0,l.computed)(()=>{const e=r.value??(0,X.LJ)(a.value,'.','-');return null==e||''===e?'-':String(e)}),d=(0,l.computed)(()=>{const e=s.value;if(null==e||''===e)return'';const t='number'==typeof e?e:Number(String(e));return Number.isFinite(t)?`${t}`:`${String(e)}`}),m=(0,l.computed)(()=>{const e=(0,X.LJ)(a.value,'status','')||(0,X.LJ)(a.value,'.',''),t=String(e||'').trim();return t?`${t}`:'  '});async function u(){if(!t.value){t.value=!0;try{const e=await(0,_e.m7)(),t=(0,_e.wd)(e);a.value=t[0]??null;const l=function(){try{const e=getCurrentMessageId?.()??'latest';if('function'==typeof waitGlobalInitialized)try{waitGlobalInitialized('Mvu')}catch{}return'undefined'!=typeof Mvu&&Mvu?.getMvuData?Mvu.getMvuData({type:'message',message_id:e}):getVariables({type:'message',message_id:e})}catch{return null}}(),o=l?.stat_data||l||{};n.value=(0,X.LJ)(o,'.','')||(0,X.LJ)(o,'.',''),s.value=(0,X.LJ)(o,'.',null),r.value=(0,X.LJ)(a.value,'.',null)}finally{t.value=!1}}}let p=null;return(0,l.onMounted)(()=>{u().catch(()=>{}),p=window.setInterval(()=>u().catch(()=>{}),2e4)}),(0,l.onUnmounted)(()=>{p&&window.clearInterval(p)}),(e,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',Qa,[(0,l.createElementVNode)('div',el,[(0,l.createElementVNode)('div',tl,[(0,l.createElementVNode)('span',al,[a[0]||(a[0]=(0,l.createElementVNode)('span',{class:'h-1.5 w-1.5 rounded-full bg-emerald-400'},null,-1)),(0,l.createElementVNode)('span',ll,(0,l.toDisplayString)(o.value),1)]),(0,l.createElementVNode)('span',nl,(0,l.toDisplayString)(m.value),1)]),(0,l.createElementVNode)('div',sl,[(0,l.createElementVNode)('span',rl,[a[1]||(a[1]=(0,l.createElementVNode)('i',{class:'fas fa-coins text-yellow-300'},null,-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)(d.value),1)]),(0,l.createElementVNode)('span',ol,[a[2]||(a[2]=(0,l.createElementVNode)('i',{class:'fas fa-user-shield text-blue-300'},null,-1)),(0,l.createElementVNode)('span',cl,(0,l.toDisplayString)(c.value),1)]),(0,l.createElementVNode)('span',il,[a[3]||(a[3]=(0,l.createElementVNode)('i',{class:'fas fa-heartbeat text-red-300'},null,-1)),(0,l.createElementVNode)('span',null,(0,l.toDisplayString)(i.value),1)])])]),(0,l.createElementVNode)('button',{class:'shrink-0 rounded-xl border border-slate-700/50 bg-slate-900/40 px-3 py-2 text-xs text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',disabled:t.value,onClick:u,title:''},[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas fa-sync-alt',{'fa-spin':t.value}])},null,2),a[4]||(a[4]=(0,l.createElementVNode)('span',{class:'ml-2 hidden sm:inline'},'',-1))],8,dl)]))}}),ul={class:'relative flex h-full min-h-0 w-full flex-col gap-3 overflow-hidden p-3 sm:p-4'},pl={class:'flex items-center gap-2'},fl={class:'min-h-0 min-w-0 flex-1'},vl=(0,l.defineComponent)({__name:'Dashboard',setup(e){function t(){Se.value=!0}function a(){Ce.value=!0}return(e,n)=>((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,[(0,l.createElementVNode)('div',ul,[(0,l.createCommentVNode)(' Compact HUD / Actions '),(0,l.createElementVNode)('div',pl,[(0,l.createElementVNode)('button',{class:'shrink-0 rounded-2xl border border-blue-500/20 bg-slate-900/40 px-3 py-2 text-sm text-slate-100 hover:border-blue-500/40 hover:bg-slate-800/60',onClick:a,title:'///'},[...n[0]||(n[0]=[(0,l.createElementVNode)('i',{class:'fas fa-bars'},null,-1),(0,l.createElementVNode)('span',{class:'ml-2 hidden sm:inline'},'',-1)])]),(0,l.createVNode)(ml,{class:'min-w-0 flex-1'}),(0,l.createElementVNode)('button',{class:'shrink-0 rounded-2xl border border-slate-700/50 bg-slate-900/40 px-3 py-2 text-sm text-slate-200 hover:border-blue-500/30 hover:bg-slate-800/60',onClick:t,title:''},[...n[1]||(n[1]=[(0,l.createElementVNode)('i',{class:'fas fa-history text-blue-300'},null,-1),(0,l.createElementVNode)('span',{class:'ml-2 hidden md:inline'},'',-1)])])]),(0,l.createCommentVNode)(' Main narrative area (maximize) '),(0,l.createElementVNode)('main',fl,[(0,l.createVNode)(we,{class:'h-full'})])]),(0,l.unref)(Ce)?((0,l.openBlock)(),(0,l.createBlock)(Za,{key:0})):(0,l.createCommentVNode)('v-if',!0),(0,l.createVNode)(bt)],64))}})},707(e){e.exports=z},727(e,t,a){a.r(t),a.d(t,{default:()=>E});var l=a(61),n=a(813);const s={class:'app-view active'},r={class:'app-content'},o={class:'shop-list'},c={key:0,class:'empty-state'},i={key:1,class:'shop-list-items'},d=['onClick'],m={class:'avatar-text'},u={key:1,class:'fas fa-store'},p={class:'info'},f={class:'name'},v={class:'desc'},g={class:'slogan-text'},h={key:0,class:'package-count'},b=['onClick'],x=(0,l.defineComponent)({__name:'Discover',setup(e){const t=(0,l.ref)([]),a=(0,l.ref)(null);async function x(){const e=await n.U.getShops();t.value=Array.isArray(e)?e:[]}const E=()=>{x()};function y(){a.value?.click()}function N(e){const t=e.target,a=t.files;if(!a||0===a.length)return;const l=a[0];if(l.size>5242880)return toastr.error('>5MB',''),void(t.value='');const s=new FileReader;s.onload=()=>{try{const e=String(s.result||''),t=JSON.parse(e),a=Array.isArray(t)?t:t?.||t?.shops||[],l=Array.isArray(a)?a.slice(0,200):[],{ok:r,saved:o}=n.U.saveShops(l);r?toastr.success(` ${o} `,''):toastr.error('',''),x()}catch(e){toastr.error(e?.message||'','')}finally{t.value=''}},s.readAsText(l,'utf-8')}return(0,l.onMounted)(async()=>{await x(),window.addEventListener('shop:cache:updated',E)}),(0,l.onUnmounted)(()=>{window.removeEventListener('shop:cache:updated',E)}),(e,x)=>((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,[(0,l.createElementVNode)('div',s,[(0,l.createElementVNode)('div',{class:'app-header'},[(0,l.createElementVNode)('div',{class:'title'},[x[0]||(x[0]=(0,l.createElementVNode)('span',null,'?? ',-1)),(0,l.createElementVNode)('button',{class:'import-btn',onClick:y},'JSON')])]),(0,l.createElementVNode)('div',r,[(0,l.createElementVNode)('div',o,[0===t.value.length?((0,l.openBlock)(),(0,l.createElementBlock)('div',c,[...x[1]||(x[1]=[(0,l.createElementVNode)('i',{class:'fas fa-search'},null,-1),(0,l.createElementVNode)('p',null,'AI',-1)])])):((0,l.openBlock)(),(0,l.createElementBlock)('div',i,[((0,l.openBlock)(!0),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(t.value,(t,a)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{key:t.id||t.shop_id||a,class:'shop-card',onClick:l=>e.$router.push(`/shop/${t.id||t.shop_id||a}`)},[(0,l.createElementVNode)('div',m,[(t.packages||[]).find(e=>e.icon)?((0,l.openBlock)(),(0,l.createElementBlock)('i',{key:0,class:(0,l.normalizeClass)((t.packages||[]).find(e=>e.icon).icon)},null,2)):((0,l.openBlock)(),(0,l.createElementBlock)('i',u))]),(0,l.createElementVNode)('div',p,[(0,l.createElementVNode)('div',f,(0,l.toDisplayString)(t.shopname||t.name||''),1),(0,l.createElementVNode)('div',v,[(0,l.createElementVNode)('span',g,(0,l.toDisplayString)((t.shoptags||[]).join(' / ')||''),1),t.packages&&t.packages.length>0?((0,l.openBlock)(),(0,l.createElementBlock)('span',h,[x[2]||(x[2]=(0,l.createElementVNode)('i',{class:'fas fa-layer-group'},null,-1)),(0,l.createTextVNode)(' '+(0,l.toDisplayString)(t.packages.length)+'  ',1)])):(0,l.createCommentVNode)('v-if',!0)])]),(0,l.createElementVNode)('button',{class:'delete-btn',onClick:(0,l.withModifiers)(e=>function(e,t){const a=String(e?.id??e?.shop_id??t);n.U.deleteShop(a),toastr.success(' MVU','')}(t,a),['stop'])},[...x[3]||(x[3]=[(0,l.createElementVNode)('i',{class:'fas fa-trash'},null,-1)])],8,b)],8,d))),128))]))])])]),(0,l.createElementVNode)('input',{ref_key:'fileInput',ref:a,class:'hidden-input',type:'file',accept:'.json,application/json',onChange:N},null,544)],64))}});const E=(0,a(455).A)(x,[['__scopeId','data-v-28ce63c0']])},813(e,t,a){a.d(t,{U:()=>i});var l=a(224),n=a.n(l),s=a(707);const r=s.z.object({shopname:s.z.string(),shop_id:s.z.coerce.number(),shoptags:s.z.array(s.z.string()),packages:s.z.array(s.z.object({name:s.z.string(),price:s.z.coerce.number(),stars:s.z.coerce.number(),icon:s.z.string(),tags:s.z.array(s.z.string()),image1:s.z.string(),image2:s.z.string(),image3:s.z.string(),description:s.z.string(),content:s.z.array(s.z.string()),reviews:s.z.array(s.z.string())}).strict()).describe('')}).strict(),o=s.z.object({:s.z.object({:s.z.coerce.number(),:s.z.coerce.number()}).strict(),:s.z.object({:s.z.object({id:s.z.string(),:s.z.enum(['','']),:s.z.object({:s.z.string(),:s.z.coerce.number(),:s.z.string(),:s.z.string()}).strict(),:s.z.record(s.z.string(),s.z.string()),:s.z.object({:s.z.string(),:s.z.coerce.number(),:s.z.coerce.number(),:s.z.array(s.z.string()),:s.z.string()}).strict(),:s.z.object({:s.z.string(),:s.z.coerce.number().transform(e=>n().clamp(e,0,100)),:s.z.coerce.number().transform(e=>n().clamp(e,0,100)),:s.z.string()}).strict(),:s.z.object({:s.z.object({:s.z.string(),:s.z.string()}).strict(),:s.z.object({:s.z.string()}).strict(),:s.z.string(),:s.z.string(),:s.z.string()}).strict(),:s.z.object({:s.z.enum(['','']),:s.z.coerce.number(),:s.z.string(),:s.z.coerce.number().transform(e=>n().clamp(e,0,100)),:s.z.coerce.number()}).strict(),:s.z.object({:s.z.coerce.number().transform(e=>n().clamp(e,60,200)),:s.z.coerce.number(),:s.z.coerce.number()}).strict()}).strict()}).strict(),:s.z.object({:s.z.boolean(),:s.z.boolean(),:s.z.string(),:s.z.string()}).strict(),:s.z.array(s.z.string()).default(['zod']),:s.z.record(s.z.string().describe('ID'),s.z.object({id:s.z.string(),:s.z.enum(['','']),:s.z.object({:s.z.string(),:s.z.coerce.number(),:s.z.string(),:s.z.string()}).strict(),:s.z.record(s.z.string(),s.z.string()),:s.z.object({:s.z.string(),:s.z.coerce.number(),:s.z.coerce.number(),:s.z.array(s.z.string()),:s.z.string()}).strict(),:s.z.object({:s.z.string(),:s.z.coerce.number().transform(e=>n().clamp(e,0,100)),:s.z.coerce.number().transform(e=>n().clamp(e,0,100)),:s.z.string()}).strict(),:s.z.object({:s.z.object({:s.z.string(),:s.z.string()}).strict(),:s.z.object({:s.z.string()}).strict(),:s.z.string(),:s.z.string(),:s.z.string()}).strict(),:s.z.object({:s.z.enum(['','']),:s.z.coerce.number(),:s.z.string(),:s.z.coerce.number().transform(e=>n().clamp(e,0,100)),:s.z.coerce.number()}).strict(),:s.z.object({:s.z.coerce.number().transform(e=>n().clamp(e,60,200)),:s.z.coerce.number(),:s.z.coerce.number()}).strict()}).strict()).prefault({}),:s.z.array(r).default([{shopname:'',shop_id:20241222001,shoptags:['','',''],packages:[{name:'OL',price:588,stars:4.7,icon:'fas fa-subway',tags:['','',''],image1:'###26Leica M1035mm4K###',image2:'###8K###',image3:'###8K###',description:'OL',content:['','',''],reviews:['...............','""']},{name:'',price:388,stars:4.5,icon:'fas fa-broom',tags:['','',''],image1:'###42Canon 5D Mark IV50mm6K###',image2:'###8K###',image3:'###8K###',description:'',content:['','',''],reviews:['............','""']},{name:'',price:688,stars:4.8,icon:'fas fa-coffee',tags:['','',''],image1:'###24Sony A7R IV85mm f/1.48K###',image2:'###8K###',image3:'###V8K###',description:'',content:['','',''],reviews:['.........','""']}]},{shopname:'',shop_id:20241222002,shoptags:['','',''],packages:[{name:'',price:499,stars:4.8,icon:'fas fa-shopping-basket',tags:['','',''],image1:'###19Fujifilm X-T435mm4K###',image2:'###8K###',image3:'###8K###',description:'""',content:['','',''],reviews:['............','""']},{name:'',price:666,stars:4.6,icon:'fas fa-box-open',tags:['','',''],image1:'###28iPhone 13 Pro4K###',image2:'###8K###',image3:'###8K###',description:'',content:['','',''],reviews:['...............','""']},{name:'',price:555,stars:4.9,icon:'fas fa-running',tags:['','',''],image1:'###30Nikon D85070-200mm8K###',image2:'###"W"8K###',image3:'###8K###',description:'',content:['','',''],reviews:['............','""']}]}])});function c(e){return Array.isArray(e)?e:e&&'object'==typeof e?Object.values(e):[]}const i={getShops(){try{const e=getCurrentMessageId?.()??'latest';if('function'==typeof waitGlobalInitialized)try{waitGlobalInitialized('Mvu')}catch{}const t='undefined'!=typeof Mvu&&Mvu?.getMvuData?Mvu.getMvuData({type:'message',message_id:e}):getVariables({type:'message',message_id:e}),a=t?.stat_data||t||{},l=o.safeParse(a),n=l.success?l.data.:c(a['']);return(n||[]).map((e,t)=>{const a=e.shop_id??e.id??`shop_${t}`,l=String(a),n=Array.isArray(e.packages)?e.packages.map((e,t)=>{const a=e?.id??`${l}_pkg_${t}`;return{...e,id:String(a),shop_id:l}}):[];return{...e,id:String(e.id??l),shop_id:e.shop_id,packages:n}})}catch(e){return console.error('[ShopStoreMVU] getShops failed',e),[]}},saveShops(e){try{const t=getCurrentMessageId?.()??'latest',a=c(e).map(e=>r.safeParse(e)).filter(e=>e.success).map(e=>e.data);if(0===a.length)return console.warn('[ShopStoreMVU] saveShops skipped: no valid shops'),{ok:!1,saved:0};const l={type:'message',message_id:t};if('function'==typeof updateVariablesWith)updateVariablesWith(e=>{const t=e&&'object'==typeof e?e:{},l=t.stat_data&&'object'==typeof t.stat_data?t.stat_data:{};return t.stat_data={...l,:a},t},l);else if('function'==typeof insertOrAssignVariables){const e=getVariables(l)||{},t={...e.stat_data&&'object'==typeof e.stat_data?e.stat_data:{},:a};insertOrAssignVariables({stat_data:t},l)}else{const e=getVariables(l)||{},t={...e.stat_data&&'object'==typeof e.stat_data?e.stat_data:{},:a};replaceVariables({...e||{},stat_data:t},l)}return window.dispatchEvent(new CustomEvent('shop:cache:updated')),{ok:!0,saved:a.length}}catch(e){return console.error('[ShopStoreMVU] saveShops failed',e),{ok:!1,saved:0}}},deleteShop(e){try{const t=this.getShops().filter(t=>String(t.id??'')!==String(e));this.saveShops(t)}catch(e){console.error('[ShopStoreMVU] deleteShop failed',e)}}}},992(e){e.exports=VueRouter}},t={};function a(l){var n=t[l];if(void 0!==n)return n.exports;var s=t[l]={exports:{}};return e[l](s,s.exports,a),s.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})};var l=a(61);const n=$;var s=a.n(n),r=a(224),o=a.n(r),c=a(992),i=a(363);const d={class:'splash-content'},m={class:'slogan-section'},u={class:'main-slogan'},p={class:'footer-section'},f={class:'loading-indicator'},v={class:'loading-dots'},g=(0,l.defineComponent)({__name:'SplashScreen',setup(e){const t=(0,l.ref)(''),a=(0,l.ref)(!1),n=(0,c.useRouter)();async function s(){try{a.value=!0;const e=await(0,i.dR)();console.log(`[] : ${e}`),setTimeout(()=>{n.push(e)},300)}catch(e){console.error('[] :',e),setTimeout(()=>{n.push('/home')},300)}}return(0,l.onMounted)(async()=>{setTimeout(()=>{s()},3e3)}),(e,n)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'splash-screen',onClick:s},[(0,l.createCommentVNode)('  '),n[4]||(n[4]=(0,l.createElementVNode)('div',{class:'bg-decoration'},[(0,l.createElementVNode)('div',{class:'circle-bg circle-1'}),(0,l.createElementVNode)('div',{class:'circle-bg circle-2'}),(0,l.createElementVNode)('div',{class:'circle-bg circle-3'})],-1)),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',d,[(0,l.createCommentVNode)(' Logo '),n[3]||(n[3]=(0,l.createStaticVNode)('<div class="logo-section" data-v-9ede8fa6><div class="logo-container" data-v-9ede8fa6><div class="logo-icon" data-v-9ede8fa6><i class="fas fa-heart" data-v-9ede8fa6></i></div><div class="logo-text" data-v-9ede8fa6><h1 class="brand-name" data-v-9ede8fa6></h1><p class="brand-subtitle" data-v-9ede8fa6>Mei Ren Tuan</p></div></div></div>',1)),(0,l.createCommentVNode)(' Slogan '),(0,l.createElementVNode)('div',m,[(0,l.createElementVNode)('p',u,(0,l.toDisplayString)(t.value),1),n[0]||(n[0]=(0,l.createElementVNode)('div',{class:'slogan-decoration'},[(0,l.createElementVNode)('div',{class:'decoration-line'}),(0,l.createElementVNode)('i',{class:'fas fa-star'}),(0,l.createElementVNode)('div',{class:'decoration-line'})],-1))]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',p,[n[2]||(n[2]=(0,l.createElementVNode)('div',{class:'version-info'},[(0,l.createElementVNode)('span',null,'v3.0.0')],-1)),(0,l.createElementVNode)('div',{class:(0,l.normalizeClass)(['skip-button',{'fade-out':a.value}]),onClick:s},[...n[1]||(n[1]=[(0,l.createElementVNode)('span',null,'',-1),(0,l.createElementVNode)('i',{class:'fas fa-chevron-right'},null,-1)])],2)])]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',f,[(0,l.createElementVNode)('div',v,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(3,e=>(0,l.createElementVNode)('span',{key:e,class:'dot',style:(0,l.normalizeStyle)({animationDelay:.2*(e-1)+'s'})},null,4)),64))])])]))}});var h=a(455);const b=(0,h.A)(g,[['__scopeId','data-v-9ede8fa6']]);var x=a(813);class E{async buildPrompt(e){const t=`shop-generation-${Date.now()}`;return injectPrompts([{id:t,position:'none',depth:0,role:'system',content:'[mvu_update] [mvu_update]',should_scan:!0}],{once:!0}),`${e.keyword}\n\n`}async parseResponse(e){console.log('[ShopGenerationAdapter] :',e.length),console.log('[ShopGenerationAdapter] 500:',e.substring(0,500));const t='[]',a=e.indexOf(t),l=e.indexOf('[]');if(console.log('[ShopGenerationAdapter]  - :',a,':',l),-1===a||-1===l)return console.warn('[ShopGenerationAdapter] [][]'),console.warn('[ShopGenerationAdapter] :',e),{};const n=e.substring(a+8,l);console.log('[ShopGenerationAdapter] :',n.length),console.log('[ShopGenerationAdapter] :',n);const s=n.match(/<json_patch>([\s\S]*?)<\/json_patch>/);console.log('[ShopGenerationAdapter] JSON Patch :',s?'':'');let r=null;if(s&&s[1]){console.log('[ShopGenerationAdapter] JSON Patch :',s[1]);try{r=JSON.parse(s[1].trim()),console.log('[ShopGenerationAdapter] JSON Patch :',r)}catch(e){console.error('[ShopGenerationAdapter] JSON Patch ',e),console.error('[ShopGenerationAdapter]  JSON :',s[1])}}const o=n.match(/<update_analysis>([\s\S]*?)<\/update_analysis>/);return{jsonPatch:r,analysis:o?o[1].trim():void 0}}async handleSideEffects(e){if(e.jsonPatch&&Array.isArray(e.jsonPatch)){await new Promise(e=>setTimeout(e,0));try{const t=x.U.getShops();window.dispatchEvent(new CustomEvent('shop:cache:updated',{detail:{shops:t}})),window.__DEMO_SHOP_DATA__=e.jsonPatch,console.log('[ShopGenerationAdapter]  MVU  UI ')}catch(e){console.error('[ShopGenerationAdapter]  MVU ',e)}}else console.warn('[ShopGenerationAdapter]  JSON Patch')}}class y{async execute(e,t,a={silentUser:!0,silentAssistant:!0,stream:!0}){console.log('[InlineInteractionService] Start execution');const l=await e.buildPrompt(t);if(console.log('[InlineInteractionService] Prompt built length:',l.length),a.silentUser){const e='string'==typeof t?t:'';await this.addToHistory('user',e)}const n=t=>{a.stream&&e.onStream&&e.onStream(t)};if(a.stream&&'function'==typeof eventOn&&'undefined'!=typeof iframe_events)try{eventOn(iframe_events.STREAM_TOKEN_RECEIVED_INCREMENTALLY,n)}catch(e){console.warn('Failed to register stream listener:',e)}console.log('[InlineInteractionService] Generating...');const s=await generate({user_input:l,should_stream:a.stream});console.log('[InlineInteractionService] Generation complete. Length:',s.length);const r=await e.parseResponse(s);return console.log('[InlineInteractionService] Response parsed'),await e.handleSideEffects(r),console.log('[InlineInteractionService] Side effects handled'),a.silentAssistant&&await this.addToHistory('assistant',s,!0),{rawResponse:s,parsedData:r}}async addToHistory(e,t,a=!1){try{await createChatMessages([{role:e,message:t}],{refresh:a?'affected':'none'}),console.log(`[InlineInteractionService] Added ${e} message (triggerMvu: ${a})`)}catch(e){console.warn('[InlineInteractionService] Failed to add history',e)}}}const N={class:'app-view active'},V={class:'app-content'},k={class:'category-grid'},w={class:'search-bar-container'},S=['disabled'],C=(0,l.defineComponent)({__name:'Home',setup(e){const t=(0,l.ref)(''),a=(0,l.ref)(!1),n=new y,s=new E;async function r(e){if(e.trim()&&!a.value){a.value=!0;try{await n.execute(s,{keyword:e})}catch(e){console.error('[Home] ',e)}finally{a.value=!1}}}function o(e){r(`${e}`)}function c(){t.value.trim()&&o(t.value.trim())}function i(){r('--1""71234567')}return(e,n)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',N,[(0,l.createCommentVNode)('  '),n[21]||(n[21]=(0,l.createElementVNode)('div',{class:'app-header'},[(0,l.createElementVNode)('div',{class:'title'},[(0,l.createElementVNode)('i',{class:'fas fa-home'}),(0,l.createElementVNode)('span',null,'')])],-1)),(0,l.createElementVNode)('div',V,[(0,l.createCommentVNode)(' Slogan -  '),n[20]||(n[20]=(0,l.createStaticVNode)('<div class="slogan-section" data-v-fff2c99a><div class="slogan-card" data-v-fff2c99a><div class="slogan-bg-decoration" data-v-fff2c99a><div class="decoration-circle circle-1" data-v-fff2c99a></div><div class="decoration-circle circle-2" data-v-fff2c99a></div><div class="decoration-circle circle-3" data-v-fff2c99a></div></div><div class="slogan-content-wrapper" data-v-fff2c99a><div class="slogan-content" data-v-fff2c99a><h2 class="slogan-title" data-v-fff2c99a><span class="title-line" data-v-fff2c99a><span class="text-gradient" data-v-fff2c99a></span></span><span class="title-line" data-v-fff2c99a><span class="text-gradient" data-v-fff2c99a></span></span></h2><p class="slogan-subtitle" data-v-fff2c99a><span class="subtitle-text" data-v-fff2c99a></span></p><div class="slogan-footer" data-v-fff2c99a><div class="slogan-signature" data-v-fff2c99a><div class="signature-text" data-v-fff2c99a><i class="fas fa-heart" data-v-fff2c99a></i><span data-v-fff2c99a></span><i class="fas fa-heart" data-v-fff2c99a></i></div></div><div class="version-info" data-v-fff2c99a>v3.0.0</div></div></div>\x3c!-- / DLC  --\x3e<details class="announcement-details" data-v-fff2c99a><summary class="announcement-summary" data-v-fff2c99a><span class="summary-left" data-v-fff2c99a><i class="fas fa-bullhorn" data-v-fff2c99a></i><span data-v-fff2c99a> / </span></span><i class="fas fa-chevron-down summary-arrow" data-v-fff2c99a></i></summary><div class="announcement-panel" data-v-fff2c99a><div class="panel-header" data-v-fff2c99a><i class="fas fa-bullhorn" data-v-fff2c99a></i><span data-v-fff2c99a></span></div><div class="panel-content" data-v-fff2c99a><div class="notice-item" data-v-fff2c99a><span class="notice-tag" data-v-fff2c99a></span><span class="notice-text" data-v-fff2c99a>DLC</span></div><div class="notice-item" data-v-fff2c99a><span class="notice-tag" data-v-fff2c99a></span><span class="notice-text" data-v-fff2c99a>JSON </span></div><div class="notice-item" data-v-fff2c99a><span class="notice-tag" data-v-fff2c99a></span><span class="notice-text" data-v-fff2c99a>jsonAPP0-1</span></div><div class="notice-item" data-v-fff2c99a><span class="notice-tag" data-v-fff2c99a></span><span class="notice-text" data-v-fff2c99a></span></div><div class="notice-item" data-v-fff2c99a><span class="notice-tag" data-v-fff2c99a></span><span class="notice-text" data-v-fff2c99a>js</span></div></div><div class="panel-header mt-3" data-v-fff2c99a><i class="fas fa-gamepad" data-v-fff2c99a></i><span data-v-fff2c99a></span></div><div class="panel-content" data-v-fff2c99a><p class="instruction-text" data-v-fff2c99a> 1. AI<br data-v-fff2c99a> 2. Xx<br data-v-fff2c99a> 3. APP<br data-v-fff2c99a> 4.  </p></div></div></details></div></div></div>',1)),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',k,[(0,l.createElementVNode)('div',{class:'category-item',onClick:n[0]||(n[0]=e=>o('-23'))},[...n[9]||(n[9]=[(0,l.createElementVNode)('div',{class:'icon-wrapper'},[(0,l.createElementVNode)('i',{class:'fas fa-street-view'})],-1),(0,l.createElementVNode)('span',null,'',-1)])]),(0,l.createElementVNode)('div',{class:'category-item',onClick:n[1]||(n[1]=e=>o('--23'))},[...n[10]||(n[10]=[(0,l.createElementVNode)('div',{class:'icon-wrapper'},[(0,l.createElementVNode)('i',{class:'fas fa-mask'})],-1),(0,l.createElementVNode)('span',null,'',-1)])]),(0,l.createElementVNode)('div',{class:'category-item',onClick:n[2]||(n[2]=e=>o('-AV-23'))},[...n[11]||(n[11]=[(0,l.createElementVNode)('div',{class:'icon-wrapper'},[(0,l.createElementVNode)('i',{class:'fas fa-video'})],-1),(0,l.createElementVNode)('span',null,'AV',-1)])]),(0,l.createElementVNode)('div',{class:'category-item',onClick:n[3]||(n[3]=e=>o('--23'))},[...n[12]||(n[12]=[(0,l.createElementVNode)('div',{class:'icon-wrapper'},[(0,l.createElementVNode)('i',{class:'fas fa-camera-retro'})],-1),(0,l.createElementVNode)('span',null,'',-1)])]),(0,l.createElementVNode)('div',{class:'category-item',onClick:n[4]||(n[4]=e=>o('-23'))},[...n[13]||(n[13]=[(0,l.createElementVNode)('div',{class:'icon-wrapper'},[(0,l.createElementVNode)('i',{class:'fas fa-user-friends'})],-1),(0,l.createElementVNode)('span',null,'',-1)])]),(0,l.createElementVNode)('div',{class:'category-item',onClick:n[5]||(n[5]=e=>o('--23'))},[...n[14]||(n[14]=[(0,l.createElementVNode)('div',{class:'icon-wrapper'},[(0,l.createElementVNode)('i',{class:'fas fa-heart-broken'})],-1),(0,l.createElementVNode)('span',null,'',-1)])]),(0,l.createElementVNode)('div',{class:'category-item',onClick:n[6]||(n[6]=e=>o('--23'))},[...n[15]||(n[15]=[(0,l.createElementVNode)('div',{class:'icon-wrapper'},[(0,l.createElementVNode)('i',{class:'fas fa-briefcase'})],-1),(0,l.createElementVNode)('span',null,'',-1)])]),(0,l.createElementVNode)('div',{class:'category-item',onClick:n[7]||(n[7]=e=>o('--23'))},[...n[16]||(n[16]=[(0,l.createElementVNode)('div',{class:'icon-wrapper'},[(0,l.createElementVNode)('i',{class:'fas fa-users'})],-1),(0,l.createElementVNode)('span',null,'',-1)])])]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',w,[n[17]||(n[17]=(0,l.createElementVNode)('i',{class:'fas fa-search'},null,-1)),(0,l.withDirectives)((0,l.createElementVNode)('input',{'onUpdate:modelValue':n[8]||(n[8]=e=>t.value=e),placeholder:'AIXX',onKeyup:(0,l.withKeys)(c,['enter'])},null,544),[[l.vModelText,t.value]]),(0,l.createElementVNode)('button',{class:'search-btn',disabled:a.value,onClick:c},(0,l.toDisplayString)(a.value?'...':''),9,S)]),(0,l.createCommentVNode)('  '),(0,l.createElementVNode)('div',{class:'list-section'},[n[19]||(n[19]=(0,l.createElementVNode)('div',{class:'section-header'},[(0,l.createElementVNode)('h3',null,'')],-1)),(0,l.createElementVNode)('div',{class:'feature-button-grid'},[(0,l.createCommentVNode)(' DLC '),(0,l.createElementVNode)('div',{class:'feature-button-item'},[(0,l.createElementVNode)('button',{class:'dlc-button',title:'DLC',onClick:i},[...n[18]||(n[18]=[(0,l.createElementVNode)('div',{class:'dlc-icon'},[(0,l.createElementVNode)('i',{class:'fas fa-history'})],-1),(0,l.createElementVNode)('span',{class:'dlc-text'},'DLC:1995',-1),(0,l.createElementVNode)('div',{class:'dlc-badge'},'NEW',-1)])])])])])])]))}}),B=(0,h.A)(C,[['__scopeId','data-v-fff2c99a']]),D=(0,c.createRouter)({history:(0,c.createMemoryHistory)(),routes:[{path:'/',component:b,name:'SplashScreen'},{path:'/play',component:()=>Promise.resolve().then(a.bind(a,667)),name:'Play'},{path:'/home',component:B,name:'Home'},{path:'/discover',component:()=>Promise.resolve().then(a.bind(a,727)),name:'Discover'},{path:'/service',component:()=>Promise.resolve().then(a.bind(a,420)),name:'Service'},{path:'/shop/:id',component:()=>Promise.resolve().then(a.bind(a,308)),name:'ShopDetail',props:!0},{path:'/item/:id',component:()=>Promise.resolve().then(a.bind(a,228)),name:'ItemDetail',props:!0}],scrollBehavior:(e,t,a)=>a||{top:0}});D.onError(e=>{try{console.error('[Router] :',e)}catch{}try{'/home'!==D.currentRoute.value.path&&D.replace('/home').catch(()=>{})}catch{}});const A=D.push.bind(D);D.push=(...e)=>A(...e).catch(e=>{try{console.error('[Router] push :',e)}catch{}try{'/home'!==D.currentRoute.value.path&&D.replace('/home').catch(()=>{})}catch{}return Promise.resolve()});const M=D.replace.bind(D);D.replace=(...e)=>M(...e).catch(e=>{try{console.error('[Router] replace :',e)}catch{}return Promise.resolve()});const j=D,L={key:0,class:'error-boundary'},I={class:'error-content'},P=(0,l.defineComponent)({__name:'ErrorBoundary',setup(e){const t=(0,l.ref)(!1),a=(0,l.ref)(''),n=(0,l.ref)(null);function s(e){try{const l=e?.detail||{},s=l?.message||l?.error?.message||l?.reason?.message||('string'==typeof l?.reason?l.reason:'')||'';console.error('[] :',l),n.value=l?.error||l?.reason||new Error(s),t.value=!0,a.value=s}catch(e){}}(0,l.onErrorCaptured)(e=>(console.error('[] :',e),n.value=e,t.value=!0,a.value=e.message||'',console.log('[] '),!1)),(0,l.onMounted)(()=>{window.addEventListener('app-fatal-error',s)}),(0,l.onUnmounted)(()=>{window.removeEventListener('app-fatal-error',s)});const r=()=>{t.value=!1,n.value=null,a.value='',window.location.reload()};return(e,n)=>t.value?((0,l.openBlock)(),(0,l.createElementBlock)('div',L,[(0,l.createElementVNode)('div',I,[n[1]||(n[1]=(0,l.createElementVNode)('i',{class:'fas fa-exclamation-triangle'},null,-1)),n[2]||(n[2]=(0,l.createElementVNode)('h3',null,'',-1)),(0,l.createElementVNode)('p',null,(0,l.toDisplayString)(a.value),1),(0,l.createElementVNode)('button',{class:'retry-btn',onClick:r},[...n[0]||(n[0]=[(0,l.createElementVNode)('i',{class:'fas fa-redo'},null,-1),(0,l.createTextVNode)(' ',-1)])])])])):(0,l.renderSlot)(e.$slots,'default',{key:1})}}),T=(0,h.A)(P,[['__scopeId','data-v-157c6738']]),F={class:'z-50 flex h-full w-20 shrink-0 flex-col items-center space-y-6 border-r border-blue-500/20 bg-gradient-to-b from-slate-900/80 to-black/80 py-6 backdrop-blur-xl'},O={class:'flex flex-1 flex-col space-y-4'},J=['onClick','title'],R={key:0,class:'absolute top-1/2 -right-1 h-6 w-1 -translate-y-1/2 transform rounded-full bg-gradient-to-b from-blue-400 to-violet-500'},U={class:'mt-auto flex flex-col space-y-4 pb-4'},H=['title'],G=(0,l.defineComponent)({__name:'Sidebar',setup(e){const t=(0,c.useRouter)(),a=(0,c.useRoute)(),n=(0,l.ref)(!1),s=[{icon:'fas fa-gamepad',label:'Play',path:'/play'},{icon:'fas fa-home',label:'Home',path:'/home'},{icon:'fas fa-concierge-bell',label:'Service',path:'/service'},{icon:'fas fa-compass',label:'Discover',path:'/discover'}];function r(e){t.push(e)}function o(e){return a.path===e}function i(){n.value=!n.value,window.dispatchEvent(new CustomEvent('theme-change',{detail:{isDark:n.value}})),localStorage.setItem('app-theme',n.value?'dark':'light')}function d(e){n.value=e.detail.isDark}return(0,l.onMounted)(()=>{const e=localStorage.getItem('app-theme');n.value='dark'===e,window.addEventListener('theme-change',d)}),(0,l.onUnmounted)(()=>{window.removeEventListener('theme-change',d)}),(e,t)=>((0,l.openBlock)(),(0,l.createElementBlock)('div',F,[(0,l.createCommentVNode)(' Logo '),(0,l.createElementVNode)('div',{class:'flex h-12 w-12 shrink-0 cursor-pointer items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-violet-600 shadow-lg shadow-blue-500/25 transition-transform hover:scale-105',onClick:t[0]||(t[0]=e=>r('/play')),title:'Go to Play'},[...t[1]||(t[1]=[(0,l.createElementVNode)('div',{class:'h-6 w-6 rounded-sm bg-white'},null,-1)])]),(0,l.createCommentVNode)(' Menu Items '),(0,l.createElementVNode)('div',O,[((0,l.openBlock)(),(0,l.createElementBlock)(l.Fragment,null,(0,l.renderList)(s,e=>(0,l.createElementVNode)('button',{key:e.path,onClick:t=>r(e.path),title:e.label,class:(0,l.normalizeClass)(['group relative flex h-12 w-12 items-center justify-center rounded-xl transition-all duration-300',o(e.path)?'border border-blue-400/30 bg-gradient-to-br from-blue-500/20 to-violet-600/20 shadow-lg shadow-blue-500/20':'border border-slate-700/50 bg-slate-800/50 hover:border-blue-500/30 hover:bg-slate-700/50'])},[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)([e.icon,'text-lg transition-colors duration-300',o(e.path)?'text-blue-400':'text-slate-400 group-hover:text-blue-400'])},null,2),o(e.path)?((0,l.openBlock)(),(0,l.createElementBlock)('div',R)):(0,l.createCommentVNode)('v-if',!0)],10,J)),64))]),(0,l.createCommentVNode)(' Bottom Actions (Theme Toggle) '),(0,l.createElementVNode)('div',U,[(0,l.createElementVNode)('button',{onClick:i,class:'group relative flex h-12 w-12 shrink-0 items-center justify-center rounded-xl border border-slate-700/50 bg-slate-800/50 transition-all duration-300 hover:border-blue-500/30 hover:bg-slate-700/50',title:n.value?'Switch to Light Mode':'Switch to Dark Mode'},[(0,l.createElementVNode)('i',{class:(0,l.normalizeClass)(['fas',n.value?'fa-sun text-yellow-400':'fa-moon text-blue-400','text-lg transition-colors duration-300'])},null,2)],8,H)])]))}}),W=G,K=['data-theme'],Y={class:'flex h-full min-h-0 w-full'},q={class:'relative flex min-h-0 min-w-0 flex-1 flex-col'},X={class:'flex min-h-0 flex-1 flex-col'},Z=(0,l.defineComponent)({__name:'app',setup(e){const t=(0,l.ref)('light'),a=(0,c.useRoute)(),n=(0,l.computed)(()=>'/play'===a.path);let s=()=>{};function r(e){const a=e.detail.isDark?'dark':'light';t.value=a,document.documentElement.setAttribute('data-theme',a),'dark'===a?document.documentElement.classList.add('dark'):document.documentElement.classList.remove('dark'),console.log(`[] ${'dark'===a?'':''}`)}return(0,l.onMounted)(()=>{!function(){const e=localStorage.getItem('app-theme')||'light',a='dark'===e;t.value=e,document.documentElement.setAttribute('data-theme',e),a?document.documentElement.classList.add('dark'):document.documentElement.classList.remove('dark'),console.log(`[] ${a?'':''}`)}(),window.addEventListener('theme-change',r),s=(0,i.In)({minHeightPx:480})}),(0,l.onUnmounted)(()=>{window.removeEventListener('theme-change',r),s()}),(0,l.onErrorCaptured)(e=>(console.error('[] :',e),!1)),(e,a)=>{const s=(0,l.resolveComponent)('RouterView');return(0,l.openBlock)(),(0,l.createElementBlock)('div',{class:'relative flex h-full w-full flex-col overflow-hidden bg-slate-950 text-white selection:bg-blue-500/30','data-theme':t.value},[(0,l.createCommentVNode)(' Background Effects '),a[0]||(a[0]=(0,l.createElementVNode)('div',{class:'absolute inset-0 -z-20 bg-gradient-to-br from-slate-950 via-slate-900 to-black'},null,-1)),a[1]||(a[1]=(0,l.createElementVNode)('div',{class:'absolute inset-0 -z-10 bg-gradient-to-br from-blue-600/5 via-purple-600/5 to-orange-600/5'},null,-1)),a[2]||(a[2]=(0,l.createElementVNode)('div',{class:'absolute top-0 left-1/4 -z-10 h-96 w-96 animate-pulse rounded-full bg-blue-500/10 blur-3xl'},null,-1)),a[3]||(a[3]=(0,l.createElementVNode)('div',{class:'absolute right-1/4 bottom-0 -z-10 h-96 w-96 animate-pulse rounded-full bg-purple-500/10 blur-3xl delay-1000'},null,-1)),(0,l.createElementVNode)('div',Y,[(0,l.createCommentVNode)(' Sidebar (Play ) '),n.value?(0,l.createCommentVNode)('v-if',!0):((0,l.openBlock)(),(0,l.createBlock)(W,{key:0})),(0,l.createCommentVNode)(' Main Content Area '),(0,l.createElementVNode)('main',q,[(0,l.createVNode)(T,null,{default:(0,l.withCtx)(()=>[(0,l.createElementVNode)('div',X,[(0,l.createVNode)(s,null,{default:(0,l.withCtx)(({Component:e})=>[(0,l.createVNode)(l.Transition,{name:'fade'},{default:(0,l.withCtx)(()=>[e?((0,l.openBlock)(),(0,l.createBlock)((0,l.resolveDynamicComponent)(e),{key:0,class:'min-h-0 flex-1'})):(0,l.createCommentVNode)('v-if',!0)]),_:2},1024)]),_:1})])]),_:1})])])],8,K)}}}),Q=!1;class ee{prefix;constructor(e=''){this.prefix=e?`[${e}] `:''}formatArgs(e){return this.prefix?'string'==typeof e[0]?[`${this.prefix}${e[0]}`,...e.slice(1)]:[this.prefix,...e]:e}log(...e){Q}info(...e){Q}warn(...e){console.warn(...this.formatArgs(e))}error(...e){console.error(...this.formatArgs(e))}perf(...e){false}}new ee;const te=new ee(''),ae=new ee('MVU'),le=new ee('');try{window.APP_READY=!1}catch{}try{window.parent.APP_READY=!1}catch{}try{window.top.APP_READY=!1}catch{}window.$=s(),window.jQuery=s(),window._=o();const ne=(0,l.createApp)(Z);ne.use(j);const se=performance.now(),re=async()=>{try{const e=['/service','/play'];await Promise.all(e.map(e=>j.resolve(e))),te.log('')}catch(e){te.warn(':',e)}},oe=async()=>{try{const e=[];if(0===e.length)return;await Promise.all(e.map(e=>new Promise((t,a)=>{const l=document.createElement('link');l.rel='prefetch',l.href=e,l.onload=t,l.onerror=a,document.head.appendChild(l)}))),te.log('')}catch(e){te.warn(':',e)}},ce=async(e=5e3)=>'function'!=typeof window.waitGlobalInitialized?(ae.info(' MVU '),null):Promise.race([waitGlobalInitialized('Mvu'),new Promise((_,t)=>setTimeout(()=>t(new Error('MVU')),e))]).catch(e=>(ae.warn(':',e),null)),ie=async()=>{try{const e=Promise.all([ce(),re(),oe()]),[t]=await e;(()=>{try{return'1'===localStorage.getItem('app-perf-monitor')}catch{return!1}})()&&((()=>{try{new PerformanceObserver(e=>{const t=e.getEntries(),a=t[t.length-1];te.perf(`LCP: ${a.startTime.toFixed(2)}ms`,a)}).observe({type:'largest-contentful-paint',buffered:!0}),new PerformanceObserver(e=>{for(const t of e.getEntries())if('first-input'===t.entryType){const e=t,a=e.processingStart-e.startTime;te.perf(`FID: ${a.toFixed(2)}ms`,e)}}).observe({type:'first-input',buffered:!0});let e=0;const t=[];new PerformanceObserver(a=>{for(const l of a.getEntries())if('layout-shift'===l.entryType){const a=l;a.hadRecentInput||(t.push(a),e+=a.value,te.perf(`CLS: ${e.toFixed(4)}`,a))}}).observe({type:'layout-shift',buffered:!0}),new PerformanceObserver(e=>{for(const t of e.getEntries())t.duration>50&&te.perf(`: ${t.duration.toFixed(2)}ms`,t)}).observe({type:'longtask',buffered:!0}),te.log('Web Vitals')}catch(e){te.warn('Web Vitals:',e)}})(),(()=>{try{if('memory'in performance){const e=performance.memory;te.perf(`: ${(e.usedJSHeapSize/1024/1024).toFixed(2)}MB / ${(e.totalJSHeapSize/1024/1024).toFixed(2)}MB`),setInterval(()=>{const e=performance.memory,t=e.usedJSHeapSize/1024/1024,a=e.totalJSHeapSize/1024/1024,l=t/a*100,n=l.toFixed(1);(t>50||l>80)&&te.warn(`: ${t.toFixed(2)}MB/${a.toFixed(2)}MB (${n}%)`)},3e4),te.log('')}else te.log('performance.memory API')}catch(e){te.warn(':',e)}})());const a=performance.now()-se;te.log(`: ${a.toFixed(2)}ms`),t?le.log(`(${a.toFixed(0)}ms)`):le.warn(' (MVU)'),ne.mount('#app');try{window.APP_READY=!0}catch{}try{window.parent.APP_READY=!0}catch{}try{window.top.APP_READY=!0}catch{}try{'function'==typeof window.eventEmit&&void 0!==window.tavern_events&&window.eventEmit(window.tavern_events.APP_READY)}catch{}const l=performance.now()-se;te.log(`: ${l.toFixed(2)}ms`)}catch(e){le.error(':',e)}};s()(()=>{ie()}),s()(window).on('pagehide',()=>{const e=performance.now()-se;te.log(`: ${e.toFixed(2)}ms`),le.log('')}),window.addEventListener('unhandledrejection',e=>{le.error('Promise:',e.reason);try{window.dispatchEvent(new CustomEvent('app-fatal-error',{detail:{type:'unhandledrejection',reason:e.reason}}))}catch{}}),window.addEventListener('error',e=>{le.error('JavaScript:',e.error);try{window.dispatchEvent(new CustomEvent('app-fatal-error',{detail:{type:'error',error:e.error,message:e.message,filename:e.filename,lineno:e.lineno}}))}catch{}})})();
//# sourceMappingURL=index.js.map</script></body></html>